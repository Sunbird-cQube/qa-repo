{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specTransformer","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specTransformer","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":31429779,"millis":31.429779,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/transformer_validator.json')"}}],"line":5,"description":"","durationMillis":31.429779,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676454693600,"refId":"[1:5]","endTime":1676454693644,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec Transformer API","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":31.429779,"passedCount":1}]},{"result":{"nanos":678735,"millis":0.678735,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":493480,"millis":0.49348,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":934055,"millis":0.934055,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1746278,"millis":1.746278,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1005514,"millis":1.005514,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":6181245,"millis":6.181245,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1371124,"millis":1.371124,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":462392,"millis":0.462392,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":319620,"millis":0.31962,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":5313297,"millis":5.313297,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:33.680 [print] invalid \n"},{"result":{"nanos":2223247,"millis":2.223247,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:33.683 [print] must have required property 'ingestion_name' \n"},{"result":{"nanos":6616943,"millis":6.616943,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:33.690 [print] {\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":202936,"millis":0.202936,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":865500894,"millis":865.500894,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:33.955 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:34.548 response time in milliseconds: 581\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:34 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-XLRWP9tK+pgR1jYOFiVUXNRz1Ww\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"ingestion_name\"},\"message\":\"must have required property 'ingestion_name'\"}]}\n\n"},{"result":{"nanos":9611742,"millis":9.611742,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:34.566 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"ingestion_name\"\n      },\n      \"message\": \"must have required property 'ingestion_name'\"\n    }\n  ]\n}\n must have required property 'ingestion_name' \n"},{"result":{"nanos":58671145,"millis":58.671145,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":556204913,"millis":556.204913,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":515.209807,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'ingestion_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":683320,"millis":0.68332,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:34.666 remove failed: null\n"},{"result":{"nanos":762424,"millis":0.762424,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:34.666 remove failed: null\n"},{"result":{"nanos":228885,"millis":0.228885,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":88836,"millis":0.088836,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":373943322,"millis":373.943322,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:34.669 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:35.037 response time in milliseconds: 365\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:34 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-XLRWP9tK+pgR1jYOFiVUXNRz1Ww\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"ingestion_name\"},\"message\":\"must have required property 'ingestion_name'\"}]}\n\n"},{"result":{"nanos":20209490,"millis":20.20949,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":100938746,"millis":100.938746,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1134164,"millis":1.134164,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1215902,"millis":1.215902,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":28791144,"millis":28.791144,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":10775982,"millis":10.775982,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":1781046,"millis":1.781046,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1677504,"millis":1.677504,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":45.375742,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454695116,"refId":"[3:24]","endTime":1676454695162,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":45.375742,"passedCount":1}]},{"result":{"nanos":1031539,"millis":1.031539,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1049663,"millis":1.049663,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2313536,"millis":2.313536,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":12498713,"millis":12.498713,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1461333,"millis":1.461333,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":515.209807,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454694665,"refId":"[1:3]","endTime":1676454695181,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1517.53756,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing ingestion_name property ","startTime":1676454693654,"refId":"[2.1:30]","endTime":1676454695182,"exampleData":{"key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":507772,"millis":0.507772,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":340481,"millis":0.340481,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":512119,"millis":0.512119,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":634346,"millis":0.634346,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":687630,"millis":0.68763,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":219395,"millis":0.219395,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":224185,"millis":0.224185,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":173903,"millis":0.173903,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":149270,"millis":0.14927,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1137909,"millis":1.137909,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:35.192 [print] invalid \n"},{"result":{"nanos":1268028,"millis":1.268028,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:35.194 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1282522,"millis":1.282522,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:35.195 [print] {\n  \"ingestion_name\": \"\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":174375,"millis":0.174375,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":287785206,"millis":287.785206,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:35.197 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:35.479 response time in milliseconds: 278\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 202\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ca-Suqk7WemHCi7UAUQ5eY+bV1NFoQ\"\n{\"message\":[{\"instancePath\":\"\/ingestion_name\",\"schemaPath\":\"#\/properties\/ingestion_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":4176338,"millis":4.176338,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:35.487 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/ingestion_name\",\n      \"schemaPath\": \"#\/properties\/ingestion_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":6774499,"millis":6.774499,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":429451906,"millis":429.451906,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":379.405784,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1334491,"millis":1.334491,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:35.542 remove failed: null\n"},{"result":{"nanos":2521365,"millis":2.521365,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:35.544 remove failed: null\n"},{"result":{"nanos":330849,"millis":0.330849,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":229102,"millis":0.229102,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":298007321,"millis":298.007321,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:35.548 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:35.839 response time in milliseconds: 289\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 202\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ca-Suqk7WemHCi7UAUQ5eY+bV1NFoQ\"\n{\"message\":[{\"instancePath\":\"\/ingestion_name\",\"schemaPath\":\"#\/properties\/ingestion_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":617556,"millis":0.617556,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":62438264,"millis":62.438264,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1712053,"millis":1.712053,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1832483,"millis":1.832483,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":5146183,"millis":5.146183,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3877373,"millis":3.877373,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5968093,"millis":5.968093,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1412309,"millis":1.412309,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":19.948494,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454695884,"refId":"[3:24]","endTime":1676454695906,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":19.948494,"passedCount":1}]},{"result":{"nanos":3358621,"millis":3.358621,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1341953,"millis":1.341953,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1491134,"millis":1.491134,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4570777,"millis":4.570777,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3164351,"millis":3.164351,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":379.405784,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454695540,"refId":"[1:3]","endTime":1676454695923,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":735.499884,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by ingestion_name as empty string ","startTime":1676454695187,"refId":"[2.2:30]","endTime":1676454695925,"exampleData":{"ingestion_name":"","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":445102,"millis":0.445102,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":252847,"millis":0.252847,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":611198,"millis":0.611198,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":724304,"millis":0.724304,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1804933,"millis":1.804933,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":639194,"millis":0.639194,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":698283,"millis":0.698283,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":641008,"millis":0.641008,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":829971,"millis":0.829971,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2531142,"millis":2.531142,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:35.952 [print] invalid \n"},{"result":{"nanos":1889572,"millis":1.889572,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:35.955 [print] must have required property 'key_file' \n"},{"result":{"nanos":1762764,"millis":1.762764,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:35.957 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":267804,"millis":0.267804,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":293252800,"millis":293.2528,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:35.962 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 97\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:36.248 response time in milliseconds: 284\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 171\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ab-02HMqJ3CEGA1WdIiwLIY59Jmgq8\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"key_file\"},\"message\":\"must have required property 'key_file'\"}]}\n\n"},{"result":{"nanos":3359832,"millis":3.359832,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:36.254 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"key_file\"\n      },\n      \"message\": \"must have required property 'key_file'\"\n    }\n  ]\n}\n must have required property 'key_file' \n"},{"result":{"nanos":710402,"millis":0.710402,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":425038445,"millis":425.038445,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":383.418845,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'key_file'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3306604,"millis":3.306604,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:36.292 remove failed: null\n"},{"result":{"nanos":4491869,"millis":4.491869,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:36.297 remove failed: null\n"},{"result":{"nanos":944262,"millis":0.944262,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":736314,"millis":0.736314,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":317882251,"millis":317.882251,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:36.315 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 97\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:36.617 response time in milliseconds: 299\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 171\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ab-02HMqJ3CEGA1WdIiwLIY59Jmgq8\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"key_file\"},\"message\":\"must have required property 'key_file'\"}]}\n\n"},{"result":{"nanos":715433,"millis":0.715433,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":43214691,"millis":43.214691,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":885688,"millis":0.885688,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1099405,"millis":1.099405,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2569634,"millis":2.569634,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3330546,"millis":3.330546,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":859521,"millis":0.859521,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":714953,"millis":0.714953,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":9.459747,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454696653,"refId":"[3:24]","endTime":1676454696665,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":9.459747,"passedCount":1}]},{"result":{"nanos":609306,"millis":0.609306,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":755909,"millis":0.755909,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1029734,"millis":1.029734,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5602320,"millis":5.60232,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":4130152,"millis":4.130152,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":383.418845,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454696289,"refId":"[1:3]","endTime":1676454696679,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":735.459601,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing key_file property ","startTime":1676454695941,"refId":"[2.3:30]","endTime":1676454696681,"exampleData":{"ingestion_name":"event_school_statistics_students","program":"Scl_Stats","operation":"dataset"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":990869,"millis":0.990869,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":602349,"millis":0.602349,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1603387,"millis":1.603387,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1712402,"millis":1.712402,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1766373,"millis":1.766373,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":1037450,"millis":1.03745,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":2454547,"millis":2.454547,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":780440,"millis":0.78044,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":969402,"millis":0.969402,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3565411,"millis":3.565411,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:36.714 [print] invalid \n"},{"result":{"nanos":4869147,"millis":4.869147,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:36.719 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":7258718,"millis":7.258718,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:36.727 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":723956,"millis":0.723956,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":307354812,"millis":307.354812,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:36.736 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:37.035 response time in milliseconds: 298\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-VA7PWZ9JomstC1+IWdhpgXxU5wQ\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":1739965,"millis":1.739965,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:37.038 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/key_file\",\n      \"schemaPath\": \"#\/properties\/key_file\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":167630,"millis":0.16763,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":274421672,"millis":274.421672,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":255.539963,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2746433,"millis":2.746433,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:37.059 remove failed: null\n"},{"result":{"nanos":4472864,"millis":4.472864,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:37.063 remove failed: null\n"},{"result":{"nanos":168211,"millis":0.168211,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":89095,"millis":0.089095,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":235790993,"millis":235.790993,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:37.067 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:37.299 response time in milliseconds: 231\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:37 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-VA7PWZ9JomstC1+IWdhpgXxU5wQ\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":226905,"millis":0.226905,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":9330280,"millis":9.33028,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":245762,"millis":0.245762,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":241467,"millis":0.241467,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":655476,"millis":0.655476,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":804639,"millis":0.804639,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":176296,"millis":0.176296,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":122087,"millis":0.122087,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":2.245727,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454697306,"refId":"[3:24]","endTime":1676454697309,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":2.245727,"passedCount":1}]},{"result":{"nanos":116166,"millis":0.116166,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":109670,"millis":0.10967,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":127172,"millis":0.127172,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1409215,"millis":1.409215,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":952959,"millis":0.952959,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":255.539963,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454697056,"refId":"[1:3]","endTime":1676454697312,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":612.01853,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by key_file as empty string ","startTime":1676454696694,"refId":"[2.4:30]","endTime":1676454697313,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"","program":"Scl_Stats","operation":"dataset"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":160515,"millis":0.160515,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":103878,"millis":0.103878,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":245942,"millis":0.245942,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":292813,"millis":0.292813,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":331204,"millis":0.331204,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":172393,"millis":0.172393,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":229364,"millis":0.229364,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":217118,"millis":0.217118,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":205680,"millis":0.20568,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":745254,"millis":0.745254,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:37.323 [print] invalid \n"},{"result":{"nanos":1039681,"millis":1.039681,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:37.324 [print] must have required property 'program' \n"},{"result":{"nanos":932545,"millis":0.932545,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:37.325 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":134520,"millis":0.13452,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":387643896,"millis":387.643896,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:37.327 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"operation\":\"dataset\"}\n\n15:21:37.711 response time in milliseconds: 377\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:37 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 169\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"a9-dLMSUZijziVO9FGnvY0LQ+MYzFo\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"program\"},\"message\":\"must have required property 'program'\"}]}\n\n"},{"result":{"nanos":3388636,"millis":3.388636,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:37.717 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"program\"\n      },\n      \"message\": \"must have required property 'program'\"\n    }\n  ]\n}\n must have required property 'program' \n"},{"result":{"nanos":812385,"millis":0.812385,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":438961879,"millis":438.961879,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":410.227515,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'program'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3170605,"millis":3.170605,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:37.746 remove failed: null\n"},{"result":{"nanos":2998573,"millis":2.998573,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:37.749 remove failed: null\n"},{"result":{"nanos":403636,"millis":0.403636,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":323413,"millis":0.323413,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":348952955,"millis":348.952955,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:37.769 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"operation\":\"dataset\"}\n\n15:21:38.097 response time in milliseconds: 325\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:38 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 169\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"a9-dLMSUZijziVO9FGnvY0LQ+MYzFo\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"program\"},\"message\":\"must have required property 'program'\"}]}\n\n"},{"result":{"nanos":687945,"millis":0.687945,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":40855996,"millis":40.855996,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":737909,"millis":0.737909,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":894852,"millis":0.894852,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2895309,"millis":2.895309,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3001048,"millis":3.001048,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":786336,"millis":0.786336,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1818661,"millis":1.818661,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":10.134115,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454698129,"refId":"[3:24]","endTime":1676454698141,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":10.134115,"passedCount":1}]},{"result":{"nanos":702145,"millis":0.702145,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":852337,"millis":0.852337,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1024336,"millis":1.024336,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":7252651,"millis":7.252651,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3002923,"millis":3.002923,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":410.227515,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454697742,"refId":"[1:3]","endTime":1676454698156,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":835.617703,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing program property ","startTime":1676454697320,"refId":"[2.5:30]","endTime":1676454698157,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","operation":"dataset"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":652244,"millis":0.652244,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":400109,"millis":0.400109,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":827325,"millis":0.827325,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1053930,"millis":1.05393,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1049433,"millis":1.049433,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":640127,"millis":0.640127,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":911072,"millis":0.911072,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":784416,"millis":0.784416,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":967322,"millis":0.967322,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":4299463,"millis":4.299463,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:38.194 [print] invalid \n"},{"result":{"nanos":7093012,"millis":7.093012,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:38.201 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":4868442,"millis":4.868442,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:38.207 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":1330695,"millis":1.330695,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":608546314,"millis":608.546314,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:38.214 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 133\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"\",\"operation\":\"dataset\"}\n\n15:21:38.817 response time in milliseconds: 603\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:38 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 188\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bc-0IoRgpFtSjqfsu9KBo33VVSb69Q\"\n{\"message\":[{\"instancePath\":\"\/program\",\"schemaPath\":\"#\/properties\/program\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":852459,"millis":0.852459,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:38.818 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/program\",\n      \"schemaPath\": \"#\/properties\/program\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":359692,"millis":0.359692,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":334268721,"millis":334.268721,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":323.001766,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":638501,"millis":0.638501,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:38.826 remove failed: null\n"},{"result":{"nanos":951018,"millis":0.951018,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:38.827 remove failed: null\n"},{"result":{"nanos":215698,"millis":0.215698,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":112813,"millis":0.112813,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":280975372,"millis":280.975372,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:38.830 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 133\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"\",\"operation\":\"dataset\"}\n\n15:21:39.106 response time in milliseconds: 273\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:39 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 188\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bc-0IoRgpFtSjqfsu9KBo33VVSb69Q\"\n{\"message\":[{\"instancePath\":\"\/program\",\"schemaPath\":\"#\/properties\/program\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":612458,"millis":0.612458,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":32247899,"millis":32.247899,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":702437,"millis":0.702437,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1027618,"millis":1.027618,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1993475,"millis":1.993475,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3195244,"millis":3.195244,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":710650,"millis":0.71065,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":589419,"millis":0.589419,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":8.218843,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454699132,"refId":"[3:24]","endTime":1676454699142,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":8.218843,"passedCount":1}]},{"result":{"nanos":489542,"millis":0.489542,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":532878,"millis":0.532878,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":617889,"millis":0.617889,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2828777,"millis":2.828777,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2778921,"millis":2.778921,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":323.001766,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454698826,"refId":"[1:3]","endTime":1676454699151,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":968.904776,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by program as empty string ","startTime":1676454698176,"refId":"[2.6:30]","endTime":1676454699153,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"","operation":"dataset"},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":589506,"millis":0.589506,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":397713,"millis":0.397713,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":906922,"millis":0.906922,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1119042,"millis":1.119042,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1191977,"millis":1.191977,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":635688,"millis":0.635688,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":827900,"millis":0.8279,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":706629,"millis":0.706629,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":939853,"millis":0.939853,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3520428,"millis":3.520428,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:39.181 [print] invalid \n"},{"result":{"nanos":2804066,"millis":2.804066,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:39.184 [print] must have required property 'operation' \n"},{"result":{"nanos":10848849,"millis":10.848849,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:39.195 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\"\n}\n \n"},{"result":{"nanos":289692,"millis":0.289692,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":348343833,"millis":348.343833,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:39.200 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\"}\n\n15:21:39.542 response time in milliseconds: 340\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:39 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 173\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ad-t5Wpg96vxXCNNFI0Nynk2lp8uII\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"operation\"},\"message\":\"must have required property 'operation'\"}]}\n\n"},{"result":{"nanos":3437874,"millis":3.437874,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:39.548 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"operation\"\n      },\n      \"message\": \"must have required property 'operation'\"\n    }\n  ]\n}\n must have required property 'operation' \n"},{"result":{"nanos":651391,"millis":0.651391,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":370913763,"millis":370.913763,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":344.418695,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats"},"testcase_type":"invalid","exp_msg":"must have required property 'operation'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2101556,"millis":2.101556,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:39.575 remove failed: null\n"},{"result":{"nanos":1924116,"millis":1.924116,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:39.578 remove failed: null\n"},{"result":{"nanos":309810,"millis":0.30981,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":242532,"millis":0.242532,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":313452461,"millis":313.452461,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:39.584 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\"}\n\n15:21:39.890 response time in milliseconds: 304\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:39 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 173\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ad-t5Wpg96vxXCNNFI0Nynk2lp8uII\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"operation\"},\"message\":\"must have required property 'operation'\"}]}\n\n"},{"result":{"nanos":518399,"millis":0.518399,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":23018429,"millis":23.018429,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":368877,"millis":0.368877,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":486081,"millis":0.486081,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1242035,"millis":1.242035,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1349412,"millis":1.349412,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":354259,"millis":0.354259,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":293808,"millis":0.293808,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":4.094472,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454699911,"refId":"[3:24]","endTime":1676454699916,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":4.094472,"passedCount":1}]},{"result":{"nanos":204730,"millis":0.20473,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":252865,"millis":0.252865,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":344010,"millis":0.34401,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1003487,"millis":1.003487,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1046300,"millis":1.0463,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":344.418695,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454699573,"refId":"[1:3]","endTime":1676454699920,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":748.125126,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing operation property ","startTime":1676454699167,"refId":"[2.7:30]","endTime":1676454699920,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":298140,"millis":0.29814,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":168393,"millis":0.168393,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":319075,"millis":0.319075,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":631144,"millis":0.631144,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":637234,"millis":0.637234,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":276702,"millis":0.276702,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":398907,"millis":0.398907,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":328214,"millis":0.328214,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":291555,"millis":0.291555,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2177575,"millis":2.177575,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:39.932 [print] invalid \n"},{"result":{"nanos":790200,"millis":0.7902,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:39.933 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":734213,"millis":0.734213,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:39.934 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"\"\n}\n \n"},{"result":{"nanos":113769,"millis":0.113769,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":327815259,"millis":327.815259,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:39.936 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"\"}\n\n15:21:40.261 response time in milliseconds: 322\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:40 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 192\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c0-YGVNxRy\/gDZVeY2o\/2SzGGHwE\/8\"\n{\"message\":[{\"instancePath\":\"\/operation\",\"schemaPath\":\"#\/properties\/operation\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":2816240,"millis":2.81624,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:40.265 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/operation\",\n      \"schemaPath\": \"#\/properties\/operation\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":3919570,"millis":3.91957,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":553754138,"millis":553.754138,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":527.837754,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":""},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2054117,"millis":2.054117,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:40.293 remove failed: null\n"},{"result":{"nanos":1969236,"millis":1.969236,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:40.295 remove failed: null\n"},{"result":{"nanos":1764672,"millis":1.764672,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":2233787,"millis":2.233787,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":480497338,"millis":480.497338,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:40.307 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"\"}\n\n15:21:40.779 response time in milliseconds: 467\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:40 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 192\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c0-YGVNxRy\/gDZVeY2o\/2SzGGHwE\/8\"\n{\"message\":[{\"instancePath\":\"\/operation\",\"schemaPath\":\"#\/properties\/operation\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":621381,"millis":0.621381,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":31731676,"millis":31.731676,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":597795,"millis":0.597795,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":2139338,"millis":2.139338,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1908608,"millis":1.908608,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2270025,"millis":2.270025,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":501751,"millis":0.501751,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":403433,"millis":0.403433,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":7.82095,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454700804,"refId":"[3:24]","endTime":1676454700813,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":7.82095,"passedCount":1}]},{"result":{"nanos":372963,"millis":0.372963,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":362959,"millis":0.362959,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":824762,"millis":0.824762,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2025279,"millis":2.025279,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3379584,"millis":3.379584,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":527.837754,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454700291,"refId":"[1:3]","endTime":1676454700821,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":895.470328,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by operation as empty string ","startTime":1676454699925,"refId":"[2.8:30]","endTime":1676454700824,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":""},"exampleIndex":7},{"sectionIndex":1,"stepResults":[{"result":{"nanos":836437,"millis":0.836437,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":464032,"millis":0.464032,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":704725,"millis":0.704725,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":806444,"millis":0.806444,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":825272,"millis":0.825272,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":460904,"millis":0.460904,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":671974,"millis":0.671974,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":620896,"millis":0.620896,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":623067,"millis":0.623067,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":16054173,"millis":16.054173,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:40.862 [print] invalid \n"},{"result":{"nanos":2284348,"millis":2.284348,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:40.865 [print] Invalid dataset name \n"},{"result":{"nanos":3004996,"millis":3.004996,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:40.868 [print] {\n  \"ingestion_name\": \"qa\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":511442,"millis":0.511442,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":309164839,"millis":309.164839,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:40.876 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 112\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"qa\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:41.177 response time in milliseconds: 298\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:41 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-1GgN+nKd959IQV9JoEJ+K\/sKtYw\"\n{\"message\":\"Invalid dataset name\"}\n\n"},{"result":{"nanos":2685748,"millis":2.685748,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:41.181 [print] 400 {\n  \"message\": \"Invalid dataset name\"\n}\n Invalid dataset name \n"},{"result":{"nanos":631203,"millis":0.631203,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":393648054,"millis":393.648054,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":368.119799,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"qa","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"Invalid dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2559582,"millis":2.559582,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:41.209 remove failed: null\n"},{"result":{"nanos":2346529,"millis":2.346529,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:41.211 remove failed: null\n"},{"result":{"nanos":383719,"millis":0.383719,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":283420,"millis":0.28342,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":334170542,"millis":334.170542,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:41.219 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 112\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"qa\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:41.546 response time in milliseconds: 325\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:41 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-1GgN+nKd959IQV9JoEJ+K\/sKtYw\"\n{\"message\":\"Invalid dataset name\"}\n\n"},{"result":{"nanos":343739,"millis":0.343739,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":26123885,"millis":26.123885,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":309838,"millis":0.309838,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":317544,"millis":0.317544,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":558629,"millis":0.558629,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":546125,"millis":0.546125,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":14112630,"millis":14.11263,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":6.2773,"callArg":{"actual_output":"Invalid dataset name","expected_output":"Invalid dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2097474,"millis":2.097474,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:21:41.568 [print] Invalid dataset name \n"},{"result":{"nanos":3214467,"millis":3.214467,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:21:41.571 [print] Invalid dataset name \n"},{"result":{"nanos":965359,"millis":0.965359,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":6.2773,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454701566,"refId":"[1:4]","endTime":1676454701572,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":444137,"millis":0.444137,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":16.288903,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454701556,"refId":"[3:24]","endTime":1676454701573,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":16.288903,"passedCount":1}]},{"result":{"nanos":334308,"millis":0.334308,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":182580,"millis":0.18258,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":123847,"millis":0.123847,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":676098,"millis":0.676098,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":591550,"millis":0.59155,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":368.119799,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454701206,"refId":"[1:3]","endTime":1676454701576,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":733.998554,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by providing invalid ingestion_name ","startTime":1676454700837,"refId":"[2.9:30]","endTime":1676454701576,"exampleData":{"ingestion_name":"qa","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":8},{"sectionIndex":1,"stepResults":[{"result":{"nanos":409007,"millis":0.409007,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":310293,"millis":0.310293,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":514645,"millis":0.514645,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":697904,"millis":0.697904,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":538191,"millis":0.538191,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":130041,"millis":0.130041,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":259650,"millis":0.25965,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":183362,"millis":0.183362,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":372289,"millis":0.372289,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":715968,"millis":0.715968,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:41.587 [print] invalid \n"},{"result":{"nanos":565261,"millis":0.565261,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:41.587 [print] must match pattern \"^.*.(csv)$\" \n"},{"result":{"nanos":653423,"millis":0.653423,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:41.588 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":93036,"millis":0.093036,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":504879054,"millis":504.879054,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:41.590 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 138\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:42.093 response time in milliseconds: 502\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:42 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 187\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bb-6jHb1I3Qj0utJJJC\/XxEp7dkdiY\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/pattern\",\"keyword\":\"pattern\",\"params\":{\"pattern\":\"^.*.(csv)$\"},\"message\":\"must match pattern \\\"^.*.(csv)$\\\"\"}]}\n\n"},{"result":{"nanos":681312,"millis":0.681312,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:42.094 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/key_file\",\n      \"schemaPath\": \"#\/properties\/key_file\/pattern\",\n      \"keyword\": \"pattern\",\n      \"params\": {\n        \"pattern\": \"^.*.(csv)$\"\n      },\n      \"message\": \"must match pattern \\\"^.*.(csv)$\\\"\"\n    }\n  ]\n}\n must match pattern \"^.*.(csv)$\" \n"},{"result":{"nanos":125101,"millis":0.125101,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":743459302,"millis":743.459302,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":735.020629,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must match pattern \"^.*.(csv)$\""},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":377259,"millis":0.377259,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:42.102 remove failed: null\n"},{"result":{"nanos":321786,"millis":0.321786,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:42.102 remove failed: null\n"},{"result":{"nanos":114820,"millis":0.11482,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":47483,"millis":0.047483,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":692157126,"millis":692.157126,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:42.103 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 138\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:21:42.723 response time in milliseconds: 616\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:42 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 187\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bb-6jHb1I3Qj0utJJJC\/XxEp7dkdiY\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/pattern\",\"keyword\":\"pattern\",\"params\":{\"pattern\":\"^.*.(csv)$\"},\"message\":\"must match pattern \\\"^.*.(csv)$\\\"\"}]}\n\n"},{"result":{"nanos":1856906,"millis":1.856906,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":33245056,"millis":33.245056,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":227164,"millis":0.227164,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":234563,"millis":0.234563,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":5798197,"millis":5.798197,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1444559,"millis":1.444559,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":4077535,"millis":4.077535,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1047819,"millis":1.047819,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":12.829837,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454702816,"refId":"[3:24]","endTime":1676454702830,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":12.829837,"passedCount":1}]},{"result":{"nanos":814306,"millis":0.814306,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1069496,"millis":1.069496,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1328338,"millis":1.328338,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1694703,"millis":1.694703,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1993350,"millis":1.99335,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":735.020629,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454702101,"refId":"[1:3]","endTime":1676454702837,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1254.587839,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by providing without csv file as extention ","startTime":1676454701581,"refId":"[2.10:30]","endTime":1676454702838,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping","program":"Scl_Stats","operation":"dataset"},"exampleIndex":9},{"sectionIndex":1,"stepResults":[{"result":{"nanos":619321,"millis":0.619321,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":535498,"millis":0.535498,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":3418572,"millis":3.418572,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":631134,"millis":0.631134,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":674192,"millis":0.674192,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":152689,"millis":0.152689,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":246470,"millis":0.24647,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":106219,"millis":0.106219,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":102682,"millis":0.102682,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1727695,"millis":1.727695,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:42.855 [print] invalid \n"},{"result":{"nanos":1608189,"millis":1.608189,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:42.857 [print] Invalid program name \n"},{"result":{"nanos":6538347,"millis":6.538347,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:42.863 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"QA!@##\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":86352,"millis":0.086352,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":882104768,"millis":882.104768,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:42.865 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 139\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"QA!@##\",\"operation\":\"dataset\"}\n\n15:21:43.745 response time in milliseconds: 876\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:43 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-OG7bfaRGxTkydROwSWP2BuCTrlQ\"\n{\"message\":\"Invalid program name\"}\n\n"},{"result":{"nanos":6813316,"millis":6.813316,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:43.752 [print] 400 {\n  \"message\": \"Invalid program name\"\n}\n Invalid program name \n"},{"result":{"nanos":4268292,"millis":4.268292,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":635193289,"millis":635.193289,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":608.920159,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"QA!@##","operation":"dataset"},"testcase_type":"invalid","exp_msg":"Invalid program name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2399840,"millis":2.39984,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:43.784 remove failed: null\n"},{"result":{"nanos":1951631,"millis":1.951631,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:43.786 remove failed: null\n"},{"result":{"nanos":298116,"millis":0.298116,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":246408,"millis":0.246408,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":570402213,"millis":570.402213,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:43.794 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 139\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"QA!@##\",\"operation\":\"dataset\"}\n\n15:21:44.358 response time in milliseconds: 562\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:44 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-OG7bfaRGxTkydROwSWP2BuCTrlQ\"\n{\"message\":\"Invalid program name\"}\n\n"},{"result":{"nanos":251258,"millis":0.251258,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":31274804,"millis":31.274804,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":342261,"millis":0.342261,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":323832,"millis":0.323832,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":586396,"millis":0.586396,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":670724,"millis":0.670724,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":14748889,"millis":14.748889,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":4.097639,"callArg":{"actual_output":"Invalid program name","expected_output":"Invalid program name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2632578,"millis":2.632578,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:21:44.387 [print] Invalid program name \n"},{"result":{"nanos":1183012,"millis":1.183012,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:21:44.389 [print] Invalid program name \n"},{"result":{"nanos":282049,"millis":0.282049,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":4.097639,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454704385,"refId":"[1:4]","endTime":1676454704389,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":203883,"millis":0.203883,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":16.875985,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454704372,"refId":"[3:24]","endTime":1676454704390,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":16.875985,"passedCount":1}]},{"result":{"nanos":125303,"millis":0.125303,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":140699,"millis":0.140699,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":131245,"millis":0.131245,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":931665,"millis":0.931665,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":766977,"millis":0.766977,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":608.920159,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454703781,"refId":"[1:3]","endTime":1676454704392,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1544.827025,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by invalid program name ","startTime":1676454702840,"refId":"[2.11:30]","endTime":1676454704393,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"QA!@##","operation":"dataset"},"exampleIndex":10},{"sectionIndex":1,"stepResults":[{"result":{"nanos":338547,"millis":0.338547,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":116380,"millis":0.11638,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":269632,"millis":0.269632,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":310487,"millis":0.310487,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":302228,"millis":0.302228,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":219472,"millis":0.219472,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":215360,"millis":0.21536,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":197719,"millis":0.197719,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":222246,"millis":0.222246,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":660834,"millis":0.660834,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:21:44.401 [print] invalid \n"},{"result":{"nanos":532868,"millis":0.532868,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:21:44.402 [print] Invalid operation type \n"},{"result":{"nanos":644697,"millis":0.644697,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:21:44.402 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"data\/\"\n}\n \n"},{"result":{"nanos":102535,"millis":0.102535,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":820512488,"millis":820.512488,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:21:44.404 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"data\\\/\"}\n\n15:21:45.222 response time in milliseconds: 815\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:45 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-gyUzWpv2zHo29BdvufzSTRJYgr4\"\n{\"message\":\"Invalid operation type\"}\n\n"},{"result":{"nanos":2109626,"millis":2.109626,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:21:45.225 [print] 400 {\n  \"message\": \"Invalid operation type\"\n}\n Invalid operation type \n"},{"result":{"nanos":489537,"millis":0.489537,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":816173479,"millis":816.173479,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":795.294427,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"data\/"},"testcase_type":"invalid","exp_msg":"Invalid operation type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1047008,"millis":1.047008,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:21:45.247 remove failed: null\n"},{"result":{"nanos":862536,"millis":0.862536,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:21:45.248 remove failed: null\n"},{"result":{"nanos":243383,"millis":0.243383,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":127159,"millis":0.127159,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":723018864,"millis":723.018864,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:21:45.251 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"data\\\/\"}\n\n15:21:45.970 response time in milliseconds: 717\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:51:45 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-gyUzWpv2zHo29BdvufzSTRJYgr4\"\n{\"message\":\"Invalid operation type\"}\n\n"},{"result":{"nanos":440307,"millis":0.440307,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":67796602,"millis":67.796602,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":331434,"millis":0.331434,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":381059,"millis":0.381059,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1152039,"millis":1.152039,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1171605,"millis":1.171605,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":16830909,"millis":16.830909,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":4.831818,"callArg":{"actual_output":"Invalid operation type","expected_output":"Invalid operation type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2381356,"millis":2.381356,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:21:46.036 [print] Invalid operation type \n"},{"result":{"nanos":1952023,"millis":1.952023,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:21:46.039 [print] Invalid operation type \n"},{"result":{"nanos":498439,"millis":0.498439,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":4.831818,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454706034,"refId":"[1:4]","endTime":1676454706039,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":213094,"millis":0.213094,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":20.08014,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454706019,"refId":"[3:24]","endTime":1676454706040,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":20.08014,"passedCount":1}]},{"result":{"nanos":134764,"millis":0.134764,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":118677,"millis":0.118677,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":118330,"millis":0.11833,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":818380,"millis":0.81838,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":568417,"millis":0.568417,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":795.294427,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454705245,"refId":"[1:3]","endTime":1676454706042,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1643.418135,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by invalid operation ","startTime":1676454704396,"refId":"[2.12:30]","endTime":1676454706042,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"data\/"},"exampleIndex":11}],"callDepth":0,"name":"Test Spec Transformer API","description":"","resultDate":"2023-02-15 03:21:46 pm","durationMillis":12225.465061,"passedCount":12}