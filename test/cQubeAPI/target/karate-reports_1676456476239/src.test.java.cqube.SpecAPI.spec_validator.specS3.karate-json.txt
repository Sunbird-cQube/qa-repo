{"failedCount":1,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":34293426,"millis":34.293426,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/s3_validation.json')"}}],"line":5,"description":"","durationMillis":34.293426,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676456410664,"refId":"[1:5]","endTime":1676456410712,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":34.293426,"passedCount":1}]},{"result":{"nanos":818322,"millis":0.818322,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":534517,"millis":0.534517,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":911422,"millis":0.911422,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1602259,"millis":1.602259,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1092206,"millis":1.092206,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":8876095,"millis":8.876095,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1472143,"millis":1.472143,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":456106,"millis":0.456106,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":427090,"millis":0.42709,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":5254252,"millis":5.254252,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:10.749 [print] invalid \n"},{"result":{"nanos":2094326,"millis":2.094326,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:10.752 [print] must have required property 'scheduled_at' \n"},{"result":{"nanos":4886258,"millis":4.886258,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:10.757 [print] {\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":246230,"millis":0.24623,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":777913641,"millis":777.913641,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:11.001 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n15:50:11.534 response time in milliseconds: 526\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:11 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":3534152,"millis":3.534152,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:11.539 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_at\"\n      },\n      \"message\": \"must have required property 'scheduled_at'\"\n    }\n  ]\n}\n must have required property 'scheduled_at' \n"},{"result":{"nanos":26826153,"millis":26.826153,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":524862258,"millis":524.862258,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":479.220829,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_at'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1092854,"millis":1.092854,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:11.611 remove failed: null\n"},{"result":{"nanos":857147,"millis":0.857147,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:11.612 remove failed: null\n"},{"result":{"nanos":335267,"millis":0.335267,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":254039,"millis":0.254039,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":299304819,"millis":299.304819,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:11.615 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n15:50:11.909 response time in milliseconds: 290\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:11 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":16288067,"millis":16.288067,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":141701195,"millis":141.701195,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1094559,"millis":1.094559,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1176498,"millis":1.176498,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":31204918,"millis":31.204918,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":8625150,"millis":8.62515,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":2594015,"millis":2.594015,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1634087,"millis":1.634087,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":46.329227,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456412006,"refId":"[3:24]","endTime":1676456412071,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":46.329227,"passedCount":1}]},{"result":{"nanos":1679435,"millis":1.679435,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1738472,"millis":1.738472,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2397075,"millis":2.397075,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":11978344,"millis":11.978344,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1594115,"millis":1.594115,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":479.220829,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456411610,"refId":"[1:3]","endTime":1676456412091,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1361.80743,"failed":false,"executorName":"main","name":"Verify the spec s3 api with invalid request body","startTime":1676456410720,"refId":"[2.1:30]","endTime":1676456412092,"exampleData":{"scheduled_type":"Archive | Error"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":656641,"millis":0.656641,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":439020,"millis":0.43902,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":717420,"millis":0.71742,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":928304,"millis":0.928304,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":3320309,"millis":3.320309,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":267835,"millis":0.267835,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":302385,"millis":0.302385,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":299233,"millis":0.299233,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":297462,"millis":0.297462,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1529630,"millis":1.52963,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:12.109 [print] invalid \n"},{"result":{"nanos":5994959,"millis":5.994959,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:12.113 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":2120509,"millis":2.120509,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:12.118 [print] {\n  \"scheduled_at\": \" \",\n  \"scheduled_type\": \"Archive\"\n}\n \n"},{"result":{"nanos":215485,"millis":0.215485,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":348851216,"millis":348.851216,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:12.120 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive\"}\n\n15:50:12.463 response time in milliseconds: 341\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":3861590,"millis":3.86159,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:12.471 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_at\",\n      \"schemaPath\": \"#\/properties\/scheduled_at\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":822910,"millis":0.82291,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":524371720,"millis":524.37172,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":480.326045,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":" ","scheduled_type":"Archive"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14064749,"millis":14.064749,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:12.528 remove failed: null\n"},{"result":{"nanos":4633739,"millis":4.633739,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:12.533 remove failed: null\n"},{"result":{"nanos":1094255,"millis":1.094255,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":579976,"millis":0.579976,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":436049281,"millis":436.049281,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:12.542 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive\"}\n\n15:50:12.970 response time in milliseconds: 422\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":412501,"millis":0.412501,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":17913736,"millis":17.913736,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":347803,"millis":0.347803,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":551978,"millis":0.551978,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":945051,"millis":0.945051,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1463629,"millis":1.463629,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":462811,"millis":0.462811,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":381057,"millis":0.381057,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":4.152329,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456412985,"refId":"[3:24]","endTime":1676456412990,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":4.152329,"passedCount":1}]},{"result":{"nanos":1288930,"millis":1.28893,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":308933,"millis":0.308933,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":395930,"millis":0.39593,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2056964,"millis":2.056964,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1527051,"millis":1.527051,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":480.326045,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456412513,"refId":"[1:3]","endTime":1676456412996,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":894.996628,"failed":false,"executorName":"main","name":"Verify the spec s3 api with empty scheduled property in the request body","startTime":1676456412096,"refId":"[2.2:30]","endTime":1676456412997,"exampleData":{"scheduled_at":" ","scheduled_type":"Archive"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":197101,"millis":0.197101,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":76814,"millis":0.076814,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":204129,"millis":0.204129,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":232584,"millis":0.232584,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":641127,"millis":0.641127,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":183931,"millis":0.183931,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":263379,"millis":0.263379,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":177294,"millis":0.177294,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":157925,"millis":0.157925,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1054281,"millis":1.054281,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:13.007 [print] invalid \n"},{"result":{"nanos":1063549,"millis":1.063549,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:13.008 [print] Unexpected end of expression \n"},{"result":{"nanos":1497610,"millis":1.49761,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:13.009 [print] {\n  \"scheduled_at\": \"scheduled\",\n  \"scheduled_type\": \"Error\"\n}\n \n"},{"result":{"nanos":165772,"millis":0.165772,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":377353642,"millis":377.353642,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:13.023 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Error\"}\n\n15:50:13.384 response time in milliseconds: 359\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":3215627,"millis":3.215627,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:13.390 [print] 400 {\n  \"message\": \"Unexpected end of expression\"\n}\n Unexpected end of expression \n"},{"result":{"nanos":635697,"millis":0.635697,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":549481196,"millis":549.481196,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":507.106825,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"scheduled","scheduled_type":"Error"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2080194,"millis":2.080194,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:13.432 remove failed: null\n"},{"result":{"nanos":2468170,"millis":2.46817,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:13.435 remove failed: null\n"},{"result":{"nanos":430918,"millis":0.430918,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":436567,"millis":0.436567,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":399200021,"millis":399.200021,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:13.442 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Error\"}\n\n15:50:13.833 response time in milliseconds: 387\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":784253,"millis":0.784253,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":94299873,"millis":94.299873,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":871431,"millis":0.871431,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":868593,"millis":0.868593,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1793798,"millis":1.793798,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3055295,"millis":3.055295,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":46934414,"millis":46.934414,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":13.306977,"callArg":{"actual_output":"Unexpected end of expression","expected_output":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":6035818,"millis":6.035818,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:50:13.922 [print] Unexpected end of expression \n"},{"result":{"nanos":5663163,"millis":5.663163,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:50:13.928 [print] Unexpected end of expression \n"},{"result":{"nanos":1607996,"millis":1.607996,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":13.306977,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456413916,"refId":"[1:4]","endTime":1676456413930,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":638990,"millis":0.63899,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":54.162521,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456413875,"refId":"[3:24]","endTime":1676456413932,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":54.162521,"passedCount":1}]},{"result":{"nanos":391268,"millis":0.391268,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":406596,"millis":0.406596,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":455570,"millis":0.45557,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3777113,"millis":3.777113,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2376282,"millis":2.376282,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":507.106825,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456413430,"refId":"[1:3]","endTime":1676456413940,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":936.601658,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676456413003,"refId":"[2.3:30]","endTime":1676456413941,"exampleData":{"scheduled_at":"scheduled","scheduled_type":"Error"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":440712,"millis":0.440712,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":189551,"millis":0.189551,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":432798,"millis":0.432798,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":529415,"millis":0.529415,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":837047,"millis":0.837047,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":408650,"millis":0.40865,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1286874,"millis":1.286874,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":515722,"millis":0.515722,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":349828,"millis":0.349828,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1884683,"millis":1.884683,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:13.960 [print] invalid \n"},{"result":{"nanos":3899696,"millis":3.899696,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:13.964 [print] Unexpected end of expression \n"},{"result":{"nanos":1675769,"millis":1.675769,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:13.966 [print] {\n  \"scheduled_at\": \"123445\",\n  \"scheduled_type\": \"Archive\"\n}\n \n"},{"result":{"nanos":179166,"millis":0.179166,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":258226377,"millis":258.226377,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:13.969 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive\"}\n\n15:50:14.222 response time in milliseconds: 251\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":2690863,"millis":2.690863,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:14.227 [print] 400 {\n  \"message\": \"Unexpected end of expression\"\n}\n Unexpected end of expression \n"},{"result":{"nanos":553184,"millis":0.553184,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":490062123,"millis":490.062123,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":451.618584,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"123445","scheduled_type":"Archive"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2946855,"millis":2.946855,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:14.261 remove failed: null\n"},{"result":{"nanos":3302304,"millis":3.302304,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:14.264 remove failed: null\n"},{"result":{"nanos":457632,"millis":0.457632,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":348651,"millis":0.348651,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":345066789,"millis":345.066789,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:14.272 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive\"}\n\n15:50:14.608 response time in milliseconds: 333\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":811313,"millis":0.811313,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":85997618,"millis":85.997618,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":724455,"millis":0.724455,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1344447,"millis":1.344447,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1679217,"millis":1.679217,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2388477,"millis":2.388477,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":49965069,"millis":49.965069,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":13.155987,"callArg":{"actual_output":"Unexpected end of expression","expected_output":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8176043,"millis":8.176043,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:50:14.691 [print] Unexpected end of expression \n"},{"result":{"nanos":3722923,"millis":3.722923,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:50:14.695 [print] Unexpected end of expression \n"},{"result":{"nanos":1257021,"millis":1.257021,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":13.155987,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456414683,"refId":"[1:4]","endTime":1676456414697,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":591121,"millis":0.591121,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":56.692786,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456414640,"refId":"[3:24]","endTime":1676456414698,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":56.692786,"passedCount":1}]},{"result":{"nanos":566574,"millis":0.566574,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":526412,"millis":0.526412,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":491775,"millis":0.491775,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4271663,"millis":4.271663,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":6830998,"millis":6.830998,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":451.618584,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456414257,"refId":"[1:3]","endTime":1676456414713,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":764.162458,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676456413950,"refId":"[2.4:30]","endTime":1676456414719,"exampleData":{"scheduled_at":"123445","scheduled_type":"Archive"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":413730,"millis":0.41373,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":285205,"millis":0.285205,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":937623,"millis":0.937623,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":803204,"millis":0.803204,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":784726,"millis":0.784726,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":499023,"millis":0.499023,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":653017,"millis":0.653017,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":548393,"millis":0.548393,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":522745,"millis":0.522745,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1559411,"millis":1.559411,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:14.750 [print] invalid \n"},{"result":{"nanos":2241023,"millis":2.241023,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:14.753 [print] must have required property 'scheduled_type' \n"},{"result":{"nanos":4029777,"millis":4.029777,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:14.758 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\"\n}\n \n"},{"result":{"nanos":244800,"millis":0.2448,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":300373063,"millis":300.373063,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:14.762 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n15:50:15.056 response time in milliseconds: 291\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":4260431,"millis":4.260431,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:15.063 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_type\"\n      },\n      \"message\": \"must have required property 'scheduled_type'\"\n    }\n  ]\n}\n must have required property 'scheduled_type' \n"},{"result":{"nanos":968508,"millis":0.968508,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":472021140,"millis":472.02114,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":434.644523,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_type'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2608363,"millis":2.608363,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:15.095 remove failed: null\n"},{"result":{"nanos":2221249,"millis":2.221249,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:15.097 remove failed: null\n"},{"result":{"nanos":818062,"millis":0.818062,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":357563,"millis":0.357563,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":371837869,"millis":371.837869,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:15.106 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n15:50:15.468 response time in milliseconds: 358\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":734221,"millis":0.734221,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":35834843,"millis":35.834843,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":716366,"millis":0.716366,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":929818,"millis":0.929818,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3737019,"millis":3.737019,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3511662,"millis":3.511662,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":922943,"millis":0.922943,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":717553,"millis":0.717553,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":10.535361,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456415496,"refId":"[3:24]","endTime":1676456415508,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":10.535361,"passedCount":1}]},{"result":{"nanos":626670,"millis":0.62667,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":682938,"millis":0.682938,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":965748,"millis":0.965748,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4173270,"millis":4.17327,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":13783727,"millis":13.783727,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":434.644523,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456415092,"refId":"[1:3]","endTime":1676456415530,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":791.145819,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type in the request body","startTime":1676456414736,"refId":"[2.5:30]","endTime":1676456415537,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":754655,"millis":0.754655,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":319506,"millis":0.319506,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":591563,"millis":0.591563,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":704537,"millis":0.704537,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":651632,"millis":0.651632,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":1646975,"millis":1.646975,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":750319,"millis":0.750319,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":455921,"millis":0.455921,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":402486,"millis":0.402486,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1801006,"millis":1.801006,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:15.592 [print] invalid \n"},{"result":{"nanos":1434912,"millis":1.434912,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:15.593 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1762394,"millis":1.762394,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:15.595 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \" \"\n}\n \n"},{"result":{"nanos":262199,"millis":0.262199,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":345653519,"millis":345.653519,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:15.599 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n15:50:15.938 response time in milliseconds: 336\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":3850846,"millis":3.850846,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:15.945 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":619778,"millis":0.619778,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":451088878,"millis":451.088878,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":420.956312,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1717255,"millis":1.717255,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:15.974 remove failed: null\n"},{"result":{"nanos":1640676,"millis":1.640676,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:15.976 remove failed: null\n"},{"result":{"nanos":446168,"millis":0.446168,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":287390,"millis":0.28739,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":377283719,"millis":377.283719,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:15.982 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n15:50:16.353 response time in milliseconds: 368\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":472634,"millis":0.472634,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":32353898,"millis":32.353898,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":727502,"millis":0.727502,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1038570,"millis":1.03857,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2375971,"millis":2.375971,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3301931,"millis":3.301931,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":648522,"millis":0.648522,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":506885,"millis":0.506885,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":8.599381,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456416377,"refId":"[3:24]","endTime":1676456416388,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":8.599381,"passedCount":1}]},{"result":{"nanos":413469,"millis":0.413469,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":460048,"millis":0.460048,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":487502,"millis":0.487502,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3151163,"millis":3.151163,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2242390,"millis":2.24239,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":420.956312,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456415972,"refId":"[1:3]","endTime":1676456416396,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":812.751126,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676456415552,"refId":"[2.6:30]","endTime":1676456416398,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":726961,"millis":0.726961,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":921942,"millis":0.921942,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":1230359,"millis":1.230359,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1205327,"millis":1.205327,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1247072,"millis":1.247072,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":814692,"millis":0.814692,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1047859,"millis":1.047859,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":863286,"millis":0.863286,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":803952,"millis":0.803952,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2278938,"millis":2.278938,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:16.423 [print] invalid \n"},{"result":{"nanos":2981785,"millis":2.981785,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:16.426 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":3413178,"millis":3.413178,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:16.430 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":383409,"millis":0.383409,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":436493703,"millis":436.493703,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:16.438 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:50:16.865 response time in milliseconds: 424\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":4573544,"millis":4.573544,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:16.872 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":523794,"millis":0.523794,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":30072735501,"errorMessage":"js failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: http call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\norg.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature:26","millis":30072.735501,"status":"failed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"stepLog":"15:50:46.947 src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature:26\n* if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\njs failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: http call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\norg.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature:26\n","callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":30031.210773,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":1,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2221462,"millis":2.221462,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:16.899 remove failed: null\n"},{"result":{"nanos":1897578,"millis":1.897578,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:16.901 remove failed: null\n"},{"result":{"nanos":311493,"millis":0.311493,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":238234,"millis":0.238234,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":30026542006,"errorMessage":"http call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\norg.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8","millis":30026.542006,"status":"failed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:16.908 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:50:46.929 org.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out, http call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n15:50:46.931 classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8\nWhen method POST\nhttp call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\norg.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":30031.210773,"failed":true,"error":"http call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\norg.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8","tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456416897,"refId":"[1:3]","endTime":1676456446931,"exampleIndex":-1}],"name":"","passedCount":0}]}],"line":30,"description":"","durationMillis":30532.245302,"failed":true,"error":"js failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: http call failed after 30021 milliseconds for url: https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\norg.apache.http.conn.ConnectTimeoutException: Connect to cqube-qa.tibilprojects.com:443 [cqube-qa.tibilprojects.com\/15.206.176.72] failed: Connect timed out\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:8\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature:26","executorName":"main","name":"Verify the spec s3 api without scheduled_type as multiple values","startTime":1676456416409,"refId":"[2.7:30]","endTime":1676456446947,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":164896,"millis":0.164896,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":77675,"millis":0.077675,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":173809,"millis":0.173809,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":224239,"millis":0.224239,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":222488,"millis":0.222488,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":121266,"millis":0.121266,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":254771,"millis":0.254771,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":175932,"millis":0.175932,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":149830,"millis":0.14983,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":759935,"millis":0.759935,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:50:46.958 [print] invalid \n"},{"result":{"nanos":589480,"millis":0.58948,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:50:46.958 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":613190,"millis":0.61319,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:50:46.959 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":124735,"millis":0.124735,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":345940809,"millis":345.940809,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:50:46.965 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:50:47.305 response time in milliseconds: 339\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:47 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":703113,"millis":0.703113,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:50:47.306 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":121498,"millis":0.121498,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":399775869,"millis":399.775869,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":383.292226,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":916321,"millis":0.916321,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:50:47.321 remove failed: null\n"},{"result":{"nanos":897801,"millis":0.897801,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:50:47.322 remove failed: null\n"},{"result":{"nanos":442038,"millis":0.442038,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":385863,"millis":0.385863,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":343499081,"millis":343.499081,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:50:47.326 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:50:47.665 response time in milliseconds: 337\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:20:47 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":496460,"millis":0.49646,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":30184867,"millis":30.184867,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":641540,"millis":0.64154,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":762025,"millis":0.762025,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2006087,"millis":2.006087,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2434038,"millis":2.434038,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":578106,"millis":0.578106,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":479913,"millis":0.479913,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":6.901709,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456447689,"refId":"[3:24]","endTime":1676456447697,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":6.901709,"passedCount":1}]},{"result":{"nanos":376716,"millis":0.376716,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":408385,"millis":0.408385,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":498117,"millis":0.498117,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2077861,"millis":2.077861,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3108716,"millis":3.108716,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":383.292226,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456447320,"refId":"[1:3]","endTime":1676456447705,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":750.193535,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676456446955,"refId":"[2.8:30]","endTime":1676456447706,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":7}],"callDepth":0,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 03:50:47 pm","durationMillis":36843.903956,"passedCount":7}