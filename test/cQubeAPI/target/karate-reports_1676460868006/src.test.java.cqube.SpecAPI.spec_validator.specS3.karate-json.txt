{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":37756625,"millis":37.756625,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/s3_validation.json')"}}],"line":5,"description":"","durationMillis":37.756625,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676458390283,"refId":"[1:5]","endTime":1676458390333,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":37.756625,"passedCount":1}]},{"result":{"nanos":752864,"millis":0.752864,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":417065,"millis":0.417065,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":708282,"millis":0.708282,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1469018,"millis":1.469018,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1008334,"millis":1.008334,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":8449309,"millis":8.449309,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1462376,"millis":1.462376,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":400291,"millis":0.400291,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":320169,"millis":0.320169,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":5008937,"millis":5.008937,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:10.371 [print] invalid \n"},{"result":{"nanos":2249361,"millis":2.249361,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:10.374 [print] must have required property 'scheduled_at' \n"},{"result":{"nanos":10900368,"millis":10.900368,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:10.386 [print] {\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":294548,"millis":0.294548,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":817082598,"millis":817.082598,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:10.628 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n16:23:11.195 response time in milliseconds: 555\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:11 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":10256792,"millis":10.256792,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:11.213 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_at\"\n      },\n      \"message\": \"must have required property 'scheduled_at'\"\n    }\n  ]\n}\n must have required property 'scheduled_at' \n"},{"result":{"nanos":51469664,"millis":51.469664,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":643925563,"millis":643.925563,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":575.088881,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_at'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":950993,"millis":0.950993,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:11.332 remove failed: null\n"},{"result":{"nanos":576824,"millis":0.576824,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:11.333 remove failed: null\n"},{"result":{"nanos":258275,"millis":0.258275,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":235175,"millis":0.235175,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":406629313,"millis":406.629313,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:11.338 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n16:23:11.738 response time in milliseconds: 397\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:11 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":18920762,"millis":18.920762,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":125801918,"millis":125.801918,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1377437,"millis":1.377437,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":11190841,"millis":11.190841,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":27170637,"millis":27.170637,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":6560105,"millis":6.560105,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":3479566,"millis":3.479566,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:11.883 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"missingProperty\\\":\\\"scheduled_at\\\"}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_at\"\n      },\n      \"message\": \"must have required property 'scheduled_at'\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":1560131,"millis":1.560131,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1926408,"millis":1.926408,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":53.265125,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458391832,"refId":"[3:24]","endTime":1676458391887,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":53.265125,"passedCount":1}]},{"result":{"nanos":2115630,"millis":2.11563,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1487828,"millis":1.487828,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":3438251,"millis":3.438251,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":13270122,"millis":13.270122,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1403790,"millis":1.40379,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":575.088881,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458391331,"refId":"[1:3]","endTime":1676458391910,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1556.175539,"failed":false,"executorName":"main","name":"Verify the spec s3 api with invalid request body","startTime":1676458390341,"refId":"[2.1:30]","endTime":1676458391910,"exampleData":{"scheduled_type":"Archive | Error"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":627468,"millis":0.627468,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":476318,"millis":0.476318,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":721859,"millis":0.721859,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":933884,"millis":0.933884,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1360324,"millis":1.360324,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":414627,"millis":0.414627,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":359221,"millis":0.359221,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":322732,"millis":0.322732,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":270103,"millis":0.270103,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3170218,"millis":3.170218,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:11.926 [print] invalid \n"},{"result":{"nanos":2123628,"millis":2.123628,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:11.929 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":2681981,"millis":2.681981,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:11.931 [print] {\n  \"scheduled_at\": \" \",\n  \"scheduled_type\": \"Archive\"\n}\n \n"},{"result":{"nanos":218916,"millis":0.218916,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":309513494,"millis":309.513494,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:11.935 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive\"}\n\n16:23:12.237 response time in milliseconds: 299\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":8365372,"millis":8.365372,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:12.250 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_at\",\n      \"schemaPath\": \"#\/properties\/scheduled_at\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":889172,"millis":0.889172,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":576367076,"millis":576.367076,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":455.169113,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":" ","scheduled_type":"Archive"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11687178,"millis":11.687178,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:12.371 remove failed: null\n"},{"result":{"nanos":1701276,"millis":1.701276,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:12.373 remove failed: null\n"},{"result":{"nanos":222189,"millis":0.222189,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":167454,"millis":0.167454,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":375775014,"millis":375.775014,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:12.376 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive\"}\n\n16:23:12.747 response time in milliseconds: 370\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":603954,"millis":0.603954,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":50776839,"millis":50.776839,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":784481,"millis":0.784481,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":924275,"millis":0.924275,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2940145,"millis":2.940145,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":4217823,"millis":4.217823,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":7370704,"millis":7.370704,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:12.796 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_at\",\n      \"schemaPath\": \"#\/properties\/scheduled_at\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":1541070,"millis":1.54107,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1309561,"millis":1.309561,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":19.088059,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458392779,"refId":"[3:24]","endTime":1676458392801,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":19.088059,"passedCount":1}]},{"result":{"nanos":3036744,"millis":3.036744,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1168390,"millis":1.16839,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1410732,"millis":1.410732,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5038168,"millis":5.038168,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3581175,"millis":3.581175,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":455.169113,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458392359,"refId":"[1:3]","endTime":1676458392817,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":908.816393,"failed":false,"executorName":"main","name":"Verify the spec s3 api with empty scheduled property in the request body","startTime":1676458391916,"refId":"[2.2:30]","endTime":1676458392828,"exampleData":{"scheduled_at":" ","scheduled_type":"Archive"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":643568,"millis":0.643568,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":339653,"millis":0.339653,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":860327,"millis":0.860327,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1045081,"millis":1.045081,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":14887246,"millis":14.887246,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":343094,"millis":0.343094,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":455140,"millis":0.45514,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":403619,"millis":0.403619,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":365415,"millis":0.365415,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1409058,"millis":1.409058,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:12.881 [print] invalid \n"},{"result":{"nanos":1893565,"millis":1.893565,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:12.883 [print] Unexpected end of expression \n"},{"result":{"nanos":1628198,"millis":1.628198,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:12.885 [print] {\n  \"scheduled_at\": \"scheduled\",\n  \"scheduled_type\": \"Error\"\n}\n \n"},{"result":{"nanos":457665,"millis":0.457665,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":379780779,"millis":379.780779,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:12.891 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Error\"}\n\n16:23:13.263 response time in milliseconds: 370\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":2569320,"millis":2.56932,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:13.268 [print] 400 {\n  \"message\": \"Unexpected end of expression\"\n}\n Unexpected end of expression \n"},{"result":{"nanos":530754,"millis":0.530754,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":646523573,"millis":646.523573,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":598.036995,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"scheduled","scheduled_type":"Error"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1800688,"millis":1.800688,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:13.317 remove failed: null\n"},{"result":{"nanos":1558775,"millis":1.558775,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:13.319 remove failed: null\n"},{"result":{"nanos":342125,"millis":0.342125,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":308853,"millis":0.308853,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":463735807,"millis":463.735807,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:13.337 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Error\"}\n\n16:23:13.781 response time in milliseconds: 441\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":728454,"millis":0.728454,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":124250766,"millis":124.250766,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":778913,"millis":0.778913,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1022571,"millis":1.022571,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1870562,"millis":1.870562,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3057059,"millis":3.057059,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5246084,"millis":5.246084,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:13.825 [print] {\n  \"message\": null,\n  \"pass\": true\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":\\\"Unexpected end of expression\\\"}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | data types don't match (STRING:LIST)\\n    'Unexpected end of expression'\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"Unexpected end of expression\"\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":82612979,"millis":82.612979,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":46.362087,"callArg":{"actual_output":"Unexpected end of expression","expected_output":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":20503361,"millis":20.503361,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"16:23:13.866 [print] Unexpected end of expression \n"},{"result":{"nanos":12210655,"millis":12.210655,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"16:23:13.893 [print] Unexpected end of expression \n"},{"result":{"nanos":13648071,"millis":13.648071,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":46.362087,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458393860,"refId":"[1:4]","endTime":1676458393908,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":402024,"millis":0.402024,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":94.990192,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458393812,"refId":"[3:24]","endTime":1676458393909,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":94.990192,"passedCount":1}]},{"result":{"nanos":287564,"millis":0.287564,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":281814,"millis":0.281814,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":274767,"millis":0.274767,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2542886,"millis":2.542886,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1924496,"millis":1.924496,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":598.036995,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458393315,"refId":"[1:3]","endTime":1676458393915,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1054.136055,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676458392858,"refId":"[2.3:30]","endTime":1676458393916,"exampleData":{"scheduled_at":"scheduled","scheduled_type":"Error"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":619114,"millis":0.619114,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":385709,"millis":0.385709,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":550105,"millis":0.550105,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":515657,"millis":0.515657,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":490886,"millis":0.490886,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":244459,"millis":0.244459,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1136062,"millis":1.136062,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":345308,"millis":0.345308,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":242201,"millis":0.242201,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1015004,"millis":1.015004,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:13.932 [print] invalid \n"},{"result":{"nanos":1044636,"millis":1.044636,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:13.933 [print] Unexpected end of expression \n"},{"result":{"nanos":1041380,"millis":1.04138,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:13.934 [print] {\n  \"scheduled_at\": \"123445\",\n  \"scheduled_type\": \"Archive\"\n}\n \n"},{"result":{"nanos":172640,"millis":0.17264,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":356377665,"millis":356.377665,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:13.937 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive\"}\n\n16:23:14.289 response time in milliseconds: 349\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":2934712,"millis":2.934712,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:14.294 [print] 400 {\n  \"message\": \"Unexpected end of expression\"\n}\n Unexpected end of expression \n"},{"result":{"nanos":882574,"millis":0.882574,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":445224007,"millis":445.224007,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":411.737407,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"123445","scheduled_type":"Archive"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2002998,"millis":2.002998,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:14.327 remove failed: null\n"},{"result":{"nanos":1720156,"millis":1.720156,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:14.329 remove failed: null\n"},{"result":{"nanos":419107,"millis":0.419107,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":353326,"millis":0.353326,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":307765889,"millis":307.765889,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:14.335 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive\"}\n\n16:23:14.636 response time in milliseconds: 298\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":753187,"millis":0.753187,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":87570161,"millis":87.570161,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":855138,"millis":0.855138,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1083378,"millis":1.083378,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1897210,"millis":1.89721,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2123447,"millis":2.123447,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":3562587,"millis":3.562587,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:14.675 [print] {\n  \"message\": null,\n  \"pass\": true\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":\\\"Unexpected end of expression\\\"}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | data types don't match (STRING:LIST)\\n    'Unexpected end of expression'\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"Unexpected end of expression\"\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":49779141,"millis":49.779141,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":15.393177,"callArg":{"actual_output":"Unexpected end of expression","expected_output":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10271787,"millis":10.271787,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"16:23:14.719 [print] Unexpected end of expression \n"},{"result":{"nanos":3144682,"millis":3.144682,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"16:23:14.722 [print] Unexpected end of expression \n"},{"result":{"nanos":1976708,"millis":1.976708,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":15.393177,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458394709,"refId":"[1:4]","endTime":1676458394725,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":905639,"millis":0.905639,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":60.20654,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458394665,"refId":"[3:24]","endTime":1676458394727,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":60.20654,"passedCount":1}]},{"result":{"nanos":620829,"millis":0.620829,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":618739,"millis":0.618739,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":629470,"millis":0.62947,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5873822,"millis":5.873822,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3409723,"millis":3.409723,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":411.737407,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458394325,"refId":"[1:3]","endTime":1676458394740,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":813.222119,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676458393925,"refId":"[2.4:30]","endTime":1676458394742,"exampleData":{"scheduled_at":"123445","scheduled_type":"Archive"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":588167,"millis":0.588167,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":305481,"millis":0.305481,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":539536,"millis":0.539536,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":643938,"millis":0.643938,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":707125,"millis":0.707125,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":361090,"millis":0.36109,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":488149,"millis":0.488149,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":391824,"millis":0.391824,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":383035,"millis":0.383035,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1678352,"millis":1.678352,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:14.763 [print] invalid \n"},{"result":{"nanos":1540092,"millis":1.540092,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:14.765 [print] must have required property 'scheduled_type' \n"},{"result":{"nanos":1536271,"millis":1.536271,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:14.766 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\"\n}\n \n"},{"result":{"nanos":283578,"millis":0.283578,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":352513920,"millis":352.51392,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:14.770 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n16:23:15.117 response time in milliseconds: 344\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":5727726,"millis":5.727726,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:15.125 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_type\"\n      },\n      \"message\": \"must have required property 'scheduled_type'\"\n    }\n  ]\n}\n must have required property 'scheduled_type' \n"},{"result":{"nanos":686833,"millis":0.686833,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":588322242,"millis":588.322242,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":555.760822,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_type'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2071344,"millis":2.071344,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:15.157 remove failed: null\n"},{"result":{"nanos":2010672,"millis":2.010672,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:15.159 remove failed: null\n"},{"result":{"nanos":362367,"millis":0.362367,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":323598,"millis":0.323598,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":464215945,"millis":464.215945,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:15.166 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n16:23:15.621 response time in milliseconds: 452\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":946175,"millis":0.946175,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":66042122,"millis":66.042122,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":824902,"millis":0.824902,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":4498576,"millis":4.498576,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":5663517,"millis":5.663517,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":5904442,"millis":5.904442,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":17146264,"millis":17.146264,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:15.689 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"missingProperty\\\":\\\"scheduled_type\\\"}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_type\"\n      },\n      \"message\": \"must have required property 'scheduled_type'\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":882520,"millis":0.88252,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":589671,"millis":0.589671,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":35.509892,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458395655,"refId":"[3:24]","endTime":1676458395692,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":35.509892,"passedCount":1}]},{"result":{"nanos":545008,"millis":0.545008,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":671324,"millis":0.671324,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":9236920,"millis":9.23692,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5012445,"millis":5.012445,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":4322902,"millis":4.322902,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":555.760822,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458395155,"refId":"[1:3]","endTime":1676458395714,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":956.697359,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type in the request body","startTime":1676458394755,"refId":"[2.5:30]","endTime":1676458395715,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":679185,"millis":0.679185,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":339987,"millis":0.339987,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":569229,"millis":0.569229,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":508066,"millis":0.508066,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":463455,"millis":0.463455,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":418684,"millis":0.418684,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":684318,"millis":0.684318,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":602761,"millis":0.602761,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":492751,"millis":0.492751,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1469719,"millis":1.469719,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:15.739 [print] invalid \n"},{"result":{"nanos":1436617,"millis":1.436617,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:15.740 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":2199300,"millis":2.1993,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:15.742 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \" \"\n}\n \n"},{"result":{"nanos":233774,"millis":0.233774,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":294795836,"millis":294.795836,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:15.746 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n16:23:16.037 response time in milliseconds: 291\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":748459,"millis":0.748459,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:16.039 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":149186,"millis":0.149186,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":358700238,"millis":358.700238,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":348.259985,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":626772,"millis":0.626772,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:16.045 remove failed: null\n"},{"result":{"nanos":567245,"millis":0.567245,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:16.045 remove failed: null\n"},{"result":{"nanos":174877,"millis":0.174877,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":76493,"millis":0.076493,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":293655269,"millis":293.655269,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:16.047 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n16:23:16.337 response time in milliseconds: 287\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":600156,"millis":0.600156,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":38207912,"millis":38.207912,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":746122,"millis":0.746122,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":804830,"millis":0.80483,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2166724,"millis":2.166724,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3092069,"millis":3.092069,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":4427999,"millis":4.427999,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:16.377 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":579373,"millis":0.579373,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":471582,"millis":0.471582,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":12.288699,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458396364,"refId":"[3:24]","endTime":1676458396378,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":12.288699,"passedCount":1}]},{"result":{"nanos":381518,"millis":0.381518,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":400827,"millis":0.400827,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":444965,"millis":0.444965,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":9669230,"millis":9.66923,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3454721,"millis":3.454721,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":348.259985,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458396044,"refId":"[1:3]","endTime":1676458396394,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":664.491565,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676458395730,"refId":"[2.6:30]","endTime":1676458396398,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":536670,"millis":0.53667,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":370749,"millis":0.370749,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":732469,"millis":0.732469,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":882844,"millis":0.882844,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":978746,"millis":0.978746,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":493814,"millis":0.493814,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":789547,"millis":0.789547,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":719544,"millis":0.719544,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":715653,"millis":0.715653,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2496337,"millis":2.496337,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:16.429 [print] invalid \n"},{"result":{"nanos":1517887,"millis":1.517887,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:16.431 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":1564011,"millis":1.564011,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:16.432 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":366142,"millis":0.366142,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":320623352,"millis":320.623352,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:16.436 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n16:23:16.750 response time in milliseconds: 310\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":3184956,"millis":3.184956,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:16.757 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":649248,"millis":0.649248,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":669254270,"millis":669.25427,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":637.734802,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1825112,"millis":1.825112,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:16.787 remove failed: null\n"},{"result":{"nanos":1518426,"millis":1.518426,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:16.789 remove failed: null\n"},{"result":{"nanos":393951,"millis":0.393951,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":242704,"millis":0.242704,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":579260953,"millis":579.260953,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:16.794 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n16:23:17.368 response time in milliseconds: 568\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:17 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":479886,"millis":0.479886,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":43844977,"millis":43.844977,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":753331,"millis":0.753331,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1254298,"millis":1.254298,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2247630,"millis":2.24763,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3070195,"millis":3.070195,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5354165,"millis":5.354165,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:17.410 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":1028906,"millis":1.028906,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":915984,"millis":0.915984,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":14.624509,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458397396,"refId":"[3:24]","endTime":1676458397413,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":14.624509,"passedCount":1}]},{"result":{"nanos":687008,"millis":0.687008,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":615979,"millis":0.615979,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":770117,"millis":0.770117,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3535004,"millis":3.535004,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":4560685,"millis":4.560685,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":637.734802,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458396785,"refId":"[1:3]","endTime":1676458397426,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1005.876239,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as multiple values","startTime":1676458396418,"refId":"[2.7:30]","endTime":1676458397428,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":990256,"millis":0.990256,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":614013,"millis":0.614013,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":925296,"millis":0.925296,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1001370,"millis":1.00137,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":947637,"millis":0.947637,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":472547,"millis":0.472547,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":972224,"millis":0.972224,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":905725,"millis":0.905725,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":861241,"millis":0.861241,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3605734,"millis":3.605734,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"16:23:17.456 [print] invalid \n"},{"result":{"nanos":4769845,"millis":4.769845,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"16:23:17.462 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":3939965,"millis":3.939965,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"16:23:17.466 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Debug\"\n}\n \n"},{"result":{"nanos":429610,"millis":0.42961,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":408118179,"millis":408.118179,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"16:23:17.475 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 63\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Debug\"}\n\n16:23:17.873 response time in milliseconds: 395\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:17 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":2458189,"millis":2.458189,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"16:23:17.878 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":565508,"millis":0.565508,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":416382116,"millis":416.382116,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":388.459023,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Debug"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2124473,"millis":2.124473,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"16:23:17.905 remove failed: null\n"},{"result":{"nanos":2607087,"millis":2.607087,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"16:23:17.908 remove failed: null\n"},{"result":{"nanos":1658368,"millis":1.658368,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":1552065,"millis":1.552065,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":339873463,"millis":339.873463,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"16:23:17.919 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 63\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Debug\"}\n\n16:23:18.250 response time in milliseconds: 328\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:53:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":799916,"millis":0.799916,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":34352832,"millis":34.352832,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":641387,"millis":0.641387,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":2266387,"millis":2.266387,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2208305,"millis":2.208305,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2703558,"millis":2.703558,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":4391776,"millis":4.391776,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"16:23:18.285 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":545326,"millis":0.545326,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":459509,"millis":0.459509,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":13.216248,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676458398271,"refId":"[3:24]","endTime":1676458398287,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":13.216248,"passedCount":1}]},{"result":{"nanos":371637,"millis":0.371637,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":582872,"millis":0.582872,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":516754,"millis":0.516754,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2311865,"millis":2.311865,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1707691,"millis":1.707691,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":388.459023,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676458397902,"refId":"[1:3]","endTime":1676458398294,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":847.959455,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676458397441,"refId":"[2.8:30]","endTime":1676458398295,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Debug"},"exampleIndex":7}],"callDepth":0,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 04:23:18 pm","durationMillis":7807.374724,"passedCount":8}