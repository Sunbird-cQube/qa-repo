{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specPipeline.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specPipeline","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specPipeline.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":35,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specPipeline.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specPipeline","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specPipeline.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":32630968,"millis":32.630968,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specPipeline_validator.json')"}}],"line":5,"description":"","durationMillis":32.630968,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676453849841,"refId":"[1:5]","endTime":1676453849888,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec Pipeline API","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":32.630968,"passedCount":1}]},{"result":{"nanos":656502,"millis":0.656502,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":443906,"millis":0.443906,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":1244682,"millis":1.244682,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":995363,"millis":0.995363,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":6464504,"millis":6.464504,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":1365172,"millis":1.365172,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":427905,"millis":0.427905,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":389689,"millis":0.389689,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":843970,"millis":0.84397,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":4786556,"millis":4.786556,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:29.923 [print] invalid \n"},{"result":{"nanos":1689960,"millis":1.68996,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:29.926 [print] must have required property 'pipeline_name' \n"},{"result":{"nanos":2433877,"millis":2.433877,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:29.929 [print] {\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":291790,"millis":0.29179,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":2046579050,"millis":2046.57905,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:30.184 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 219\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:31.975 response time in milliseconds: 1788\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:31 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 181\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b5-URyZMC36C7WiFD6gV9SYDdArhfs\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"pipeline_name\"},\"message\":\"must have required property 'pipeline_name'\"}]}\n\n"},{"result":{"nanos":3046147,"millis":3.046147,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:31.978 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"pipeline_name\"\n      },\n      \"message\": \"must have required property 'pipeline_name'\"\n    }\n  ]\n}\n must have required property 'pipeline_name' \n"},{"result":{"nanos":20887705,"millis":20.887705,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":1179192896,"millis":1179.192896,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":1137.018355,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must have required property 'pipeline_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1109425,"millis":1.109425,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:32.041 remove failed: null\n"},{"result":{"nanos":1023835,"millis":1.023835,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:32.043 remove failed: null\n"},{"result":{"nanos":276082,"millis":0.276082,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":161207,"millis":0.161207,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":981441043,"millis":981.441043,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:32.045 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 219\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:33.020 response time in milliseconds: 972\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 181\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b5-URyZMC36C7WiFD6gV9SYDdArhfs\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"pipeline_name\"},\"message\":\"must have required property 'pipeline_name'\"}]}\n\n"},{"result":{"nanos":20063964,"millis":20.063964,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":115692413,"millis":115.692413,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":741972,"millis":0.741972,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":781855,"millis":0.781855,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":21150904,"millis":21.150904,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":8901161,"millis":8.901161,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":1443939,"millis":1.443939,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1288028,"millis":1.288028,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":34.307859,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453853126,"refId":"[3:24]","endTime":1676453853161,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":34.307859,"passedCount":1}]},{"result":{"nanos":1079199,"millis":1.079199,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1230694,"millis":1.230694,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2239487,"millis":2.239487,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":11238322,"millis":11.238322,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1462684,"millis":1.462684,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":1137.018355,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453852040,"refId":"[1:3]","endTime":1676453853179,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":3271.739674,"failed":false,"executorName":"main","name":"Verify the Spec pipeline with removing pipeline_name from request body ","startTime":1676453849898,"refId":"[2.1:35]","endTime":1676453853180,"exampleData":{"pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":481591,"millis":0.481591,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":356027,"millis":0.356027,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":692135,"millis":0.692135,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":733346,"millis":0.733346,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":213387,"millis":0.213387,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":212015,"millis":0.212015,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":177571,"millis":0.177571,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":162697,"millis":0.162697,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":588362,"millis":0.588362,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1094889,"millis":1.094889,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:33.190 [print] invalid \n"},{"result":{"nanos":1224350,"millis":1.22435,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:33.192 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1341777,"millis":1.341777,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:33.193 [print] {\n  \"pipeline_name\": \"\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":165449,"millis":0.165449,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":2770638142,"millis":2770.638142,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:33.195 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 238\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:35.961 response time in milliseconds: 2764\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 200\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c8-Gp\/RIh+B5GuJI4bPTRGWZyYKC6c\"\n{\"message\":[{\"instancePath\":\"\/pipeline_name\",\"schemaPath\":\"#\/properties\/pipeline_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":5680483,"millis":5.680483,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:35.970 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline_name\",\n      \"schemaPath\": \"#\/properties\/pipeline_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":643397,"millis":0.643397,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":335724774,"millis":335.724774,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":307.288797,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1027976,"millis":1.027976,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:35.998 remove failed: null\n"},{"result":{"nanos":884072,"millis":0.884072,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:35.999 remove failed: null\n"},{"result":{"nanos":170829,"millis":0.170829,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":141642,"millis":0.141642,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":279786207,"millis":279.786207,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:36.002 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 238\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:36.278 response time in milliseconds: 275\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 200\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c8-Gp\/RIh+B5GuJI4bPTRGWZyYKC6c\"\n{\"message\":[{\"instancePath\":\"\/pipeline_name\",\"schemaPath\":\"#\/properties\/pipeline_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":365397,"millis":0.365397,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":16502270,"millis":16.50227,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":229469,"millis":0.229469,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":255069,"millis":0.255069,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1052803,"millis":1.052803,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":970444,"millis":0.970444,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":278941,"millis":0.278941,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":195750,"millis":0.19575,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":2.982476,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453856293,"refId":"[3:24]","endTime":1676453856296,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":2.982476,"passedCount":1}]},{"result":{"nanos":539131,"millis":0.539131,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":377887,"millis":0.377887,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2152182,"millis":2.152182,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1607645,"millis":1.607645,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3733559,"millis":3.733559,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":307.288797,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453855997,"refId":"[1:3]","endTime":1676453856306,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":3120.130392,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing ingestion_name as empty string ","startTime":1676453853184,"refId":"[2.2:35]","endTime":1676453856307,"exampleData":{"pipeline_name":"","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":149924,"millis":0.149924,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":100591,"millis":0.100591,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":289615,"millis":0.289615,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":268934,"millis":0.268934,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":532685,"millis":0.532685,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":239605,"millis":0.239605,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":203790,"millis":0.20379,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":214968,"millis":0.214968,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":335526,"millis":0.335526,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1323159,"millis":1.323159,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:36.316 [print] invalid \n"},{"result":{"nanos":1402846,"millis":1.402846,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:36.317 [print] must have required property 'pipeline_type' \n"},{"result":{"nanos":1023655,"millis":1.023655,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:36.318 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":229843,"millis":0.229843,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":1581256146,"millis":1581.256146,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:36.323 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 233\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:37.897 response time in milliseconds: 1572\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 181\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b5-9UuWBEjxvyQD5qtrGPVVWLHL2YM\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"pipeline_type\"},\"message\":\"must have required property 'pipeline_type'\"}]}\n\n"},{"result":{"nanos":4260176,"millis":4.260176,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:37.904 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"pipeline_type\"\n      },\n      \"message\": \"must have required property 'pipeline_type'\"\n    }\n  ]\n}\n must have required property 'pipeline_type' \n"},{"result":{"nanos":761240,"millis":0.76124,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":433746495,"millis":433.746495,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":392.145271,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must have required property 'pipeline_type'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1233397,"millis":1.233397,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:37.945 remove failed: null\n"},{"result":{"nanos":1290515,"millis":1.290515,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:37.947 remove failed: null\n"},{"result":{"nanos":202813,"millis":0.202813,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":805884,"millis":0.805884,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":296630007,"millis":296.630007,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:37.956 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 233\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:38.242 response time in milliseconds: 283\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:38 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 181\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b5-9UuWBEjxvyQD5qtrGPVVWLHL2YM\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"pipeline_type\"},\"message\":\"must have required property 'pipeline_type'\"}]}\n\n"},{"result":{"nanos":626227,"millis":0.626227,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":67184690,"millis":67.18469,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":690806,"millis":0.690806,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":891459,"millis":0.891459,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":17636063,"millis":17.636063,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":7862222,"millis":7.862222,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":792087,"millis":0.792087,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":560209,"millis":0.560209,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":28.432846,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453858283,"refId":"[3:24]","endTime":1676453858313,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":28.432846,"passedCount":1}]},{"result":{"nanos":522841,"millis":0.522841,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":709370,"millis":0.70937,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":906963,"millis":0.906963,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":19954973,"millis":19.954973,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2077591,"millis":2.077591,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":392.145271,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453857944,"refId":"[1:3]","endTime":1676453858339,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":2026.339198,"failed":false,"executorName":"main","name":"Verify the Spec pipeline with removing pipeline_type from request body ","startTime":1676453856311,"refId":"[2.3:35]","endTime":1676453858340,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":259734,"millis":0.259734,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":170615,"millis":0.170615,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":468455,"millis":0.468455,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":616155,"millis":0.616155,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":1757300,"millis":1.7573,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":1630765,"millis":1.630765,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":348388,"millis":0.348388,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":276760,"millis":0.27676,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":424013,"millis":0.424013,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":2257865,"millis":2.257865,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:38.359 [print] invalid \n"},{"result":{"nanos":801557,"millis":0.801557,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:38.360 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1781365,"millis":1.781365,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:38.362 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":253631,"millis":0.253631,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":2577229185,"millis":2577.229185,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:38.364 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 252\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:40.939 response time in milliseconds: 2573\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:39 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 244\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"f4-FgLe9Xp2hdVcpcsfjtC4WZJfMAU\"\n{\"message\":[{\"instancePath\":\"\/pipeline_type\",\"schemaPath\":\"#\/properties\/pipeline_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"ingest_to_db\",\"dimension_to_db\",\"dataset_to_db\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":1651963,"millis":1.651963,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:40.941 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline_type\",\n      \"schemaPath\": \"#\/properties\/pipeline_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"ingest_to_db\",\n          \"dimension_to_db\",\n          \"dataset_to_db\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":218937,"millis":0.218937,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":354522842,"millis":354.522842,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":339.486203,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":765599,"millis":0.765599,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:40.953 remove failed: null\n"},{"result":{"nanos":988038,"millis":0.988038,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:40.954 remove failed: null\n"},{"result":{"nanos":144640,"millis":0.14464,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":95714,"millis":0.095714,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":293244725,"millis":293.244725,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:40.956 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 252\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:41.245 response time in milliseconds: 286\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:41 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 244\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"f4-FgLe9Xp2hdVcpcsfjtC4WZJfMAU\"\n{\"message\":[{\"instancePath\":\"\/pipeline_type\",\"schemaPath\":\"#\/properties\/pipeline_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"ingest_to_db\",\"dimension_to_db\",\"dataset_to_db\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":587881,"millis":0.587881,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":35297611,"millis":35.297611,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":701530,"millis":0.70153,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":741124,"millis":0.741124,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2292997,"millis":2.292997,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":4805358,"millis":4.805358,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":1091383,"millis":1.091383,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1069852,"millis":1.069852,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":10.702244,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453861271,"refId":"[3:24]","endTime":1676453861284,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":10.702244,"passedCount":1}]},{"result":{"nanos":813022,"millis":0.813022,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":862508,"millis":0.862508,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":998652,"millis":0.998652,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3502213,"millis":3.502213,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2185600,"millis":2.1856,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":339.486203,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453860952,"refId":"[1:3]","endTime":1676453861294,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":2944.66953,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing pipeline_type as empty string ","startTime":1676453858349,"refId":"[2.4:35]","endTime":1676453861296,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":584374,"millis":0.584374,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":357243,"millis":0.357243,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":927877,"millis":0.927877,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1121271,"millis":1.121271,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":578484,"millis":0.578484,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":779423,"millis":0.779423,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":637764,"millis":0.637764,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":609776,"millis":0.609776,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":823006,"millis":0.823006,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1761437,"millis":1.761437,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:41.319 [print] invalid \n"},{"result":{"nanos":1760068,"millis":1.760068,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:41.321 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":3177505,"millis":3.177505,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:41.324 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n  ]\n}\n \n"},{"result":{"nanos":351440,"millis":0.35144,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":714335162,"millis":714.335162,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:41.329 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 91\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[]}\n\n15:07:42.038 response time in milliseconds: 707\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:41 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-Wqg1mUTDVeIThjE8lbcS43GHCLQ\"\n{\"message\":[{\"instancePath\":\"\/pipeline\",\"schemaPath\":\"#\/properties\/pipeline\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":3279425,"millis":3.279425,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:42.043 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\",\n      \"schemaPath\": \"#\/properties\/pipeline\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":215771,"millis":0.215771,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":410793386,"millis":410.793386,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":398.149261,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":656795,"millis":0.656795,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:42.053 remove failed: null\n"},{"result":{"nanos":965069,"millis":0.965069,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:42.054 remove failed: null\n"},{"result":{"nanos":128920,"millis":0.12892,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":83766,"millis":0.083766,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":368678452,"millis":368.678452,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:42.056 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 91\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[]}\n\n15:07:42.416 response time in milliseconds: 355\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:42 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-Wqg1mUTDVeIThjE8lbcS43GHCLQ\"\n{\"message\":[{\"instancePath\":\"\/pipeline\",\"schemaPath\":\"#\/properties\/pipeline\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":1199757,"millis":1.199757,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":23990000,"millis":23.99,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":747354,"millis":0.747354,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":400961,"millis":0.400961,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1200958,"millis":1.200958,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1256741,"millis":1.256741,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":326310,"millis":0.32631,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":253430,"millis":0.25343,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":4.185754,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453862446,"refId":"[3:24]","endTime":1676453862451,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":4.185754,"passedCount":1}]},{"result":{"nanos":163183,"millis":0.163183,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":154952,"millis":0.154952,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":165279,"millis":0.165279,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1145452,"millis":1.145452,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":817636,"millis":0.817636,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":398.149261,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453862052,"refId":"[1:3]","endTime":1676453862454,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":1142.093412,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing pipeline as empty [] ","startTime":1676453861308,"refId":"[2.5:35]","endTime":1676453862454,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[]},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":227481,"millis":0.227481,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":131042,"millis":0.131042,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":275983,"millis":0.275983,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":360299,"millis":0.360299,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":164160,"millis":0.16416,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":255361,"millis":0.255361,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":199844,"millis":0.199844,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":173211,"millis":0.173211,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":293103,"millis":0.293103,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1237497,"millis":1.237497,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:42.463 [print] invalid \n"},{"result":{"nanos":1997380,"millis":1.99738,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:42.465 [print] must have required property 'transformer_name' \n"},{"result":{"nanos":973938,"millis":0.973938,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:42.468 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n    }\n  ]\n}\n \n"},{"result":{"nanos":212111,"millis":0.212111,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":350196008,"millis":350.196008,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:42.471 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 93\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{}]}\n\n15:07:42.817 response time in milliseconds: 343\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:42 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 224\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"e0-uA2D+gy5OKwpZurg1\/DXSJ\/d7qw\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"transformer_name\"},\"message\":\"must have required property 'transformer_name'\"}]}\n\n"},{"result":{"nanos":2948007,"millis":2.948007,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:42.821 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"transformer_name\"\n      },\n      \"message\": \"must have required property 'transformer_name'\"\n    }\n  ]\n}\n must have required property 'transformer_name' \n"},{"result":{"nanos":661024,"millis":0.661024,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":437036721,"millis":437.036721,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":398.918926,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{}]},"testcase_type":"invalid","exp_msg":"must have required property 'transformer_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":13707031,"millis":13.707031,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:42.870 remove failed: null\n"},{"result":{"nanos":10109615,"millis":10.109615,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:42.880 remove failed: null\n"},{"result":{"nanos":1175991,"millis":1.175991,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":723856,"millis":0.723856,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":344987213,"millis":344.987213,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:42.892 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 93\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{}]}\n\n15:07:43.227 response time in milliseconds: 333\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:43 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 224\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"e0-uA2D+gy5OKwpZurg1\/DXSJ\/d7qw\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"transformer_name\"},\"message\":\"must have required property 'transformer_name'\"}]}\n\n"},{"result":{"nanos":284353,"millis":0.284353,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":22152801,"millis":22.152801,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":337429,"millis":0.337429,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":323717,"millis":0.323717,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1188620,"millis":1.18862,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1133957,"millis":1.133957,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":289703,"millis":0.289703,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":231919,"millis":0.231919,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":3.505345,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453863246,"refId":"[3:24]","endTime":1676453863251,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":3.505345,"passedCount":1}]},{"result":{"nanos":183251,"millis":0.183251,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":250353,"millis":0.250353,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":244369,"millis":0.244369,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1140000,"millis":1.14,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3960093,"millis":3.960093,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":398.918926,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453862856,"refId":"[1:3]","endTime":1676453863257,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":797.34317,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing pipeline without properties ","startTime":1676453862459,"refId":"[2.6:35]","endTime":1676453863260,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{}]},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":248227,"millis":0.248227,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":154349,"millis":0.154349,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":368058,"millis":0.368058,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":533157,"millis":0.533157,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":232834,"millis":0.232834,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":416394,"millis":0.416394,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":332039,"millis":0.332039,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":288556,"millis":0.288556,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":377626,"millis":0.377626,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1785278,"millis":1.785278,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:43.274 [print] invalid \n"},{"result":{"nanos":1457053,"millis":1.457053,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:43.276 [print] must have required property 'event_name' \n"},{"result":{"nanos":1878427,"millis":1.878427,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:43.278 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":175363,"millis":0.175363,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":308550980,"millis":308.55098,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:43.281 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 223\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:43.585 response time in milliseconds: 301\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:43 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 212\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d4-VBrbHO4WuBvxtUCcj9ZOgY7svts\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"event_name\"},\"message\":\"must have required property 'event_name'\"}]}\n\n"},{"result":{"nanos":2689097,"millis":2.689097,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:43.590 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"event_name\"\n      },\n      \"message\": \"must have required property 'event_name'\"\n    }\n  ]\n}\n must have required property 'event_name' \n"},{"result":{"nanos":707245,"millis":0.707245,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":423841101,"millis":423.841101,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":390.800425,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must have required property 'event_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2182206,"millis":2.182206,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:43.619 remove failed: null\n"},{"result":{"nanos":2087373,"millis":2.087373,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:43.622 remove failed: null\n"},{"result":{"nanos":404514,"millis":0.404514,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":312093,"millis":0.312093,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":357692588,"millis":357.692588,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:43.629 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 223\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:43.980 response time in milliseconds: 348\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:43 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 212\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d4-VBrbHO4WuBvxtUCcj9ZOgY7svts\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"event_name\"},\"message\":\"must have required property 'event_name'\"}]}\n\n"},{"result":{"nanos":604536,"millis":0.604536,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":21308580,"millis":21.30858,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":250021,"millis":0.250021,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":286540,"millis":0.28654,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":747083,"millis":0.747083,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2109066,"millis":2.109066,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":363856,"millis":0.363856,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":371990,"millis":0.37199,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":4.128556,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453863998,"refId":"[3:24]","endTime":1676453864003,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":4.128556,"passedCount":1}]},{"result":{"nanos":259660,"millis":0.25966,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2629370,"millis":2.62937,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":379098,"millis":0.379098,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1184956,"millis":1.184956,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1755451,"millis":1.755451,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":390.800425,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453863617,"refId":"[1:3]","endTime":1676453864011,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":744.035784,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing event_name  ","startTime":1676453863268,"refId":"[2.7:35]","endTime":1676453864016,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":334797,"millis":0.334797,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":685089,"millis":0.685089,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":893950,"millis":0.89395,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":321488,"millis":0.321488,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":679384,"millis":0.679384,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":296320,"millis":0.29632,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":767527,"millis":0.767527,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":221940,"millis":0.22194,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":246485,"millis":0.246485,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1311072,"millis":1.311072,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:44.029 [print] invalid \n"},{"result":{"nanos":1381132,"millis":1.381132,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:44.030 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":3456419,"millis":3.456419,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:44.034 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \" \",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":164609,"millis":0.164609,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":312750806,"millis":312.750806,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:44.038 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 240\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\" \",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:44.346 response time in milliseconds: 304\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:44 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 231\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"e7-daE9uFJxUwfI6k0rmd5tYzOA7Zc\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/event_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/event_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":3318761,"millis":3.318761,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:44.351 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\/event_name\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/properties\/event_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":424002,"millis":0.424002,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":480879369,"millis":480.879369,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":447.275596,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":" ","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1431748,"millis":1.431748,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:44.383 remove failed: null\n"},{"result":{"nanos":1188316,"millis":1.188316,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:44.385 remove failed: null\n"},{"result":{"nanos":1419664,"millis":1.419664,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":2732139,"millis":2.732139,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":408676970,"millis":408.67697,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:44.402 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 240\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\" \",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:44.794 response time in milliseconds: 391\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:44 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 231\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"e7-daE9uFJxUwfI6k0rmd5tYzOA7Zc\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/event_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/event_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":353656,"millis":0.353656,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":29175974,"millis":29.175974,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":719517,"millis":0.719517,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":10679962,"millis":10.679962,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":768162,"millis":0.768162,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":655951,"millis":0.655951,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":175344,"millis":0.175344,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":127398,"millis":0.127398,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":13.126334,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453864814,"refId":"[3:24]","endTime":1676453864828,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":13.126334,"passedCount":1}]},{"result":{"nanos":119105,"millis":0.119105,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":121621,"millis":0.121621,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":109338,"millis":0.109338,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":733245,"millis":0.733245,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1213820,"millis":1.21382,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":447.275596,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453864382,"refId":"[1:3]","endTime":1676453864831,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":808.13315,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing event_name  ","startTime":1676453864022,"refId":"[2.8:35]","endTime":1676453864833,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":" ","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":7},{"sectionIndex":1,"stepResults":[{"result":{"nanos":114563,"millis":0.114563,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":256051,"millis":0.256051,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":182503,"millis":0.182503,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":327580,"millis":0.32758,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":87529,"millis":0.087529,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":715446,"millis":0.715446,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":156201,"millis":0.156201,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":303481,"millis":0.303481,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":320554,"millis":0.320554,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":953763,"millis":0.953763,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:44.843 [print] invalid \n"},{"result":{"nanos":796838,"millis":0.796838,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:44.844 [print] must have required property 'dataset_name' \n"},{"result":{"nanos":1137715,"millis":1.137715,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:44.846 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":610676,"millis":0.610676,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":328321215,"millis":328.321215,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:44.849 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 220\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:45.174 response time in milliseconds: 321\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:45 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 216\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d8-b0QqcedggTTFdO2EuNEPVNR00Lg\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"dataset_name\"},\"message\":\"must have required property 'dataset_name'\"}]}\n\n"},{"result":{"nanos":1955990,"millis":1.95599,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:45.177 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"dataset_name\"\n      },\n      \"message\": \"must have required property 'dataset_name'\"\n    }\n  ]\n}\n must have required property 'dataset_name' \n"},{"result":{"nanos":434230,"millis":0.43423,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":363438590,"millis":363.43859,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":343.839943,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must have required property 'dataset_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1450473,"millis":1.450473,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:45.196 remove failed: null\n"},{"result":{"nanos":823156,"millis":0.823156,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:45.197 remove failed: null\n"},{"result":{"nanos":232370,"millis":0.23237,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":115041,"millis":0.115041,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":288509616,"millis":288.509616,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:45.200 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 220\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:45.485 response time in milliseconds: 282\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:45 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 216\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d8-b0QqcedggTTFdO2EuNEPVNR00Lg\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"dataset_name\"},\"message\":\"must have required property 'dataset_name'\"}]}\n\n"},{"result":{"nanos":399408,"millis":0.399408,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":43230752,"millis":43.230752,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1034279,"millis":1.034279,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":778295,"millis":0.778295,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1685277,"millis":1.685277,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":5768346,"millis":5.768346,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":880078,"millis":0.880078,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":883847,"millis":0.883847,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":11.030122,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453865516,"refId":"[3:24]","endTime":1676453865530,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":11.030122,"passedCount":1}]},{"result":{"nanos":4571429,"millis":4.571429,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":480877,"millis":0.480877,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":421757,"millis":0.421757,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1968022,"millis":1.968022,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1637042,"millis":1.637042,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":343.839943,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453865195,"refId":"[1:3]","endTime":1676453865540,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":700.112925,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing dataset_name ","startTime":1676453864839,"refId":"[2.9:35]","endTime":1676453865542,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":8},{"sectionIndex":1,"stepResults":[{"result":{"nanos":435166,"millis":0.435166,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":279253,"millis":0.279253,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":596947,"millis":0.596947,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":535675,"millis":0.535675,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":352100,"millis":0.3521,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":663113,"millis":0.663113,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":548429,"millis":0.548429,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":512694,"millis":0.512694,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":977238,"millis":0.977238,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1910902,"millis":1.910902,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:45.572 [print] invalid \n"},{"result":{"nanos":1209835,"millis":1.209835,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:45.573 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1716606,"millis":1.716606,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:45.575 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":181681,"millis":0.181681,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":302391699,"millis":302.391699,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:45.579 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 238\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:45.876 response time in milliseconds: 294\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:45 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 235\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"eb-zzwlFv4acC+Gs5\/1lMCk8L7SZz0\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/dataset_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/dataset_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":1918816,"millis":1.918816,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:45.880 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\/dataset_name\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/properties\/dataset_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":388660,"millis":0.38866,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":418499269,"millis":418.499269,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":399.668186,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1906914,"millis":1.906914,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:45.900 remove failed: null\n"},{"result":{"nanos":12466204,"millis":12.466204,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:45.913 remove failed: null\n"},{"result":{"nanos":1066199,"millis":1.066199,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":1283136,"millis":1.283136,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":370255759,"millis":370.255759,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:45.923 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 238\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:46.286 response time in milliseconds: 362\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:46 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 235\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"eb-zzwlFv4acC+Gs5\/1lMCk8L7SZz0\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/dataset_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/dataset_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":208235,"millis":0.208235,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":10185149,"millis":10.185149,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":113170,"millis":0.11317,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":146660,"millis":0.14666,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":458186,"millis":0.458186,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":487018,"millis":0.487018,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":116799,"millis":0.116799,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":85875,"millis":0.085875,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":1.407708,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453866295,"refId":"[3:24]","endTime":1676453866297,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":1.407708,"passedCount":1}]},{"result":{"nanos":73004,"millis":0.073004,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":73307,"millis":0.073307,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":77877,"millis":0.077877,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":477803,"millis":0.477803,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1594599,"millis":1.594599,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":399.668186,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453865898,"refId":"[1:3]","endTime":1676453866299,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":733.118083,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing dataset_name  ","startTime":1676453865563,"refId":"[2.10:35]","endTime":1676453866300,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":9},{"sectionIndex":1,"stepResults":[{"result":{"nanos":125729,"millis":0.125729,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":72978,"millis":0.072978,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":205386,"millis":0.205386,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":191693,"millis":0.191693,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":101834,"millis":0.101834,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":243395,"millis":0.243395,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":176911,"millis":0.176911,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":157856,"millis":0.157856,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":217401,"millis":0.217401,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":3001649,"millis":3.001649,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:46.307 [print] invalid \n"},{"result":{"nanos":853806,"millis":0.853806,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:46.308 [print] must have required property 'dimension_name' \n"},{"result":{"nanos":1958602,"millis":1.958602,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:46.310 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":257225,"millis":0.257225,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":299571410,"millis":299.57141,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:46.313 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 228\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:46.609 response time in milliseconds: 294\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:46 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 220\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"dc-VvVxqkc7pUIQJHHD3mUr5r19XI4\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"dimension_name\"},\"message\":\"must have required property 'dimension_name'\"}]}\n\n"},{"result":{"nanos":2524275,"millis":2.524275,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:46.613 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"dimension_name\"\n      },\n      \"message\": \"must have required property 'dimension_name'\"\n    }\n  ]\n}\n must have required property 'dimension_name' \n"},{"result":{"nanos":468954,"millis":0.468954,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":398270839,"millis":398.270839,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":374.260751,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must have required property 'dimension_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1257054,"millis":1.257054,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:46.644 remove failed: null\n"},{"result":{"nanos":1133775,"millis":1.133775,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:46.645 remove failed: null\n"},{"result":{"nanos":276582,"millis":0.276582,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":2934096,"millis":2.934096,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":361575639,"millis":361.575639,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:46.660 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 228\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:47.010 response time in milliseconds: 350\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:46 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 220\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"dc-VvVxqkc7pUIQJHHD3mUr5r19XI4\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"dimension_name\"},\"message\":\"must have required property 'dimension_name'\"}]}\n\n"},{"result":{"nanos":153799,"millis":0.153799,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":5846479,"millis":5.846479,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":156135,"millis":0.156135,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":124926,"millis":0.124926,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":418493,"millis":0.418493,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":443847,"millis":0.443847,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":161825,"millis":0.161825,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":118082,"millis":0.118082,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":1.423308,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453867015,"refId":"[3:24]","endTime":1676453867017,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":1.423308,"passedCount":1}]},{"result":{"nanos":95958,"millis":0.095958,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":76311,"millis":0.076311,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":104915,"millis":0.104915,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":455579,"millis":0.455579,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":350564,"millis":0.350564,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":374.260751,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453866643,"refId":"[1:3]","endTime":1676453867018,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":708.399943,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing dimension_name ","startTime":1676453866302,"refId":"[2.11:35]","endTime":1676453867018,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":10},{"sectionIndex":1,"stepResults":[{"result":{"nanos":136236,"millis":0.136236,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":80257,"millis":0.080257,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":172803,"millis":0.172803,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":150617,"millis":0.150617,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":11442303,"millis":11.442303,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":583048,"millis":0.583048,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":3640596,"millis":3.640596,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":264959,"millis":0.264959,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":193381,"millis":0.193381,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1114577,"millis":1.114577,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:47.039 [print] invalid \n"},{"result":{"nanos":1868014,"millis":1.868014,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:47.041 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":6438969,"millis":6.438969,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:47.048 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \" \",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":2391134,"millis":2.391134,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":380819794,"millis":380.819794,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:47.053 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 249\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\" \",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:47.429 response time in milliseconds: 372\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:47 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 239\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ef-WjVqgfs52ljvLd\/xM8jRspl4KKA\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/dimension_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/dimension_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":4207065,"millis":4.207065,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:47.435 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\/dimension_name\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/properties\/dimension_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":422035,"millis":0.422035,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":394300455,"millis":394.300455,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":374.697664,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":" ","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":941267,"millis":0.941267,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:47.456 remove failed: null\n"},{"result":{"nanos":716683,"millis":0.716683,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:47.457 remove failed: null\n"},{"result":{"nanos":160210,"millis":0.16021,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":124209,"millis":0.124209,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":361017298,"millis":361.017298,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:47.459 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 249\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\" \",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:47.818 response time in milliseconds: 358\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:47 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 239\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ef-WjVqgfs52ljvLd\/xM8jRspl4KKA\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/dimension_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/dimension_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":242313,"millis":0.242313,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":9911974,"millis":9.911974,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":192695,"millis":0.192695,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":124341,"millis":0.124341,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":478403,"millis":0.478403,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":547888,"millis":0.547888,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":177491,"millis":0.177491,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":110346,"millis":0.110346,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":1.631164,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453867826,"refId":"[3:24]","endTime":1676453867828,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":1.631164,"passedCount":1}]},{"result":{"nanos":116245,"millis":0.116245,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":93637,"millis":0.093637,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":95274,"millis":0.095274,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":584281,"millis":0.584281,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":694273,"millis":0.694273,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":374.697664,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453867455,"refId":"[1:3]","endTime":1676453867830,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":808.226243,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing dataset_name  ","startTime":1676453867021,"refId":"[2.12:35]","endTime":1676453867831,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":" ","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":11},{"sectionIndex":1,"stepResults":[{"result":{"nanos":119292,"millis":0.119292,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":71111,"millis":0.071111,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":158542,"millis":0.158542,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":133114,"millis":0.133114,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":78673,"millis":0.078673,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":204754,"millis":0.204754,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":146997,"millis":0.146997,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":123380,"millis":0.12338,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":168943,"millis":0.168943,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":494276,"millis":0.494276,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:47.835 [print] invalid \n"},{"result":{"nanos":571679,"millis":0.571679,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:47.836 [print] must have required property 'transformer_name' \n"},{"result":{"nanos":529500,"millis":0.5295,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:47.837 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":87483,"millis":0.087483,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":234821949,"millis":234.821949,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:47.838 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 213\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\"}]}\n\n15:07:48.071 response time in milliseconds: 231\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:48 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 224\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"e0-uA2D+gy5OKwpZurg1\/DXSJ\/d7qw\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"transformer_name\"},\"message\":\"must have required property 'transformer_name'\"}]}\n\n"},{"result":{"nanos":1582772,"millis":1.582772,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:48.073 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"transformer_name\"\n      },\n      \"message\": \"must have required property 'transformer_name'\"\n    }\n  ]\n}\n must have required property 'transformer_name' \n"},{"result":{"nanos":356464,"millis":0.356464,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":428054280,"millis":428.05428,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":406.993114,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school"}]},"testcase_type":"invalid","exp_msg":"must have required property 'transformer_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1058818,"millis":1.058818,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:48.094 remove failed: null\n"},{"result":{"nanos":965155,"millis":0.965155,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:48.095 remove failed: null\n"},{"result":{"nanos":233484,"millis":0.233484,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":156848,"millis":0.156848,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":378888845,"millis":378.888845,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:48.099 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 213\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\"}]}\n\n15:07:48.473 response time in milliseconds: 371\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:48 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 224\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"e0-uA2D+gy5OKwpZurg1\/DXSJ\/d7qw\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\",\"schemaPath\":\"#\/properties\/pipeline\/items\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"transformer_name\"},\"message\":\"must have required property 'transformer_name'\"}]}\n\n"},{"result":{"nanos":960147,"millis":0.960147,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":20877968,"millis":20.877968,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":399890,"millis":0.39989,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":357452,"millis":0.357452,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1324321,"millis":1.324321,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2511864,"millis":2.511864,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":402210,"millis":0.40221,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":257163,"millis":0.257163,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":5.2529,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453868490,"refId":"[3:24]","endTime":1676453868497,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":5.2529,"passedCount":1}]},{"result":{"nanos":221110,"millis":0.22111,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":212056,"millis":0.212056,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":380905,"millis":0.380905,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1658386,"millis":1.658386,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1379392,"millis":1.379392,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":406.993114,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453868093,"refId":"[1:3]","endTime":1676453868501,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":667.703209,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing transformer_name ","startTime":1676453867833,"refId":"[2.13:35]","endTime":1676453868502,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school"}]},"exampleIndex":12},{"sectionIndex":1,"stepResults":[{"result":{"nanos":498529,"millis":0.498529,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":379594,"millis":0.379594,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":792277,"millis":0.792277,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":650376,"millis":0.650376,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":402423,"millis":0.402423,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":710070,"millis":0.71007,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":627447,"millis":0.627447,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":5666926,"millis":5.666926,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":872459,"millis":0.872459,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":2052337,"millis":2.052337,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:48.527 [print] invalid \n"},{"result":{"nanos":1760080,"millis":1.76008,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:48.529 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":2076215,"millis":2.076215,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:48.531 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \" \"\n    }\n  ]\n}\n \n"},{"result":{"nanos":279870,"millis":0.27987,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":465353841,"millis":465.353841,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:48.537 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 236\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\" \"}]}\n\n15:07:48.996 response time in milliseconds: 457\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:48 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 243\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"f3-3DBxyBC7bGmqf21VGTDS0yGpe6E\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/transformer_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/transformer_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":3294093,"millis":3.294093,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:49.001 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline\/0\/transformer_name\",\n      \"schemaPath\": \"#\/properties\/pipeline\/items\/properties\/transformer_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":403164,"millis":0.403164,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":402214924,"millis":402.214924,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":374.206654,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":" "}]},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4664939,"millis":4.664939,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:49.032 remove failed: null\n"},{"result":{"nanos":4141209,"millis":4.141209,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:49.038 remove failed: null\n"},{"result":{"nanos":343606,"millis":0.343606,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":240584,"millis":0.240584,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":335874182,"millis":335.874182,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:49.054 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 236\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\" \"}]}\n\n15:07:49.366 response time in milliseconds: 307\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:49 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 243\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"f3-3DBxyBC7bGmqf21VGTDS0yGpe6E\"\n{\"message\":[{\"instancePath\":\"\/pipeline\/0\/transformer_name\",\"schemaPath\":\"#\/properties\/pipeline\/items\/properties\/transformer_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":948446,"millis":0.948446,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":25595479,"millis":25.595479,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":826107,"millis":0.826107,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":764003,"millis":0.764003,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1532528,"millis":1.532528,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1530599,"millis":1.530599,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":481312,"millis":0.481312,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":319928,"millis":0.319928,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":5.454477,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453869395,"refId":"[3:24]","endTime":1676453869402,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":5.454477,"passedCount":1}]},{"result":{"nanos":210462,"millis":0.210462,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":151591,"millis":0.151591,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":160125,"millis":0.160125,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":965868,"millis":0.965868,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":910163,"millis":0.910163,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":374.206654,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453869028,"refId":"[1:3]","endTime":1676453869404,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":888.034625,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by removing transformer_name ","startTime":1676453868512,"refId":"[2.14:35]","endTime":1676453869405,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":" "}]},"exampleIndex":13},{"sectionIndex":1,"stepResults":[{"result":{"nanos":188830,"millis":0.18883,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":97533,"millis":0.097533,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":221241,"millis":0.221241,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":213496,"millis":0.213496,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":138763,"millis":0.138763,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":510247,"millis":0.510247,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":310355,"millis":0.310355,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":241775,"millis":0.241775,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":327387,"millis":0.327387,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":899965,"millis":0.899965,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:49.413 [print] invalid \n"},{"result":{"nanos":1345918,"millis":1.345918,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:49.414 [print] Invalid pipeline type \n"},{"result":{"nanos":1050258,"millis":1.050258,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:49.416 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_database\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":114163,"millis":0.114163,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":265518999,"millis":265.518999,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:49.419 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 270\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_database\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:49.681 response time in milliseconds: 259\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:49 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 244\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"f4-FgLe9Xp2hdVcpcsfjtC4WZJfMAU\"\n{\"message\":[{\"instancePath\":\"\/pipeline_type\",\"schemaPath\":\"#\/properties\/pipeline_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"ingest_to_db\",\"dimension_to_db\",\"dataset_to_db\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":5255513,"millis":5.255513,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:49.686 [print] {\n  \"message\": [\n    {\n      \"instancePath\": \"\/pipeline_type\",\n      \"schemaPath\": \"#\/properties\/pipeline_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"ingest_to_db\",\n          \"dimension_to_db\",\n          \"dataset_to_db\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n Invalid pipeline type \n"},{"result":{"nanos":3880495,"millis":3.880495,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":467092200,"millis":467.0922,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":439.740832,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_database","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"Invalid pipeline type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1617396,"millis":1.617396,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:49.716 remove failed: null\n"},{"result":{"nanos":1434321,"millis":1.434321,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:49.718 remove failed: null\n"},{"result":{"nanos":295468,"millis":0.295468,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":196762,"millis":0.196762,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":366298152,"millis":366.298152,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:49.723 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 270\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_database\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:50.084 response time in milliseconds: 358\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:50 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 244\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"f4-FgLe9Xp2hdVcpcsfjtC4WZJfMAU\"\n{\"message\":[{\"instancePath\":\"\/pipeline_type\",\"schemaPath\":\"#\/properties\/pipeline_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"ingest_to_db\",\"dimension_to_db\",\"dataset_to_db\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":17770291,"millis":17.770291,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":38421398,"millis":38.421398,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":462313,"millis":0.462313,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":518825,"millis":0.518825,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3473722,"millis":3.473722,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":4534982,"millis":4.534982,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":3860230,"millis":3.86023,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":3994397,"millis":3.994397,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":16.844469,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453870125,"refId":"[3:24]","endTime":1676453870143,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":16.844469,"passedCount":1}]},{"result":{"nanos":2741879,"millis":2.741879,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2792815,"millis":2.792815,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":3631171,"millis":3.631171,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2742370,"millis":2.74237,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1798809,"millis":1.798809,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":439.740832,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453869714,"refId":"[1:3]","endTime":1676453870158,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":747.407138,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing invalid pipeline_type ","startTime":1676453869409,"refId":"[2.15:35]","endTime":1676453870158,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_database","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":14},{"sectionIndex":1,"stepResults":[{"result":{"nanos":980629,"millis":0.980629,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":1156703,"millis":1.156703,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":784738,"millis":0.784738,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":496580,"millis":0.49658,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":77349,"millis":0.077349,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":189043,"millis":0.189043,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":115429,"millis":0.115429,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":75176,"millis":0.075176,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":341926,"millis":0.341926,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":808598,"millis":0.808598,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:50.203 [print] invalid \n"},{"result":{"nanos":894468,"millis":0.894468,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:50.204 [print] Cannot find event name \n"},{"result":{"nanos":998486,"millis":0.998486,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:50.205 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attend\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":84853,"millis":0.084853,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":498871250,"millis":498.87125,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:50.207 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 260\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attend\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:50.704 response time in milliseconds: 494\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:50 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-rTXbUyUmxmueTgJs50f0fnaG0Ac\"\n{\"message\":\"Cannot find event name\"}\n\n"},{"result":{"nanos":5171686,"millis":5.171686,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:50.709 [print] {\n  \"message\": \"Cannot find event name\"\n}\n Cannot find event name \n"},{"result":{"nanos":5652453,"millis":5.652453,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":419650559,"millis":419.650559,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":399.633603,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attend","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"Cannot find event name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1461589,"millis":1.461589,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:50.734 remove failed: null\n"},{"result":{"nanos":1298570,"millis":1.29857,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:50.735 remove failed: null\n"},{"result":{"nanos":242868,"millis":0.242868,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":165741,"millis":0.165741,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":301889327,"millis":301.889327,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:50.740 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 260\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attend\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:51.037 response time in milliseconds: 293\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:50 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-rTXbUyUmxmueTgJs50f0fnaG0Ac\"\n{\"message\":\"Cannot find event name\"}\n\n"},{"result":{"nanos":2775300,"millis":2.7753,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":71962517,"millis":71.962517,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":489463,"millis":0.489463,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1831481,"millis":1.831481,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3926131,"millis":3.926131,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3476163,"millis":3.476163,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":35207982,"millis":35.207982,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":9.776479,"callArg":{"actual_output":"Cannot find event name","expected_output":"Cannot find event name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3700671,"millis":3.700671,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:07:51.101 [print] Cannot find event name \n"},{"result":{"nanos":5031175,"millis":5.031175,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:07:51.106 [print] Cannot find event name \n"},{"result":{"nanos":1044633,"millis":1.044633,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":9.776479,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453871097,"refId":"[1:4]","endTime":1676453871108,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":4190289,"millis":4.190289,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":49.121509,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453871062,"refId":"[3:24]","endTime":1676453871112,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":49.121509,"passedCount":1}]},{"result":{"nanos":4669090,"millis":4.66909,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2710536,"millis":2.710536,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":3993079,"millis":3.993079,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4990069,"millis":4.990069,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3474917,"millis":3.474917,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":399.633603,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453870732,"refId":"[1:3]","endTime":1676453871133,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":936.349926,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing invalid event_name ","startTime":1676453870196,"refId":"[2.16:35]","endTime":1676453871135,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attend","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":15},{"sectionIndex":1,"stepResults":[{"result":{"nanos":234914,"millis":0.234914,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":245878,"millis":0.245878,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":404026,"millis":0.404026,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":616559,"millis":0.616559,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":707729,"millis":0.707729,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":1284395,"millis":1.284395,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":1138340,"millis":1.13834,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":584156,"millis":0.584156,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":484685,"millis":0.484685,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":1158401,"millis":1.158401,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:51.149 [print] invalid \n"},{"result":{"nanos":2099702,"millis":2.099702,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:51.152 [print] Cannot find dataset name \n"},{"result":{"nanos":1188039,"millis":1.188039,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:51.153 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_students_attendance\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":124003,"millis":0.124003,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":258515420,"millis":258.51542,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:51.156 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 261\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_students_attendance\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:51.411 response time in milliseconds: 253\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:51 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 38\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"26-WpG07cwu\/k0X99KDzcHxhfUOabg\"\n{\"message\":\"Cannot find dataset name\"}\n\n"},{"result":{"nanos":3092786,"millis":3.092786,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:51.415 [print] {\n  \"message\": \"Cannot find dataset name\"\n}\n Cannot find dataset name \n"},{"result":{"nanos":443803,"millis":0.443803,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":332523255,"millis":332.523255,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":316.061535,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_students_attendance","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"Cannot find dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1173790,"millis":1.17379,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:51.432 remove failed: null\n"},{"result":{"nanos":1503553,"millis":1.503553,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:51.434 remove failed: null\n"},{"result":{"nanos":242487,"millis":0.242487,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":210904,"millis":0.210904,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":297000733,"millis":297.000733,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:51.440 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 261\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_students_attendance\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:51.730 response time in milliseconds: 289\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:51 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 38\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"26-WpG07cwu\/k0X99KDzcHxhfUOabg\"\n{\"message\":\"Cannot find dataset name\"}\n\n"},{"result":{"nanos":602479,"millis":0.602479,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":14160892,"millis":14.160892,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":215086,"millis":0.215086,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":299933,"millis":0.299933,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":616421,"millis":0.616421,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":528444,"millis":0.528444,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":6152073,"millis":6.152073,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":1.629089,"callArg":{"actual_output":"Cannot find dataset name","expected_output":"Cannot find dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":570396,"millis":0.570396,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:07:51.745 [print] Cannot find dataset name \n"},{"result":{"nanos":609862,"millis":0.609862,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:07:51.745 [print] Cannot find dataset name \n"},{"result":{"nanos":448831,"millis":0.448831,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":1.629089,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453871744,"refId":"[1:4]","endTime":1676453871746,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":155394,"millis":0.155394,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":7.967351,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453871738,"refId":"[3:24]","endTime":1676453871746,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":7.967351,"passedCount":1}]},{"result":{"nanos":94723,"millis":0.094723,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":66046,"millis":0.066046,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":61936,"millis":0.061936,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":513348,"millis":0.513348,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":430644,"millis":0.430644,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":316.061535,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453871431,"refId":"[1:3]","endTime":1676453871748,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":604.846091,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing invalid dataset_name ","startTime":1676453871141,"refId":"[2.17:35]","endTime":1676453871748,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_students_attendance","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":16},{"sectionIndex":1,"stepResults":[{"result":{"nanos":245369,"millis":0.245369,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":117442,"millis":0.117442,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":247082,"millis":0.247082,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":257385,"millis":0.257385,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":180468,"millis":0.180468,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":500327,"millis":0.500327,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":437256,"millis":0.437256,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":230052,"millis":0.230052,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":224264,"millis":0.224264,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":676404,"millis":0.676404,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:51.755 [print] invalid \n"},{"result":{"nanos":429440,"millis":0.42944,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:51.755 [print] Cannot find dimension name \n"},{"result":{"nanos":494693,"millis":0.494693,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:51.756 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school.py\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":88046,"millis":0.088046,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":276607675,"millis":276.607675,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:51.757 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 257\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:52.032 response time in milliseconds: 275\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:51 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 40\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"28-UidSQa5ztPKNKdBKFyn3iwyPZVU\"\n{\"message\":\"Cannot find dimension name\"}\n\n"},{"result":{"nanos":575998,"millis":0.575998,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:52.033 [print] {\n  \"message\": \"Cannot find dimension name\"\n}\n Cannot find dimension name \n"},{"result":{"nanos":135312,"millis":0.135312,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":430436579,"millis":430.436579,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":419.161207,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"testcase_type":"invalid","exp_msg":"Cannot find dimension name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2635650,"millis":2.63565,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:52.046 remove failed: null\n"},{"result":{"nanos":3427560,"millis":3.42756,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:52.050 remove failed: null\n"},{"result":{"nanos":155928,"millis":0.155928,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":90439,"millis":0.090439,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":392134227,"millis":392.134227,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:52.054 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 257\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school.py\"}]}\n\n15:07:52.442 response time in milliseconds: 386\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:52 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 40\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"28-UidSQa5ztPKNKdBKFyn3iwyPZVU\"\n{\"message\":\"Cannot find dimension name\"}\n\n"},{"result":{"nanos":478135,"millis":0.478135,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":18169638,"millis":18.169638,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":621927,"millis":0.621927,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":239824,"millis":0.239824,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":450570,"millis":0.45057,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":439199,"millis":0.439199,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":7072640,"millis":7.07264,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":1.673416,"callArg":{"actual_output":"Cannot find dimension name","expected_output":"Cannot find dimension name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":494328,"millis":0.494328,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:07:52.459 [print] Cannot find dimension name \n"},{"result":{"nanos":575265,"millis":0.575265,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:07:52.460 [print] Cannot find dimension name \n"},{"result":{"nanos":603823,"millis":0.603823,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":1.673416,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453872459,"refId":"[1:4]","endTime":1676453872461,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":291880,"millis":0.29188,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":9.11604,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453872452,"refId":"[3:24]","endTime":1676453872461,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":9.11604,"passedCount":1}]},{"result":{"nanos":187489,"millis":0.187489,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":130740,"millis":0.13074,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":109569,"millis":0.109569,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":966009,"millis":0.966009,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":675823,"millis":0.675823,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":419.161207,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453872044,"refId":"[1:3]","endTime":1676453872464,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":711.883792,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing invalid dimension_name ","startTime":1676453871751,"refId":"[2.18:35]","endTime":1676453872464,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension","transformer_name":"SAC_stds_atd_cmp_by_school.py"}]},"exampleIndex":17},{"sectionIndex":1,"stepResults":[{"result":{"nanos":206484,"millis":0.206484,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":100775,"millis":0.100775,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/pipeline'"}},{"result":{"nanos":209449,"millis":0.209449,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":302026,"millis":0.302026,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def exp_msg = __row.message"}},{"result":{"nanos":114153,"millis":0.114153,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def req_json = __row"}},{"result":{"nanos":267435,"millis":0.267435,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"remove __row.scenario"}},{"result":{"nanos":143614,"millis":0.143614,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove req_json.message"}},{"result":{"nanos":79941,"millis":0.079941,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.testcase_type"}},{"result":{"nanos":151343,"millis":0.151343,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\""}},{"result":{"nanos":345266,"millis":0.345266,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:07:52.470 [print] invalid \n"},{"result":{"nanos":363212,"millis":0.363212,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:07:52.470 [print] Transformer not found \n"},{"result":{"nanos":384949,"millis":0.384949,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:07:52.470 [print] {\n  \"pipeline_name\": \"SAC_stds_atd_cmp_by_school\",\n  \"pipeline_type\": \"ingest_to_db\",\n  \"pipeline\": [\n    {\n      \"event_name\": \"event_students_attendance\",\n      \"dataset_name\": \"SAC_stds_atd_cmp_by_school\",\n      \"dimension_name\": \"dimension_school\",\n      \"transformer_name\": \"SAC_stds_atd_cmp_by_school\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":120976,"millis":0.120976,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":294453160,"millis":294.45316,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:07:52.472 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 261\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school\"}]}\n\n15:07:52.764 response time in milliseconds: 290\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:52 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 35\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"23-OeG5quiA82+Wzd2IsZLdA9J9PlU\"\n{\"message\":\"Transformer not found\"}\n\n"},{"result":{"nanos":1784343,"millis":1.784343,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print response , exp_msg"},"stepLog":"15:07:52.767 [print] {\n  \"message\": \"Transformer not found\"\n}\n Transformer not found \n"},{"result":{"nanos":434039,"millis":0.434039,"status":"passed"},"step":{"line":30,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":419503735,"millis":419.503735,"status":"passed"},"step":{"line":31,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":400.957728,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline","request_body":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school"}]},"testcase_type":"invalid","exp_msg":"Transformer not found"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1878294,"millis":1.878294,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:07:52.786 remove failed: null\n"},{"result":{"nanos":1653294,"millis":1.653294,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:07:52.788 remove failed: null\n"},{"result":{"nanos":136678,"millis":0.136678,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":60047,"millis":0.060047,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":364906049,"millis":364.906049,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:07:52.790 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/pipeline\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 261\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"pipeline_name\":\"SAC_stds_atd_cmp_by_school\",\"pipeline_type\":\"ingest_to_db\",\"pipeline\":[{\"event_name\":\"event_students_attendance\",\"dataset_name\":\"SAC_stds_atd_cmp_by_school\",\"dimension_name\":\"dimension_school\",\"transformer_name\":\"SAC_stds_atd_cmp_by_school\"}]}\n\n15:07:53.152 response time in milliseconds: 360\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:37:53 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 35\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"23-OeG5quiA82+Wzd2IsZLdA9J9PlU\"\n{\"message\":\"Transformer not found\"}\n\n"},{"result":{"nanos":269265,"millis":0.269265,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":29254946,"millis":29.254946,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":236062,"millis":0.236062,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":213846,"millis":0.213846,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":509429,"millis":0.509429,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3018010,"millis":3.01801,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":16365959,"millis":16.365959,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":4.993486,"callArg":{"actual_output":"Transformer not found","expected_output":"Transformer not found"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4050352,"millis":4.050352,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:07:53.181 [print] Transformer not found \n"},{"result":{"nanos":668673,"millis":0.668673,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:07:53.182 [print] Transformer not found \n"},{"result":{"nanos":274461,"millis":0.274461,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":4.993486,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453873177,"refId":"[1:4]","endTime":1676453873182,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":181697,"millis":0.181697,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":20.525003,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676453873162,"refId":"[3:24]","endTime":1676453873183,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":20.525003,"passedCount":1}]},{"result":{"nanos":114824,"millis":0.114824,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1020279,"millis":1.020279,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":166379,"millis":0.166379,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":837626,"millis":0.837626,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":660047,"millis":0.660047,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":400.957728,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676453872784,"refId":"[1:3]","endTime":1676453873186,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":35,"description":"","durationMillis":718.9649,"failed":false,"executorName":"main","name":"Verify the Spec pipeline by providing invalid  transformer_name ","startTime":1676453872467,"refId":"[2.19:35]","endTime":1676453873187,"exampleData":{"pipeline_name":"SAC_stds_atd_cmp_by_school","pipeline_type":"ingest_to_db","pipeline":[{"event_name":"event_students_attendance","dataset_name":"SAC_stds_atd_cmp_by_school","dimension_name":"dimension_school","transformer_name":"SAC_stds_atd_cmp_by_school"}]},"exampleIndex":18}],"callDepth":0,"name":"Test Spec Pipeline API","description":"","resultDate":"2023-02-15 03:07:53 pm","durationMillis":23079.531185,"passedCount":19}