{"failedCount":1,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specTransformer","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specTransformer","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":30405557,"millis":30.405557,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/transformer_validator.json')"}}],"line":5,"description":"","durationMillis":30.405557,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676454488003,"refId":"[1:5]","endTime":1676454488045,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec Transformer API","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":30.405557,"passedCount":1}]},{"result":{"nanos":678751,"millis":0.678751,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":410060,"millis":0.41006,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":792948,"millis":0.792948,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1520732,"millis":1.520732,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":837686,"millis":0.837686,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":6175675,"millis":6.175675,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1228377,"millis":1.228377,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":439247,"millis":0.439247,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":330065,"millis":0.330065,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":6964568,"millis":6.964568,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:08.080 [print] invalid \n"},{"result":{"nanos":1927437,"millis":1.927437,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:08.085 [print] must have required property 'ingestion_name' \n"},{"result":{"nanos":6192320,"millis":6.19232,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:08.092 [print] {\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":279239,"millis":0.279239,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":967989334,"millis":967.989334,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:08.350 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:09.049 response time in milliseconds: 684\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:09 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-XLRWP9tK+pgR1jYOFiVUXNRz1Ww\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"ingestion_name\"},\"message\":\"must have required property 'ingestion_name'\"}]}\n\n"},{"result":{"nanos":12181354,"millis":12.181354,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:09.072 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"ingestion_name\"\n      },\n      \"message\": \"must have required property 'ingestion_name'\"\n    }\n  ]\n}\n must have required property 'ingestion_name' \n"},{"result":{"nanos":62542476,"millis":62.542476,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":544853921,"millis":544.853921,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":501.12375,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'ingestion_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4880333,"millis":4.880333,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:09.181 remove failed: null\n"},{"result":{"nanos":943844,"millis":0.943844,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:09.183 remove failed: null\n"},{"result":{"nanos":292534,"millis":0.292534,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":143065,"millis":0.143065,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":318986008,"millis":318.986008,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:09.185 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:09.498 response time in milliseconds: 309\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:09 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-XLRWP9tK+pgR1jYOFiVUXNRz1Ww\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"ingestion_name\"},\"message\":\"must have required property 'ingestion_name'\"}]}\n\n"},{"result":{"nanos":18436986,"millis":18.436986,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":138745512,"millis":138.745512,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1362631,"millis":1.362631,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1240162,"millis":1.240162,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":51763174,"millis":51.763174,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":13462687,"millis":13.462687,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":1668903,"millis":1.668903,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":2316082,"millis":2.316082,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":71.813639,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454489585,"refId":"[3:24]","endTime":1676454489659,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":71.813639,"passedCount":1}]},{"result":{"nanos":1458226,"millis":1.458226,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1704946,"millis":1.704946,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":3520791,"millis":3.520791,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":11007723,"millis":11.007723,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1003782,"millis":1.003782,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":501.12375,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454489176,"refId":"[1:3]","endTime":1676454489681,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1615.34419,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing ingestion_name property ","startTime":1676454488055,"refId":"[2.1:30]","endTime":1676454489681,"exampleData":{"key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":306397,"millis":0.306397,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":209980,"millis":0.20998,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":367764,"millis":0.367764,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":447902,"millis":0.447902,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":480506,"millis":0.480506,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":158174,"millis":0.158174,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":166735,"millis":0.166735,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":128180,"millis":0.12818,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":129036,"millis":0.129036,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1044180,"millis":1.04418,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:09.688 [print] invalid \n"},{"result":{"nanos":1464478,"millis":1.464478,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:09.690 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1581589,"millis":1.581589,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:09.692 [print] {\n  \"ingestion_name\": \"\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":213140,"millis":0.21314,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":327623822,"millis":327.623822,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:09.694 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:10.016 response time in milliseconds: 319\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:09 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 202\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ca-Suqk7WemHCi7UAUQ5eY+bV1NFoQ\"\n{\"message\":[{\"instancePath\":\"\/ingestion_name\",\"schemaPath\":\"#\/properties\/ingestion_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":5538645,"millis":5.538645,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:10.025 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/ingestion_name\",\n      \"schemaPath\": \"#\/properties\/ingestion_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":871963,"millis":0.871963,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":452537430,"millis":452.53743,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":389.506685,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4217792,"millis":4.217792,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:10.092 remove failed: null\n"},{"result":{"nanos":2368210,"millis":2.36821,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:10.094 remove failed: null\n"},{"result":{"nanos":459829,"millis":0.459829,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":502128,"millis":0.502128,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":345020173,"millis":345.020173,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:10.101 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:10.440 response time in milliseconds: 337\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:10 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 202\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ca-Suqk7WemHCi7UAUQ5eY+bV1NFoQ\"\n{\"message\":[{\"instancePath\":\"\/ingestion_name\",\"schemaPath\":\"#\/properties\/ingestion_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":268473,"millis":0.268473,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":21434462,"millis":21.434462,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":390024,"millis":0.390024,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":291688,"millis":0.291688,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1021217,"millis":1.021217,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1472578,"millis":1.472578,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":2478319,"millis":2.478319,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":460991,"millis":0.460991,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":6.114817,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454490456,"refId":"[3:24]","endTime":1676454490463,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":6.114817,"passedCount":1}]},{"result":{"nanos":908960,"millis":0.90896,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":10645831,"millis":10.645831,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":282865,"millis":0.282865,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1739677,"millis":1.739677,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1658285,"millis":1.658285,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":389.506685,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454490088,"refId":"[1:3]","endTime":1676454490479,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":793.269921,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by ingestion_name as empty string ","startTime":1676454489684,"refId":"[2.2:30]","endTime":1676454490480,"exampleData":{"ingestion_name":"","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":227721,"millis":0.227721,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":138333,"millis":0.138333,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":272606,"millis":0.272606,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":313070,"millis":0.31307,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":645614,"millis":0.645614,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":158413,"millis":0.158413,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":195511,"millis":0.195511,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":157381,"millis":0.157381,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":244194,"millis":0.244194,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1245812,"millis":1.245812,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:10.489 [print] invalid \n"},{"result":{"nanos":999547,"millis":0.999547,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:10.490 [print] must have required property 'key_file' \n"},{"result":{"nanos":3096588,"millis":3.096588,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:10.493 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":393702,"millis":0.393702,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":412063634,"millis":412.063634,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:10.497 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 97\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:10.902 response time in milliseconds: 403\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:10 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 171\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ab-02HMqJ3CEGA1WdIiwLIY59Jmgq8\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"key_file\"},\"message\":\"must have required property 'key_file'\"}]}\n\n"},{"result":{"nanos":3860345,"millis":3.860345,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:10.910 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"key_file\"\n      },\n      \"message\": \"must have required property 'key_file'\"\n    }\n  ]\n}\n must have required property 'key_file' \n"},{"result":{"nanos":813228,"millis":0.813228,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":448932176,"millis":448.932176,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":406.716304,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'key_file'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2637297,"millis":2.637297,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:10.951 remove failed: null\n"},{"result":{"nanos":2664219,"millis":2.664219,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:10.955 remove failed: null\n"},{"result":{"nanos":683894,"millis":0.683894,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":564986,"millis":0.564986,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":323746948,"millis":323.746948,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:10.962 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 97\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:11.277 response time in milliseconds: 312\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:11 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 171\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ab-02HMqJ3CEGA1WdIiwLIY59Jmgq8\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"key_file\"},\"message\":\"must have required property 'key_file'\"}]}\n\n"},{"result":{"nanos":750345,"millis":0.750345,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":62995156,"millis":62.995156,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1130316,"millis":1.130316,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1152804,"millis":1.152804,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3760711,"millis":3.760711,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":14790320,"millis":14.79032,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":873873,"millis":0.873873,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":633437,"millis":0.633437,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":22.341461,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454491316,"refId":"[3:24]","endTime":1676454491345,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":22.341461,"passedCount":1}]},{"result":{"nanos":543049,"millis":0.543049,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":782051,"millis":0.782051,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":4556396,"millis":4.556396,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4083784,"millis":4.083784,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2708179,"millis":2.708179,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":406.716304,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454490949,"refId":"[1:3]","endTime":1676454491359,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":873.757875,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing key_file property ","startTime":1676454490484,"refId":"[2.3:30]","endTime":1676454491361,"exampleData":{"ingestion_name":"event_school_statistics_students","program":"Scl_Stats","operation":"dataset"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":622146,"millis":0.622146,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":603338,"millis":0.603338,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1658684,"millis":1.658684,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1695625,"millis":1.695625,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":2229661,"millis":2.229661,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":943215,"millis":0.943215,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":2913509,"millis":2.913509,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":3165541,"millis":3.165541,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":665973,"millis":0.665973,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2566871,"millis":2.566871,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:11.393 [print] invalid \n"},{"result":{"nanos":2351593,"millis":2.351593,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:11.396 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":3309509,"millis":3.309509,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:11.399 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":323139,"millis":0.323139,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":388113261,"millis":388.113261,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:11.404 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:11.785 response time in milliseconds: 378\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:11 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-VA7PWZ9JomstC1+IWdhpgXxU5wQ\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":4920560,"millis":4.92056,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:11.793 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/key_file\",\n      \"schemaPath\": \"#\/properties\/key_file\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":474387,"millis":0.474387,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":398064664,"millis":398.064664,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":366.398571,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2598616,"millis":2.598616,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:11.826 remove failed: null\n"},{"result":{"nanos":2243873,"millis":2.243873,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:11.829 remove failed: null\n"},{"result":{"nanos":416823,"millis":0.416823,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":394947,"millis":0.394947,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":346803026,"millis":346.803026,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:11.837 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:12.177 response time in milliseconds: 338\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-VA7PWZ9JomstC1+IWdhpgXxU5wQ\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":209591,"millis":0.209591,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":8522603,"millis":8.522603,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":214966,"millis":0.214966,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":248243,"millis":0.248243,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":599941,"millis":0.599941,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":701477,"millis":0.701477,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":187333,"millis":0.187333,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":137669,"millis":0.137669,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":2.089629,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454492183,"refId":"[3:24]","endTime":1676454492186,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":2.089629,"passedCount":1}]},{"result":{"nanos":123708,"millis":0.123708,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":139109,"millis":0.139109,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":161773,"millis":0.161773,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3630203,"millis":3.630203,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1154299,"millis":1.154299,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":366.398571,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454491823,"refId":"[1:3]","endTime":1676454492192,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":814.621676,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by key_file as empty string ","startTime":1676454491372,"refId":"[2.4:30]","endTime":1676454492192,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"","program":"Scl_Stats","operation":"dataset"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":746444,"millis":0.746444,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":428737,"millis":0.428737,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1048358,"millis":1.048358,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1226522,"millis":1.226522,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1281969,"millis":1.281969,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":196523,"millis":0.196523,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":268602,"millis":0.268602,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":195377,"millis":0.195377,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":164120,"millis":0.16412,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":876588,"millis":0.876588,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:12.208 [print] invalid \n"},{"result":{"nanos":854417,"millis":0.854417,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:12.209 [print] must have required property 'program' \n"},{"result":{"nanos":833582,"millis":0.833582,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:12.210 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":117346,"millis":0.117346,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":330574713,"millis":330.574713,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:12.212 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"operation\":\"dataset\"}\n\n15:18:12.539 response time in milliseconds: 324\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 169\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"a9-dLMSUZijziVO9FGnvY0LQ+MYzFo\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"program\"},\"message\":\"must have required property 'program'\"}]}\n\n"},{"result":{"nanos":3131635,"millis":3.131635,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:12.544 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"program\"\n      },\n      \"message\": \"must have required property 'program'\"\n    }\n  ]\n}\n must have required property 'program' \n"},{"result":{"nanos":806508,"millis":0.806508,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":382193463,"millis":382.193463,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":351.571404,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'program'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1891492,"millis":1.891492,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:12.572 remove failed: null\n"},{"result":{"nanos":1723609,"millis":1.723609,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:12.574 remove failed: null\n"},{"result":{"nanos":370861,"millis":0.370861,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":350990,"millis":0.35099,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":298449209,"millis":298.449209,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:12.581 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"operation\":\"dataset\"}\n\n15:18:12.872 response time in milliseconds: 288\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:12 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 169\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"a9-dLMSUZijziVO9FGnvY0LQ+MYzFo\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"program\"},\"message\":\"must have required property 'program'\"}]}\n\n"},{"result":{"nanos":791737,"millis":0.791737,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":39204285,"millis":39.204285,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":934928,"millis":0.934928,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1097161,"millis":1.097161,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3256888,"millis":3.256888,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3899696,"millis":3.899696,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":775044,"millis":0.775044,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":768732,"millis":0.768732,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":10.732449,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454492902,"refId":"[3:24]","endTime":1676454492915,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":10.732449,"passedCount":1}]},{"result":{"nanos":673683,"millis":0.673683,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":717455,"millis":0.717455,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1126693,"millis":1.126693,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3285558,"millis":3.285558,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2985832,"millis":2.985832,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":351.571404,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454492570,"refId":"[1:3]","endTime":1676454492925,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":724.944904,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing program property ","startTime":1676454492199,"refId":"[2.5:30]","endTime":1676454492928,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","operation":"dataset"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":601063,"millis":0.601063,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":570451,"millis":0.570451,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":790348,"millis":0.790348,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":893536,"millis":0.893536,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":996496,"millis":0.996496,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":643600,"millis":0.6436,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":813657,"millis":0.813657,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":781996,"millis":0.781996,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":1448733,"millis":1.448733,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":4348558,"millis":4.348558,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:12.959 [print] invalid \n"},{"result":{"nanos":4266783,"millis":4.266783,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:12.964 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":3199688,"millis":3.199688,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:12.967 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":417240,"millis":0.41724,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":345718027,"millis":345.718027,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:12.974 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 133\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"\",\"operation\":\"dataset\"}\n\n15:18:13.314 response time in milliseconds: 339\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 188\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bc-0IoRgpFtSjqfsu9KBo33VVSb69Q\"\n{\"message\":[{\"instancePath\":\"\/program\",\"schemaPath\":\"#\/properties\/program\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":1078995,"millis":1.078995,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:13.316 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/program\",\n      \"schemaPath\": \"#\/properties\/program\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":284820,"millis":0.28482,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":459522763,"millis":459.522763,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":447.391911,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":887712,"millis":0.887712,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:13.326 remove failed: null\n"},{"result":{"nanos":801427,"millis":0.801427,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:13.327 remove failed: null\n"},{"result":{"nanos":233100,"millis":0.2331,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":121674,"millis":0.121674,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":406258970,"millis":406.25897,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:13.329 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 133\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"\",\"operation\":\"dataset\"}\n\n15:18:13.731 response time in milliseconds: 399\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 188\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bc-0IoRgpFtSjqfsu9KBo33VVSb69Q\"\n{\"message\":[{\"instancePath\":\"\/program\",\"schemaPath\":\"#\/properties\/program\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":588597,"millis":0.588597,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":33155805,"millis":33.155805,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":706110,"millis":0.70611,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":710977,"millis":0.710977,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1863299,"millis":1.863299,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2582760,"millis":2.58276,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":604131,"millis":0.604131,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":559268,"millis":0.559268,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":7.026545,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454493759,"refId":"[3:24]","endTime":1676454493768,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":7.026545,"passedCount":1}]},{"result":{"nanos":411198,"millis":0.411198,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":434174,"millis":0.434174,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":548981,"millis":0.548981,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2615589,"millis":2.615589,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1334684,"millis":1.334684,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":447.391911,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454493325,"refId":"[1:3]","endTime":1676454493774,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":826.376754,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by program as empty string ","startTime":1676454492944,"refId":"[2.6:30]","endTime":1676454493776,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"","operation":"dataset"},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":696762,"millis":0.696762,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":387592,"millis":0.387592,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":849518,"millis":0.849518,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1070196,"millis":1.070196,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1118215,"millis":1.118215,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":549010,"millis":0.54901,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1364040,"millis":1.36404,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":832090,"millis":0.83209,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":740048,"millis":0.740048,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2844491,"millis":2.844491,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:13.802 [print] invalid \n"},{"result":{"nanos":2726752,"millis":2.726752,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:13.805 [print] must have required property 'operation' \n"},{"result":{"nanos":2837171,"millis":2.837171,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:13.808 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\"\n}\n \n"},{"result":{"nanos":371139,"millis":0.371139,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":426808748,"millis":426.808748,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:13.814 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\"}\n\n15:18:14.233 response time in milliseconds: 414\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 173\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ad-t5Wpg96vxXCNNFI0Nynk2lp8uII\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"operation\"},\"message\":\"must have required property 'operation'\"}]}\n\n"},{"result":{"nanos":7501758,"millis":7.501758,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:14.243 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"operation\"\n      },\n      \"message\": \"must have required property 'operation'\"\n    }\n  ]\n}\n must have required property 'operation' \n"},{"result":{"nanos":4024849,"millis":4.024849,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":727874417,"millis":727.874417,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":686.506261,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats"},"testcase_type":"invalid","exp_msg":"must have required property 'operation'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2285386,"millis":2.285386,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:14.288 remove failed: null\n"},{"result":{"nanos":11356362,"millis":11.356362,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:14.299 remove failed: null\n"},{"result":{"nanos":655258,"millis":0.655258,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":4392693,"millis":4.392693,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":566132087,"millis":566.132087,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:14.316 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\"}\n\n15:18:14.864 response time in milliseconds: 545\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 173\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ad-t5Wpg96vxXCNNFI0Nynk2lp8uII\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"operation\"},\"message\":\"must have required property 'operation'\"}]}\n\n"},{"result":{"nanos":5169115,"millis":5.169115,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":73533298,"millis":73.533298,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":713145,"millis":0.713145,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":781828,"millis":0.781828,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":15241399,"millis":15.241399,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":6122236,"millis":6.122236,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":6287540,"millis":6.28754,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":7584338,"millis":7.584338,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":36.730486,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454494911,"refId":"[3:24]","endTime":1676454494949,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":36.730486,"passedCount":1}]},{"result":{"nanos":4631389,"millis":4.631389,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":4004727,"millis":4.004727,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":5591287,"millis":5.591287,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3524720,"millis":3.52472,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":5229939,"millis":5.229939,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":686.506261,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454494285,"refId":"[1:3]","endTime":1676454494975,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1182.596796,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing operation property ","startTime":1676454493789,"refId":"[2.7:30]","endTime":1676454494976,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":802843,"millis":0.802843,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":645818,"millis":0.645818,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":927615,"millis":0.927615,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1377077,"millis":1.377077,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1291059,"millis":1.291059,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":205956,"millis":0.205956,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":300112,"millis":0.300112,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":214875,"millis":0.214875,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":191260,"millis":0.19126,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2379467,"millis":2.379467,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:14.992 [print] invalid \n"},{"result":{"nanos":2262989,"millis":2.262989,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:14.994 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":4242220,"millis":4.24222,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:14.999 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"\"\n}\n \n"},{"result":{"nanos":180135,"millis":0.180135,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":471751638,"millis":471.751638,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:15.004 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"\"}\n\n15:18:15.469 response time in milliseconds: 462\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 192\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c0-YGVNxRy\/gDZVeY2o\/2SzGGHwE\/8\"\n{\"message\":[{\"instancePath\":\"\/operation\",\"schemaPath\":\"#\/properties\/operation\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":3375517,"millis":3.375517,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:15.474 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/operation\",\n      \"schemaPath\": \"#\/properties\/operation\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":799616,"millis":0.799616,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":465650827,"millis":465.650827,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":430.436884,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":""},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1924823,"millis":1.924823,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:15.502 remove failed: null\n"},{"result":{"nanos":1779700,"millis":1.7797,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:15.504 remove failed: null\n"},{"result":{"nanos":2677092,"millis":2.677092,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":1988445,"millis":1.988445,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":370508916,"millis":370.508916,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:15.517 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"\"}\n\n15:18:15.878 response time in milliseconds: 357\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 192\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c0-YGVNxRy\/gDZVeY2o\/2SzGGHwE\/8\"\n{\"message\":[{\"instancePath\":\"\/operation\",\"schemaPath\":\"#\/properties\/operation\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":722465,"millis":0.722465,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":32599251,"millis":32.599251,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":574946,"millis":0.574946,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":2194367,"millis":2.194367,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2342580,"millis":2.34258,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2728441,"millis":2.728441,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":637722,"millis":0.637722,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":541105,"millis":0.541105,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":9.019161,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454495903,"refId":"[3:24]","endTime":1676454495914,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":9.019161,"passedCount":1}]},{"result":{"nanos":10404757,"millis":10.404757,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":961694,"millis":0.961694,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":950177,"millis":0.950177,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2269111,"millis":2.269111,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3650453,"millis":3.650453,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":430.436884,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454495500,"refId":"[1:3]","endTime":1676454495933,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":956.599024,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by operation as empty string ","startTime":1676454494981,"refId":"[2.8:30]","endTime":1676454495942,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":""},"exampleIndex":7},{"sectionIndex":1,"stepResults":[{"result":{"nanos":570707,"millis":0.570707,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":369986,"millis":0.369986,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1421285,"millis":1.421285,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1150496,"millis":1.150496,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1661934,"millis":1.661934,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":649333,"millis":0.649333,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":731571,"millis":0.731571,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":731392,"millis":0.731392,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":527599,"millis":0.527599,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1575574,"millis":1.575574,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:15.985 [print] invalid \n"},{"result":{"nanos":1666904,"millis":1.666904,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:15.987 [print] Invalid dataset name \n"},{"result":{"nanos":1745798,"millis":1.745798,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:15.989 [print] {\n  \"ingestion_name\": \"qa\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":392345,"millis":0.392345,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":394263173,"millis":394.263173,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:15.995 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 112\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"qa\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:16.383 response time in milliseconds: 385\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-1GgN+nKd959IQV9JoEJ+K\/sKtYw\"\n{\"message\":\"Invalid dataset name\"}\n\n"},{"result":{"nanos":3395444,"millis":3.395444,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:16.387 [print] 400 {\n  \"message\": \"Invalid dataset name\"\n}\n Invalid dataset name \n"},{"result":{"nanos":720301,"millis":0.720301,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":639635219,"millis":639.635219,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":597.693674,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"qa","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"Invalid dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1344037,"millis":1.344037,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:16.412 remove failed: null\n"},{"result":{"nanos":1431962,"millis":1.431962,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:16.414 remove failed: null\n"},{"result":{"nanos":334697,"millis":0.334697,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":470113,"millis":0.470113,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":501759865,"millis":501.759865,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:16.419 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 112\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"qa\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:16.916 response time in milliseconds: 495\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-1GgN+nKd959IQV9JoEJ+K\/sKtYw\"\n{\"message\":\"Invalid dataset name\"}\n\n"},{"result":{"nanos":434706,"millis":0.434706,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":88012682,"millis":88.012682,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":592316,"millis":0.592316,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":3769969,"millis":3.769969,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1584090,"millis":1.58409,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1663023,"millis":1.663023,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":40897356,"millis":40.897356,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":8.789811,"callArg":{"actual_output":"Invalid dataset name","expected_output":"Invalid dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4501486,"millis":4.501486,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:18:17.000 [print] Invalid dataset name \n"},{"result":{"nanos":3522354,"millis":3.522354,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:18:17.004 [print] Invalid dataset name \n"},{"result":{"nanos":765971,"millis":0.765971,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":8.789811,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454496996,"refId":"[1:4]","endTime":1676454497005,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":426684,"millis":0.426684,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":48.933438,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454496956,"refId":"[3:24]","endTime":1676454497006,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":48.933438,"passedCount":1}]},{"result":{"nanos":314665,"millis":0.314665,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":324451,"millis":0.324451,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":252022,"millis":0.252022,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1327985,"millis":1.327985,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1686489,"millis":1.686489,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":597.693674,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454496411,"refId":"[1:3]","endTime":1676454497028,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1051.209061,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by providing invalid ingestion_name ","startTime":1676454495952,"refId":"[2.9:30]","endTime":1676454497029,"exampleData":{"ingestion_name":"qa","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":8},{"sectionIndex":1,"stepResults":[{"result":{"nanos":164747,"millis":0.164747,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":99810,"millis":0.09981,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":184905,"millis":0.184905,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":214655,"millis":0.214655,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":199989,"millis":0.199989,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":110355,"millis":0.110355,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":213607,"millis":0.213607,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":160666,"millis":0.160666,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":195139,"millis":0.195139,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":563735,"millis":0.563735,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:17.035 [print] invalid \n"},{"result":{"nanos":477841,"millis":0.477841,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:17.036 [print] must match pattern \"^.*.(csv)$\" \n"},{"result":{"nanos":484665,"millis":0.484665,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:17.036 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":107011,"millis":0.107011,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":245080042,"millis":245.080042,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:17.038 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 138\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:17.280 response time in milliseconds: 240\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:17 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 187\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bb-6jHb1I3Qj0utJJJC\/XxEp7dkdiY\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/pattern\",\"keyword\":\"pattern\",\"params\":{\"pattern\":\"^.*.(csv)$\"},\"message\":\"must match pattern \\\"^.*.(csv)$\\\"\"}]}\n\n"},{"result":{"nanos":5026878,"millis":5.026878,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:17.285 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/key_file\",\n      \"schemaPath\": \"#\/properties\/key_file\/pattern\",\n      \"keyword\": \"pattern\",\n      \"params\": {\n        \"pattern\": \"^.*.(csv)$\"\n      },\n      \"message\": \"must match pattern \\\"^.*.(csv)$\\\"\"\n    }\n  ]\n}\n must match pattern \"^.*.(csv)$\" \n"},{"result":{"nanos":493548,"millis":0.493548,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":435198323,"millis":435.198323,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":407.112893,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must match pattern \"^.*.(csv)$\""},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1903858,"millis":1.903858,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:17.314 remove failed: null\n"},{"result":{"nanos":1638755,"millis":1.638755,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:17.316 remove failed: null\n"},{"result":{"nanos":429847,"millis":0.429847,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":211190,"millis":0.21119,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":368837356,"millis":368.837356,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:17.323 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 138\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:18:17.685 response time in milliseconds: 359\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:17 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 187\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bb-6jHb1I3Qj0utJJJC\/XxEp7dkdiY\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/pattern\",\"keyword\":\"pattern\",\"params\":{\"pattern\":\"^.*.(csv)$\"},\"message\":\"must match pattern \\\"^.*.(csv)$\\\"\"}]}\n\n"},{"result":{"nanos":504113,"millis":0.504113,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":28540633,"millis":28.540633,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":4088054,"millis":4.088054,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":713473,"millis":0.713473,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1847266,"millis":1.847266,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2249039,"millis":2.249039,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":550339,"millis":0.550339,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":409065,"millis":0.409065,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":9.857236,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454497704,"refId":"[3:24]","endTime":1676454497715,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":9.857236,"passedCount":1}]},{"result":{"nanos":332164,"millis":0.332164,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":344959,"millis":0.344959,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":419537,"millis":0.419537,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2190940,"millis":2.19094,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1759541,"millis":1.759541,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":407.112893,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454497312,"refId":"[1:3]","endTime":1676454497722,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":688.975916,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by providing without csv file as extention ","startTime":1676454497033,"refId":"[2.10:30]","endTime":1676454497723,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping","program":"Scl_Stats","operation":"dataset"},"exampleIndex":9},{"sectionIndex":1,"stepResults":[{"result":{"nanos":878300,"millis":0.8783,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":649365,"millis":0.649365,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1061009,"millis":1.061009,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1726119,"millis":1.726119,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1421034,"millis":1.421034,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":1030661,"millis":1.030661,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1457637,"millis":1.457637,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":955794,"millis":0.955794,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":941664,"millis":0.941664,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2718781,"millis":2.718781,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:17.749 [print] invalid \n"},{"result":{"nanos":2304948,"millis":2.304948,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:17.752 [print] Invalid dataset name \n"},{"result":{"nanos":2581601,"millis":2.581601,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:17.754 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"QA!@##\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":379737,"millis":0.379737,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":481480211,"millis":481.480211,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:17.760 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 139\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"QA!@##\",\"operation\":\"dataset\"}\n\n15:18:18.236 response time in milliseconds: 474\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-OG7bfaRGxTkydROwSWP2BuCTrlQ\"\n{\"message\":\"Invalid program name\"}\n\n"},{"result":{"nanos":1797621,"millis":1.797621,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:18.239 [print] 400 {\n  \"message\": \"Invalid program name\"\n}\n Invalid dataset name \n"},{"result":{"nanos":451747,"millis":0.451747,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":536771687,"errorMessage":"js failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26","millis":536.771687,"status":"failed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"stepLog":"15:18:18.778 src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26\n* if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\njs failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26\n","callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":515.067591,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"QA!@##","operation":"dataset"},"testcase_type":"invalid","exp_msg":"Invalid dataset name"},"failedCount":1,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1525105,"millis":1.525105,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:18.260 remove failed: null\n"},{"result":{"nanos":1648603,"millis":1.648603,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:18.261 remove failed: null\n"},{"result":{"nanos":297405,"millis":0.297405,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":245588,"millis":0.245588,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":363714657,"millis":363.714657,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:18.267 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 139\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"QA!@##\",\"operation\":\"dataset\"}\n\n15:18:18.625 response time in milliseconds: 356\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-OG7bfaRGxTkydROwSWP2BuCTrlQ\"\n{\"message\":\"Invalid program name\"}\n\n"},{"result":{"nanos":638059,"millis":0.638059,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":146998174,"errorMessage":"js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10","millis":146.998174,"status":"failed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"stepLog":"15:18:18.775 classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n* if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\njs failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":502411,"millis":0.502411,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":592969,"millis":0.592969,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1004990,"millis":1.00499,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1238063,"millis":1.238063,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":109609133,"errorMessage":"js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49","millis":109.609133,"status":"failed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"stepLog":"15:18:18.772 classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n* if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\njs failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n","callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":14.464105,"callArg":{"actual_output":"Invalid program name","expected_output":"Invalid dataset name"},"failedCount":1,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10034396,"millis":10.034396,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:18:18.686 [print] Invalid program name \n"},{"result":{"nanos":1904210,"millis":1.90421,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:18:18.689 [print] Invalid dataset name \n"},{"result":{"nanos":2525499,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7","millis":2.525499,"status":"failed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"},"stepLog":"15:18:18.698 classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\nAnd match actual_output == expected_output\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n"}],"line":4,"description":"","durationMillis":14.464105,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7","tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454498676,"refId":"[1:4]","endTime":1676454498698,"exampleIndex":-1}],"name":"","passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":112.947566,"failed":true,"error":"js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49","tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454498658,"refId":"[3:24]","endTime":1676454498772,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":112.947566,"passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":515.067591,"failed":true,"error":"js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10","tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454498258,"refId":"[1:3]","endTime":1676454498775,"exampleIndex":-1}],"name":"","passedCount":0}]}],"line":30,"description":"","durationMillis":1038.607916,"failed":true,"error":"js failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26","executorName":"main","name":"Verify the Spec Transformer by invalid program name ","startTime":1676454497733,"refId":"[2.11:30]","endTime":1676454498778,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"QA!@##","operation":"dataset"},"exampleIndex":10},{"sectionIndex":1,"stepResults":[{"result":{"nanos":298642,"millis":0.298642,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":253545,"millis":0.253545,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":280127,"millis":0.280127,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":355035,"millis":0.355035,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":316267,"millis":0.316267,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":311401,"millis":0.311401,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":403241,"millis":0.403241,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":440695,"millis":0.440695,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":312833,"millis":0.312833,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3425917,"millis":3.425917,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:18:18.789 [print] invalid \n"},{"result":{"nanos":1229218,"millis":1.229218,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:18:18.790 [print] Invalid operation type \n"},{"result":{"nanos":1212769,"millis":1.212769,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:18:18.792 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"data\/\"\n}\n \n"},{"result":{"nanos":106835,"millis":0.106835,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":470244844,"millis":470.244844,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:18:18.794 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"data\\\/\"}\n\n15:18:19.261 response time in milliseconds: 464\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:19 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-gyUzWpv2zHo29BdvufzSTRJYgr4\"\n{\"message\":\"Invalid operation type\"}\n\n"},{"result":{"nanos":2440783,"millis":2.440783,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:18:19.264 [print] 400 {\n  \"message\": \"Invalid operation type\"\n}\n Invalid operation type \n"},{"result":{"nanos":436170,"millis":0.43617,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":340250493,"millis":340.250493,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":315.711176,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"data\/"},"testcase_type":"invalid","exp_msg":"Invalid operation type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":5260059,"millis":5.260059,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:18:19.294 remove failed: null\n"},{"result":{"nanos":1403698,"millis":1.403698,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:18:19.295 remove failed: null\n"},{"result":{"nanos":263263,"millis":0.263263,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":250415,"millis":0.250415,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":293729259,"millis":293.729259,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:18:19.314 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"data\\\/\"}\n\n15:18:19.589 response time in milliseconds: 274\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:48:19 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-gyUzWpv2zHo29BdvufzSTRJYgr4\"\n{\"message\":\"Invalid operation type\"}\n\n"},{"result":{"nanos":231037,"millis":0.231037,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":12777874,"millis":12.777874,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":117679,"millis":0.117679,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":103505,"millis":0.103505,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":384745,"millis":0.384745,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":498313,"millis":0.498313,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5512508,"millis":5.512508,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":1.580364,"callArg":{"actual_output":"Invalid operation type","expected_output":"Invalid operation type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":630957,"millis":0.630957,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:18:19.601 [print] Invalid operation type \n"},{"result":{"nanos":620764,"millis":0.620764,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:18:19.602 [print] Invalid operation type \n"},{"result":{"nanos":328643,"millis":0.328643,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":1.580364,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454499601,"refId":"[1:4]","endTime":1676454499603,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":186580,"millis":0.18658,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":6.80333,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454499596,"refId":"[3:24]","endTime":1676454499603,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":6.80333,"passedCount":1}]},{"result":{"nanos":121543,"millis":0.121543,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":91940,"millis":0.09194,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":102825,"millis":0.102825,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":724936,"millis":0.724936,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":754327,"millis":0.754327,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":315.711176,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454499288,"refId":"[1:3]","endTime":1676454499605,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":822.318815,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by invalid operation ","startTime":1676454498782,"refId":"[2.12:30]","endTime":1676454499606,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"data\/"},"exampleIndex":11}],"callDepth":0,"name":"Test Spec Transformer API","description":"","resultDate":"2023-02-15 03:18:19 pm","durationMillis":11388.622848,"passedCount":11}