{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":38493873,"millis":38.493873,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/s3_validation.json')"}}],"line":5,"description":"","durationMillis":38.493873,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676456273347,"refId":"[1:5]","endTime":1676456273398,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":38.493873,"passedCount":1}]},{"result":{"nanos":750342,"millis":0.750342,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":460479,"millis":0.460479,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":907155,"millis":0.907155,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1474323,"millis":1.474323,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1033041,"millis":1.033041,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":8323118,"millis":8.323118,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1468321,"millis":1.468321,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":439789,"millis":0.439789,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":349915,"millis":0.349915,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":5351616,"millis":5.351616,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:53.436 [print] invalid \n"},{"result":{"nanos":1551698,"millis":1.551698,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:53.439 [print] must have required property 'scheduled_at' \n"},{"result":{"nanos":4696569,"millis":4.696569,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:53.444 [print] {\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":295287,"millis":0.295287,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":716034710,"millis":716.03471,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:53.681 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n15:47:54.159 response time in milliseconds: 476\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:54 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":2554421,"millis":2.554421,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:54.163 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_at\"\n      },\n      \"message\": \"must have required property 'scheduled_at'\"\n    }\n  ]\n}\n must have required property 'scheduled_at' \n"},{"result":{"nanos":14384343,"millis":14.384343,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":524537396,"millis":524.537396,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":477.761218,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_at'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1136078,"millis":1.136078,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:54.224 remove failed: null\n"},{"result":{"nanos":891827,"millis":0.891827,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:54.225 remove failed: null\n"},{"result":{"nanos":293816,"millis":0.293816,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":203632,"millis":0.203632,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":310892662,"millis":310.892662,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:54.228 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n15:47:54.530 response time in milliseconds: 299\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:54 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":18027912,"millis":18.027912,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":126086480,"millis":126.08648,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1527055,"millis":1.527055,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1905066,"millis":1.905066,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":33030292,"millis":33.030292,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":12720042,"millis":12.720042,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":1823557,"millis":1.823557,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1578341,"millis":1.578341,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":52.584353,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456274627,"refId":"[3:24]","endTime":1676456274681,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":52.584353,"passedCount":1}]},{"result":{"nanos":1053361,"millis":1.053361,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1255544,"millis":1.255544,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2463070,"millis":2.46307,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":14182052,"millis":14.182052,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1274784,"millis":1.274784,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":477.761218,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456274223,"refId":"[1:3]","endTime":1676456274702,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1284.612523,"failed":false,"executorName":"main","name":"Verify the spec s3 api with invalid request body","startTime":1676456273407,"refId":"[2.1:30]","endTime":1676456274703,"exampleData":{"scheduled_type":"Archive | Error"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":545853,"millis":0.545853,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":419147,"millis":0.419147,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":696001,"millis":0.696001,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":795273,"millis":0.795273,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":844713,"millis":0.844713,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":217253,"millis":0.217253,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":224800,"millis":0.2248,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":200470,"millis":0.20047,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":183221,"millis":0.183221,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1847337,"millis":1.847337,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:54.715 [print] invalid \n"},{"result":{"nanos":1438296,"millis":1.438296,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:54.717 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1545537,"millis":1.545537,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:54.719 [print] {\n  \"scheduled_at\": \" \",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":173650,"millis":0.17365,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":378062966,"millis":378.062966,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:54.721 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 55\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:55.090 response time in milliseconds: 365\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:55 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":14878718,"millis":14.878718,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:55.113 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_at\",\n      \"schemaPath\": \"#\/properties\/scheduled_at\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":728886,"millis":0.728886,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":557540754,"millis":557.540754,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":510.798727,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":" ","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":22618605,"millis":22.618605,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:55.180 remove failed: null\n"},{"result":{"nanos":2637313,"millis":2.637313,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:55.182 remove failed: null\n"},{"result":{"nanos":491601,"millis":0.491601,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":459861,"millis":0.459861,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":412438833,"millis":412.438833,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:55.190 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 55\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:55.593 response time in milliseconds: 401\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:55 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":952571,"millis":0.952571,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":60823998,"millis":60.823998,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":776669,"millis":0.776669,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1090721,"millis":1.090721,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":4485332,"millis":4.485332,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":5549994,"millis":5.549994,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":675695,"millis":0.675695,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":541409,"millis":0.541409,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":13.11982,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456275645,"refId":"[3:24]","endTime":1676456275659,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":13.11982,"passedCount":1}]},{"result":{"nanos":1338201,"millis":1.338201,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":561678,"millis":0.561678,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":727134,"millis":0.727134,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2628978,"millis":2.628978,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":5119954,"millis":5.119954,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":510.798727,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456275157,"refId":"[1:3]","endTime":1676456275671,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":960.342875,"failed":false,"executorName":"main","name":"Verify the spec s3 api with empty scheduled property in the request body","startTime":1676456274708,"refId":"[2.2:30]","endTime":1676456275672,"exampleData":{"scheduled_at":" ","scheduled_type":"Archive | Error"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":241485,"millis":0.241485,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":135586,"millis":0.135586,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":342040,"millis":0.34204,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":380149,"millis":0.380149,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":869070,"millis":0.86907,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":266982,"millis":0.266982,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":655664,"millis":0.655664,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":327245,"millis":0.327245,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":299700,"millis":0.2997,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":746919,"millis":0.746919,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:55.684 [print] invalid \n"},{"result":{"nanos":591431,"millis":0.591431,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:55.685 [print] Unexpected end of expression \n"},{"result":{"nanos":764011,"millis":0.764011,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:55.686 [print] {\n  \"scheduled_at\": \"scheduled\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":176795,"millis":0.176795,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":300932282,"millis":300.932282,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:55.690 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 63\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:55.985 response time in milliseconds: 292\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:55 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":3405982,"millis":3.405982,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:55.991 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n Unexpected end of expression \n"},{"result":{"nanos":590594,"millis":0.590594,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":397828705,"millis":397.828705,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":351.10714,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"scheduled","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3538094,"millis":3.538094,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:56.032 remove failed: null\n"},{"result":{"nanos":3556236,"millis":3.556236,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:56.036 remove failed: null\n"},{"result":{"nanos":414043,"millis":0.414043,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":355256,"millis":0.355256,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":261805207,"millis":261.805207,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:56.045 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 63\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:56.296 response time in milliseconds: 248\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:56 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":702493,"millis":0.702493,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":69881483,"millis":69.881483,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":677791,"millis":0.677791,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":5361101,"millis":5.361101,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":24116647,"millis":24.116647,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":4305066,"millis":4.305066,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":670809,"millis":0.670809,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":520972,"millis":0.520972,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":35.652386,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456276333,"refId":"[3:24]","endTime":1676456276370,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":35.652386,"passedCount":1}]},{"result":{"nanos":638352,"millis":0.638352,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":624529,"millis":0.624529,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":608814,"millis":0.608814,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5914959,"millis":5.914959,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3067674,"millis":3.067674,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":351.10714,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456276028,"refId":"[1:3]","endTime":1676456276388,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":708.55464,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676456275679,"refId":"[2.3:30]","endTime":1676456276390,"exampleData":{"scheduled_at":"scheduled","scheduled_type":"Archive | Error"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":424393,"millis":0.424393,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":241211,"millis":0.241211,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":897400,"millis":0.8974,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":628610,"millis":0.62861,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1975764,"millis":1.975764,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":247810,"millis":0.24781,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":949842,"millis":0.949842,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":362907,"millis":0.362907,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":321304,"millis":0.321304,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1071699,"millis":1.071699,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:56.419 [print] invalid \n"},{"result":{"nanos":975629,"millis":0.975629,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:56.420 [print] Unexpected end of expression \n"},{"result":{"nanos":1876288,"millis":1.876288,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:56.422 [print] {\n  \"scheduled_at\": \"123445\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":206698,"millis":0.206698,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":305445206,"millis":305.445206,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:56.426 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 60\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:56.724 response time in milliseconds: 295\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:56 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":5432288,"millis":5.432288,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:56.733 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n Unexpected end of expression \n"},{"result":{"nanos":908294,"millis":0.908294,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":519386133,"millis":519.386133,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":486.020546,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"123445","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14711666,"millis":14.711666,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:56.768 remove failed: null\n"},{"result":{"nanos":3103664,"millis":3.103664,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:56.783 remove failed: null\n"},{"result":{"nanos":612969,"millis":0.612969,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":393201,"millis":0.393201,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":425116344,"millis":425.116344,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:56.798 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 60\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:57.207 response time in milliseconds: 407\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:57 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":660024,"millis":0.660024,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":36938790,"millis":36.93879,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":715306,"millis":0.715306,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":507722,"millis":0.507722,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1466352,"millis":1.466352,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1728266,"millis":1.728266,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":437342,"millis":0.437342,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":342880,"millis":0.34288,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":5.197868,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456277242,"refId":"[3:24]","endTime":1676456277248,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":5.197868,"passedCount":1}]},{"result":{"nanos":208699,"millis":0.208699,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":219707,"millis":0.219707,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":225184,"millis":0.225184,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2216662,"millis":2.216662,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1613636,"millis":1.613636,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":486.020546,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456276764,"refId":"[1:3]","endTime":1676456277253,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":841.351476,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676456276410,"refId":"[2.4:30]","endTime":1676456277255,"exampleData":{"scheduled_at":"123445","scheduled_type":"Archive | Error"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":207024,"millis":0.207024,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":113467,"millis":0.113467,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":274685,"millis":0.274685,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":353486,"millis":0.353486,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":323660,"millis":0.32366,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":170795,"millis":0.170795,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":247456,"millis":0.247456,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":202204,"millis":0.202204,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":195730,"millis":0.19573,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1821831,"millis":1.821831,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:57.272 [print] invalid \n"},{"result":{"nanos":1270518,"millis":1.270518,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:57.273 [print] must have required property 'scheduled_type' \n"},{"result":{"nanos":1476347,"millis":1.476347,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:57.275 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\"\n}\n \n"},{"result":{"nanos":171435,"millis":0.171435,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":454093059,"millis":454.093059,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:57.279 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n15:47:57.727 response time in milliseconds: 445\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:57 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":3689082,"millis":3.689082,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:57.733 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_type\"\n      },\n      \"message\": \"must have required property 'scheduled_type'\"\n    }\n  ]\n}\n must have required property 'scheduled_type' \n"},{"result":{"nanos":681180,"millis":0.68118,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":452753855,"millis":452.753855,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":422.994817,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_type'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1783526,"millis":1.783526,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:57.761 remove failed: null\n"},{"result":{"nanos":1802197,"millis":1.802197,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:57.763 remove failed: null\n"},{"result":{"nanos":454543,"millis":0.454543,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":368831,"millis":0.368831,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":371247852,"millis":371.247852,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:57.769 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n15:47:58.133 response time in milliseconds: 358\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:58 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":676023,"millis":0.676023,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":37496644,"millis":37.496644,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":835629,"millis":0.835629,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1040978,"millis":1.040978,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3130376,"millis":3.130376,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3778722,"millis":3.778722,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":793972,"millis":0.793972,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":562671,"millis":0.562671,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":10.142348,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456278162,"refId":"[3:24]","endTime":1676456278174,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":10.142348,"passedCount":1}]},{"result":{"nanos":565571,"millis":0.565571,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":861703,"millis":0.861703,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1189718,"millis":1.189718,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3522118,"millis":3.522118,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3026091,"millis":3.026091,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":422.994817,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456277759,"refId":"[1:3]","endTime":1676456278185,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":918.045814,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type in the request body","startTime":1676456277267,"refId":"[2.5:30]","endTime":1676456278188,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1092361,"millis":1.092361,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":648918,"millis":0.648918,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":1579446,"millis":1.579446,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1176863,"millis":1.176863,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1175781,"millis":1.175781,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":788272,"millis":0.788272,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1584902,"millis":1.584902,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":2654494,"millis":2.654494,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":845316,"millis":0.845316,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":11593117,"millis":11.593117,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:58.251 [print] invalid \n"},{"result":{"nanos":1952943,"millis":1.952943,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:58.253 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1956170,"millis":1.95617,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:58.255 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \" \"\n}\n \n"},{"result":{"nanos":352695,"millis":0.352695,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":395817108,"millis":395.817108,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:58.260 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n15:47:58.649 response time in milliseconds: 386\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:58 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":4260153,"millis":4.260153,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:58.656 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":909184,"millis":0.909184,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":477697957,"millis":477.697957,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":449.399923,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1919512,"millis":1.919512,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:58.684 remove failed: null\n"},{"result":{"nanos":1659577,"millis":1.659577,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:58.686 remove failed: null\n"},{"result":{"nanos":364176,"millis":0.364176,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":316898,"millis":0.316898,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":368704056,"millis":368.704056,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:58.692 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n15:47:59.054 response time in milliseconds: 358\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:59 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":643578,"millis":0.643578,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":62172855,"millis":62.172855,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":861181,"millis":0.861181,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":764978,"millis":0.764978,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":10207111,"millis":10.207111,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3713063,"millis":3.713063,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":859545,"millis":0.859545,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":4760467,"millis":4.760467,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":21.166345,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456279096,"refId":"[3:24]","endTime":1676456279119,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":21.166345,"passedCount":1}]},{"result":{"nanos":492353,"millis":0.492353,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":421071,"millis":0.421071,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":488251,"millis":0.488251,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":10273077,"millis":10.273077,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1944519,"millis":1.944519,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":449.399923,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456278682,"refId":"[1:3]","endTime":1676456279134,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":906.08568,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676456278213,"refId":"[2.6:30]","endTime":1676456279136,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":520339,"millis":0.520339,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":299648,"millis":0.299648,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":1019352,"millis":1.019352,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":535618,"millis":0.535618,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":474987,"millis":0.474987,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":268609,"millis":0.268609,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":443341,"millis":0.443341,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":413352,"millis":0.413352,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":343152,"millis":0.343152,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2260609,"millis":2.260609,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:59.183 [print] invalid \n"},{"result":{"nanos":3761641,"millis":3.761641,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:59.187 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":3826871,"millis":3.826871,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:59.192 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":252307,"millis":0.252307,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":304860632,"millis":304.860632,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:59.196 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:59.497 response time in milliseconds: 300\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:59 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":698345,"millis":0.698345,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:47:59.498 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":154284,"millis":0.154284,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":403519568,"millis":403.519568,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":394.921146,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":505739,"millis":0.505739,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:47:59.504 remove failed: null\n"},{"result":{"nanos":392507,"millis":0.392507,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:47:59.504 remove failed: null\n"},{"result":{"nanos":118037,"millis":0.118037,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":74581,"millis":0.074581,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":320695402,"millis":320.695402,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:47:59.506 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:47:59.823 response time in milliseconds: 310\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:17:59 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":613191,"millis":0.613191,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":69305808,"millis":69.305808,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":879390,"millis":0.87939,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":932058,"millis":0.932058,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1522186,"millis":1.522186,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1700550,"millis":1.70055,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":322803,"millis":0.322803,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1584132,"millis":1.584132,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":6.941119,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456279885,"refId":"[3:24]","endTime":1676456279897,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":6.941119,"passedCount":1}]},{"result":{"nanos":319477,"millis":0.319477,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":285898,"millis":0.285898,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":220901,"millis":0.220901,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1159001,"millis":1.159001,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1230604,"millis":1.230604,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":394.921146,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456279503,"refId":"[1:3]","endTime":1676456279901,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":723.652655,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as multiple values","startTime":1676456279175,"refId":"[2.7:30]","endTime":1676456279902,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":225773,"millis":0.225773,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":905481,"millis":0.905481,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":702017,"millis":0.702017,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1006140,"millis":1.00614,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":872413,"millis":0.872413,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":126840,"millis":0.12684,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":280171,"millis":0.280171,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":314432,"millis":0.314432,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":174402,"millis":0.174402,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1344839,"millis":1.344839,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:47:59.940 [print] invalid \n"},{"result":{"nanos":2827590,"millis":2.82759,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:47:59.943 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":1273610,"millis":1.27361,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:47:59.944 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":108601,"millis":0.108601,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":448932244,"millis":448.932244,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:47:59.952 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:48:00.393 response time in milliseconds: 434\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:18:00 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":8171850,"millis":8.17185,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:48:00.402 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":11594528,"millis":11.594528,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":535873026,"millis":535.873026,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":494.76655,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2289673,"millis":2.289673,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:48:00.456 remove failed: null\n"},{"result":{"nanos":1307122,"millis":1.307122,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:48:00.457 remove failed: null\n"},{"result":{"nanos":769569,"millis":0.769569,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":781016,"millis":0.781016,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":359786204,"millis":359.786204,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:48:00.468 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:48:00.818 response time in milliseconds: 347\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:18:00 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":3034201,"millis":3.034201,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":91812252,"millis":91.812252,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":564892,"millis":0.564892,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":12999071,"millis":12.999071,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":22614687,"millis":22.614687,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":4380345,"millis":4.380345,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":3327530,"millis":3.32753,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":8070161,"millis":8.070161,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":51.956686,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456280861,"refId":"[3:24]","endTime":1676456280915,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":51.956686,"passedCount":1}]},{"result":{"nanos":19428867,"millis":19.428867,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1547572,"millis":1.547572,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1963412,"millis":1.963412,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1956619,"millis":1.956619,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":10090043,"millis":10.090043,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":494.76655,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456280453,"refId":"[1:3]","endTime":1676456280951,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1014.733957,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676456279907,"refId":"[2.8:30]","endTime":1676456280952,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":7}],"callDepth":0,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 03:48:00 pm","durationMillis":7357.37962,"passedCount":8}