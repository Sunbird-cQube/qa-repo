{"failedCount":1,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specTransformer","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specTransformer","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":31215622,"millis":31.215622,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/transformer_validator.json')"}}],"line":5,"description":"","durationMillis":31.215622,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676454256066,"refId":"[1:5]","endTime":1676454256110,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec Transformer API","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":31.215622,"passedCount":1}]},{"result":{"nanos":597212,"millis":0.597212,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":328606,"millis":0.328606,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":641340,"millis":0.64134,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1400903,"millis":1.400903,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":877509,"millis":0.877509,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":6832529,"millis":6.832529,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1355085,"millis":1.355085,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":478743,"millis":0.478743,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":386067,"millis":0.386067,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":4901898,"millis":4.901898,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:16.144 [print] invalid \n"},{"result":{"nanos":1447831,"millis":1.447831,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:16.148 [print] must have required property 'ingestion_name' \n"},{"result":{"nanos":4823853,"millis":4.823853,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:16.152 [print] {\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":253935,"millis":0.253935,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":2050156400,"millis":2050.1564,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:16.392 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:18.202 response time in milliseconds: 1807\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-XLRWP9tK+pgR1jYOFiVUXNRz1Ww\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"ingestion_name\"},\"message\":\"must have required property 'ingestion_name'\"}]}\n\n"},{"result":{"nanos":2510123,"millis":2.510123,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:18.206 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"ingestion_name\"\n      },\n      \"message\": \"must have required property 'ingestion_name'\"\n    }\n  ]\n}\n must have required property 'ingestion_name' \n"},{"result":{"nanos":17306924,"millis":17.306924,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":1108707405,"millis":1108.707405,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":1067.89572,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'ingestion_name'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1166165,"millis":1.166165,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:18.263 remove failed: null\n"},{"result":{"nanos":943803,"millis":0.943803,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:18.264 remove failed: null\n"},{"result":{"nanos":459143,"millis":0.459143,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":201553,"millis":0.201553,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":921713175,"millis":921.713175,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:18.267 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:19.167 response time in milliseconds: 897\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:19 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-XLRWP9tK+pgR1jYOFiVUXNRz1Ww\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"ingestion_name\"},\"message\":\"must have required property 'ingestion_name'\"}]}\n\n"},{"result":{"nanos":25898133,"millis":25.898133,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":96107327,"millis":96.107327,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1008933,"millis":1.008933,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":588034,"millis":0.588034,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":17944827,"millis":17.944827,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":7576718,"millis":7.576718,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":2190595,"millis":2.190595,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":2061667,"millis":2.061667,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":31.370774,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454259277,"refId":"[3:24]","endTime":1676454259310,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":31.370774,"passedCount":1}]},{"result":{"nanos":1145316,"millis":1.145316,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1041085,"millis":1.041085,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2012905,"millis":2.012905,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":15733766,"millis":15.733766,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1473349,"millis":1.473349,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":1067.89572,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454258262,"refId":"[1:3]","endTime":1676454259332,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":3203.006363,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing ingestion_name property ","startTime":1676454256119,"refId":"[2.1:30]","endTime":1676454259332,"exampleData":{"key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":795695,"millis":0.795695,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":526032,"millis":0.526032,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1133911,"millis":1.133911,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1116594,"millis":1.116594,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":979361,"millis":0.979361,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":211796,"millis":0.211796,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":300897,"millis":0.300897,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":196420,"millis":0.19642,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":197489,"millis":0.197489,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1261569,"millis":1.261569,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:19.346 [print] invalid \n"},{"result":{"nanos":1442041,"millis":1.442041,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:19.347 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1994351,"millis":1.994351,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:19.349 [print] {\n  \"ingestion_name\": \"\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":157328,"millis":0.157328,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":985134009,"millis":985.134009,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:19.352 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:20.328 response time in milliseconds: 972\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:20 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 202\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ca-Suqk7WemHCi7UAUQ5eY+bV1NFoQ\"\n{\"message\":[{\"instancePath\":\"\/ingestion_name\",\"schemaPath\":\"#\/properties\/ingestion_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":8297797,"millis":8.297797,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:20.343 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/ingestion_name\",\n      \"schemaPath\": \"#\/properties\/ingestion_name\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1358819,"millis":1.358819,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":938701948,"millis":938.701948,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":868.762136,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2034317,"millis":2.034317,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:20.416 remove failed: null\n"},{"result":{"nanos":2272819,"millis":2.272819,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:20.418 remove failed: null\n"},{"result":{"nanos":237963,"millis":0.237963,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":163294,"millis":0.163294,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":753709175,"millis":753.709175,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:20.422 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:21.168 response time in milliseconds: 743\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:21 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 202\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ca-Suqk7WemHCi7UAUQ5eY+bV1NFoQ\"\n{\"message\":[{\"instancePath\":\"\/ingestion_name\",\"schemaPath\":\"#\/properties\/ingestion_name\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":1914114,"millis":1.914114,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":102759749,"millis":102.759749,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":913060,"millis":0.91306,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":10459710,"millis":10.45971,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":4605015,"millis":4.605015,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":9876331,"millis":9.876331,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":635071,"millis":0.635071,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":452502,"millis":0.452502,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":26.941689,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454261249,"refId":"[3:24]","endTime":1676454261278,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":26.941689,"passedCount":1}]},{"result":{"nanos":1060760,"millis":1.06076,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":378939,"millis":0.378939,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":423815,"millis":0.423815,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2018458,"millis":2.018458,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1788733,"millis":1.788733,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":868.762136,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454260414,"refId":"[1:3]","endTime":1676454261284,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1943.806057,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by ingestion_name as empty string ","startTime":1676454259337,"refId":"[2.2:30]","endTime":1676454261285,"exampleData":{"ingestion_name":"","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"dataset"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1372880,"millis":1.37288,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":249224,"millis":0.249224,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":421460,"millis":0.42146,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":480453,"millis":0.480453,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":2408706,"millis":2.408706,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":351029,"millis":0.351029,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1033728,"millis":1.033728,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":676024,"millis":0.676024,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":601839,"millis":0.601839,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1336139,"millis":1.336139,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:21.311 [print] invalid \n"},{"result":{"nanos":1699384,"millis":1.699384,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:21.313 [print] must have required property 'key_file' \n"},{"result":{"nanos":1314400,"millis":1.3144,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:21.315 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":134940,"millis":0.13494,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":832366476,"millis":832.366476,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:21.317 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 97\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:22.142 response time in milliseconds: 824\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:22 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 171\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ab-02HMqJ3CEGA1WdIiwLIY59Jmgq8\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"key_file\"},\"message\":\"must have required property 'key_file'\"}]}\n\n"},{"result":{"nanos":2860692,"millis":2.860692,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:22.154 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"key_file\"\n      },\n      \"message\": \"must have required property 'key_file'\"\n    }\n  ]\n}\n must have required property 'key_file' \n"},{"result":{"nanos":201770,"millis":0.20177,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":614168589,"millis":614.168589,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":576.679932,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'key_file'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":867542,"millis":0.867542,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:22.189 remove failed: null\n"},{"result":{"nanos":3885416,"millis":3.885416,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:22.193 remove failed: null\n"},{"result":{"nanos":242084,"millis":0.242084,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":112964,"millis":0.112964,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":523188023,"millis":523.188023,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:22.196 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 97\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:22.713 response time in milliseconds: 513\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:22 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 171\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ab-02HMqJ3CEGA1WdIiwLIY59Jmgq8\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"key_file\"},\"message\":\"must have required property 'key_file'\"}]}\n\n"},{"result":{"nanos":758513,"millis":0.758513,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":37890511,"millis":37.890511,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":891864,"millis":0.891864,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":821818,"millis":0.821818,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2197010,"millis":2.19701,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2943751,"millis":2.943751,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":784866,"millis":0.784866,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":623780,"millis":0.62378,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":8.263089,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454262746,"refId":"[3:24]","endTime":1676454262756,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":8.263089,"passedCount":1}]},{"result":{"nanos":599215,"millis":0.599215,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":634966,"millis":0.634966,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1007480,"millis":1.00748,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4304264,"millis":4.304264,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3188954,"millis":3.188954,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":576.679932,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454262188,"refId":"[1:3]","endTime":1676454262767,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1461.677733,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing key_file property ","startTime":1676454261301,"refId":"[2.3:30]","endTime":1676454262769,"exampleData":{"ingestion_name":"event_school_statistics_students","program":"Scl_Stats","operation":"dataset"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":559233,"millis":0.559233,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":420017,"millis":0.420017,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":870536,"millis":0.870536,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":923024,"millis":0.923024,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":955603,"millis":0.955603,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":582452,"millis":0.582452,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":8068045,"millis":8.068045,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":1062909,"millis":1.062909,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":991944,"millis":0.991944,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":6697419,"millis":6.697419,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:22.813 [print] invalid \n"},{"result":{"nanos":3763559,"millis":3.763559,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:22.817 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":3509178,"millis":3.509178,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:22.821 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":376608,"millis":0.376608,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":382800043,"millis":382.800043,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:22.828 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:23.201 response time in milliseconds: 370\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:23 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-VA7PWZ9JomstC1+IWdhpgXxU5wQ\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":4527583,"millis":4.527583,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:23.209 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/key_file\",\n      \"schemaPath\": \"#\/properties\/key_file\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":551403,"millis":0.551403,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":396660908,"millis":396.660908,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":350.096325,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"","program":"Scl_Stats","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2073036,"millis":2.073036,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:23.254 remove failed: null\n"},{"result":{"nanos":1872340,"millis":1.87234,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:23.257 remove failed: null\n"},{"result":{"nanos":359934,"millis":0.359934,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":304806,"millis":0.304806,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":296332671,"millis":296.332671,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:23.263 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"\",\"program\":\"Scl_Stats\",\"operation\":\"dataset\"}\n\n15:14:23.552 response time in milliseconds: 287\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:23 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 190\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"be-VA7PWZ9JomstC1+IWdhpgXxU5wQ\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":649375,"millis":0.649375,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":39336005,"millis":39.336005,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":757343,"millis":0.757343,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":821923,"millis":0.821923,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3978118,"millis":3.978118,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":4287229,"millis":4.287229,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":737073,"millis":0.737073,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":611126,"millis":0.611126,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":11.192812,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454263581,"refId":"[3:24]","endTime":1676454263595,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":11.192812,"passedCount":1}]},{"result":{"nanos":434043,"millis":0.434043,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":455868,"millis":0.455868,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":551287,"millis":0.551287,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5179486,"millis":5.179486,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2547474,"millis":2.547474,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":350.096325,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454263252,"refId":"[1:3]","endTime":1676454263606,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":813.320464,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by key_file as empty string ","startTime":1676454262789,"refId":"[2.4:30]","endTime":1676454263607,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"","program":"Scl_Stats","operation":"dataset"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":553194,"millis":0.553194,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":361427,"millis":0.361427,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":1000900,"millis":1.0009,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1025736,"millis":1.025736,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1044522,"millis":1.044522,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":577687,"millis":0.577687,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":714179,"millis":0.714179,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":648568,"millis":0.648568,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":699952,"millis":0.699952,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":5027256,"millis":5.027256,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:23.648 [print] invalid \n"},{"result":{"nanos":3997069,"millis":3.997069,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:23.652 [print] must have required property 'program' \n"},{"result":{"nanos":4040358,"millis":4.040358,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:23.656 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":393751,"millis":0.393751,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":366905556,"millis":366.905556,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:23.664 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"operation\":\"dataset\"}\n\n15:14:24.022 response time in milliseconds: 354\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:23 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 169\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"a9-dLMSUZijziVO9FGnvY0LQ+MYzFo\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"program\"},\"message\":\"must have required property 'program'\"}]}\n\n"},{"result":{"nanos":4281038,"millis":4.281038,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:24.029 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"program\"\n      },\n      \"message\": \"must have required property 'program'\"\n    }\n  ]\n}\n must have required property 'program' \n"},{"result":{"nanos":768368,"millis":0.768368,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":584930821,"millis":584.930821,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":550.827895,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must have required property 'program'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2716647,"millis":2.716647,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:24.062 remove failed: null\n"},{"result":{"nanos":2368204,"millis":2.368204,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:24.065 remove failed: null\n"},{"result":{"nanos":1120152,"millis":1.120152,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":350442,"millis":0.350442,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":493716934,"millis":493.716934,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:24.072 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"operation\":\"dataset\"}\n\n15:14:24.558 response time in milliseconds: 481\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:24 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 169\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"a9-dLMSUZijziVO9FGnvY0LQ+MYzFo\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"program\"},\"message\":\"must have required property 'program'\"}]}\n\n"},{"result":{"nanos":1340633,"millis":1.340633,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":39691833,"millis":39.691833,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":773885,"millis":0.773885,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":913360,"millis":0.91336,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":3549956,"millis":3.549956,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3287947,"millis":3.287947,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":791708,"millis":0.791708,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":731234,"millis":0.731234,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":10.04809,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454264591,"refId":"[3:24]","endTime":1676454264602,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":10.04809,"passedCount":1}]},{"result":{"nanos":685847,"millis":0.685847,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":710679,"millis":0.710679,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1021936,"millis":1.021936,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":4136401,"millis":4.136401,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2968187,"millis":2.968187,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":550.827895,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454264059,"refId":"[1:3]","endTime":1676454264613,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":976.970382,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing program property ","startTime":1676454263633,"refId":"[2.5:30]","endTime":1676454264615,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","operation":"dataset"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":649912,"millis":0.649912,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":445784,"millis":0.445784,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":926243,"millis":0.926243,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":1045960,"millis":1.04596,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1050435,"millis":1.050435,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":617486,"millis":0.617486,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1013413,"millis":1.013413,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":765066,"millis":0.765066,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":750098,"millis":0.750098,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2120853,"millis":2.120853,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:24.639 [print] invalid \n"},{"result":{"nanos":2030143,"millis":2.030143,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:24.641 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":2807309,"millis":2.807309,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:24.644 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":437313,"millis":0.437313,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":603205926,"millis":603.205926,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:24.651 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 133\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"\",\"operation\":\"dataset\"}\n\n15:14:25.246 response time in milliseconds: 587\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:25 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 188\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bc-0IoRgpFtSjqfsu9KBo33VVSb69Q\"\n{\"message\":[{\"instancePath\":\"\/program\",\"schemaPath\":\"#\/properties\/program\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":11484560,"millis":11.48456,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:25.259 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/program\",\n      \"schemaPath\": \"#\/properties\/program\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1697190,"millis":1.69719,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":522604382,"millis":522.604382,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":435.796607,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4884597,"millis":4.884597,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:25.351 remove failed: null\n"},{"result":{"nanos":3379988,"millis":3.379988,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:25.355 remove failed: null\n"},{"result":{"nanos":364411,"millis":0.364411,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":260337,"millis":0.260337,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":388071632,"millis":388.071632,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:25.359 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 133\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"\",\"operation\":\"dataset\"}\n\n15:14:25.741 response time in milliseconds: 379\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:25 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 188\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bc-0IoRgpFtSjqfsu9KBo33VVSb69Q\"\n{\"message\":[{\"instancePath\":\"\/program\",\"schemaPath\":\"#\/properties\/program\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":570516,"millis":0.570516,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":32465360,"millis":32.46536,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":735425,"millis":0.735425,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":810443,"millis":0.810443,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2411623,"millis":2.411623,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3474207,"millis":3.474207,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":650322,"millis":0.650322,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":592123,"millis":0.592123,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":8.674143,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454265766,"refId":"[3:24]","endTime":1676454265777,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":8.674143,"passedCount":1}]},{"result":{"nanos":438948,"millis":0.438948,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":444236,"millis":0.444236,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":610098,"millis":0.610098,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2510487,"millis":2.510487,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1795997,"millis":1.795997,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":435.796607,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454265346,"refId":"[1:3]","endTime":1676454265784,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1153.652073,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by program as empty string ","startTime":1676454264626,"refId":"[2.6:30]","endTime":1676454265786,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"","operation":"dataset"},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":519391,"millis":0.519391,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":337799,"millis":0.337799,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":646732,"millis":0.646732,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":910124,"millis":0.910124,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":945766,"millis":0.945766,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":608068,"millis":0.608068,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":917741,"millis":0.917741,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":659235,"millis":0.659235,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":899196,"millis":0.899196,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2757143,"millis":2.757143,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:25.807 [print] invalid \n"},{"result":{"nanos":2741041,"millis":2.741041,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:25.810 [print] must have required property 'operation' \n"},{"result":{"nanos":4773472,"millis":4.773472,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:25.815 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\"\n}\n \n"},{"result":{"nanos":667890,"millis":0.66789,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":467375181,"millis":467.375181,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:25.823 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\"}\n\n15:14:26.284 response time in milliseconds: 459\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:26 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 173\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ad-t5Wpg96vxXCNNFI0Nynk2lp8uII\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"operation\"},\"message\":\"must have required property 'operation'\"}]}\n\n"},{"result":{"nanos":1250846,"millis":1.250846,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:26.286 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"operation\"\n      },\n      \"message\": \"must have required property 'operation'\"\n    }\n  ]\n}\n must have required property 'operation' \n"},{"result":{"nanos":247662,"millis":0.247662,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":576657272,"millis":576.657272,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":565.103424,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats"},"testcase_type":"invalid","exp_msg":"must have required property 'operation'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":731176,"millis":0.731176,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:26.294 remove failed: null\n"},{"result":{"nanos":610403,"millis":0.610403,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:26.295 remove failed: null\n"},{"result":{"nanos":128081,"millis":0.128081,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":76739,"millis":0.076739,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":487911661,"millis":487.911661,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:26.296 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\"}\n\n15:14:26.781 response time in milliseconds: 481\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:26 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 173\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"ad-t5Wpg96vxXCNNFI0Nynk2lp8uII\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"operation\"},\"message\":\"must have required property 'operation'\"}]}\n\n"},{"result":{"nanos":727186,"millis":0.727186,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":62704042,"millis":62.704042,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":670761,"millis":0.670761,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":806723,"millis":0.806723,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2072244,"millis":2.072244,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":10814534,"millis":10.814534,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":740057,"millis":0.740057,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":857375,"millis":0.857375,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":15.961694,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454266817,"refId":"[3:24]","endTime":1676454266846,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":15.961694,"passedCount":1}]},{"result":{"nanos":601886,"millis":0.601886,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":741617,"millis":0.741617,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1493214,"millis":1.493214,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5536439,"millis":5.536439,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3840980,"millis":3.84098,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":565.103424,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454266293,"refId":"[1:3]","endTime":1676454266861,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1062.914559,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by removing operation property ","startTime":1676454265796,"refId":"[2.7:30]","endTime":1676454266863,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":338140,"millis":0.33814,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":206913,"millis":0.206913,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":460491,"millis":0.460491,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":503462,"millis":0.503462,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":523917,"millis":0.523917,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":275958,"millis":0.275958,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":487470,"millis":0.48747,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":379066,"millis":0.379066,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":333744,"millis":0.333744,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1354986,"millis":1.354986,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:26.881 [print] invalid \n"},{"result":{"nanos":1168137,"millis":1.168137,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:26.883 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1448836,"millis":1.448836,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:26.884 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"\"\n}\n \n"},{"result":{"nanos":174155,"millis":0.174155,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":305094526,"millis":305.094526,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:26.888 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"\"}\n\n15:14:27.188 response time in milliseconds: 298\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 192\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c0-YGVNxRy\/gDZVeY2o\/2SzGGHwE\/8\"\n{\"message\":[{\"instancePath\":\"\/operation\",\"schemaPath\":\"#\/properties\/operation\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":2945177,"millis":2.945177,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:27.193 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/operation\",\n      \"schemaPath\": \"#\/properties\/operation\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":511014,"millis":0.511014,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":462565592,"millis":462.565592,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":436.432448,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":""},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2156380,"millis":2.15638,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:27.218 remove failed: null\n"},{"result":{"nanos":2095413,"millis":2.095413,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:27.221 remove failed: null\n"},{"result":{"nanos":1501963,"millis":1.501963,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":1609518,"millis":1.609518,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":396156452,"millis":396.156452,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:27.231 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"\"}\n\n15:14:27.617 response time in milliseconds: 381\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 192\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c0-YGVNxRy\/gDZVeY2o\/2SzGGHwE\/8\"\n{\"message\":[{\"instancePath\":\"\/operation\",\"schemaPath\":\"#\/properties\/operation\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":587583,"millis":0.587583,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":26029430,"millis":26.02943,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":566298,"millis":0.566298,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1649705,"millis":1.649705,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1499708,"millis":1.499708,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2081525,"millis":2.081525,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":560492,"millis":0.560492,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":450114,"millis":0.450114,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":6.807842,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454267640,"refId":"[3:24]","endTime":1676454267648,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":6.807842,"passedCount":1}]},{"result":{"nanos":450287,"millis":0.450287,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":400313,"millis":0.400313,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":409670,"millis":0.40967,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2010655,"millis":2.010655,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":3024784,"millis":3.024784,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":436.432448,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454267216,"refId":"[1:3]","endTime":1676454267655,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":778.771584,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by operation as empty string ","startTime":1676454266875,"refId":"[2.8:30]","endTime":1676454267657,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":""},"exampleIndex":7},{"sectionIndex":1,"stepResults":[{"result":{"nanos":532939,"millis":0.532939,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":306813,"millis":0.306813,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":682942,"millis":0.682942,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":668245,"millis":0.668245,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":609032,"millis":0.609032,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":419161,"millis":0.419161,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":705900,"millis":0.7059,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":497907,"millis":0.497907,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":490303,"millis":0.490303,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3969052,"millis":3.969052,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:27.676 [print] invalid \n"},{"result":{"nanos":2955939,"millis":2.955939,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:27.680 [print] Invalid dataset name \n"},{"result":{"nanos":3338742,"millis":3.338742,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:27.683 [print] {\n  \"ingestion_name\": \"qa\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"SAC\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":333306,"millis":0.333306,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":326595693,"millis":326.595693,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:27.689 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 106\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"qa\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"SAC\",\"operation\":\"dataset\"}\n\n15:14:28.009 response time in milliseconds: 312\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-1GgN+nKd959IQV9JoEJ+K\/sKtYw\"\n{\"message\":\"Invalid dataset name\"}\n\n"},{"result":{"nanos":2919385,"millis":2.919385,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:28.014 [print] 400 {\n  \"message\": \"Invalid dataset name\"\n}\n Invalid dataset name \n"},{"result":{"nanos":504133,"millis":0.504133,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":598926261,"millis":598.926261,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":574.880209,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"qa","key_file":"transformer_dataset_mapping.csv","program":"SAC","operation":"dataset"},"testcase_type":"invalid","exp_msg":"Invalid dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1977928,"millis":1.977928,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:28.036 remove failed: null\n"},{"result":{"nanos":1876357,"millis":1.876357,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:28.039 remove failed: null\n"},{"result":{"nanos":328756,"millis":0.328756,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":249327,"millis":0.249327,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":486454948,"millis":486.454948,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:28.045 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 106\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"qa\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"SAC\",\"operation\":\"dataset\"}\n\n15:14:28.525 response time in milliseconds: 477\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:28 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-1GgN+nKd959IQV9JoEJ+K\/sKtYw\"\n{\"message\":\"Invalid dataset name\"}\n\n"},{"result":{"nanos":1225454,"millis":1.225454,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":73509354,"millis":73.509354,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":638021,"millis":0.638021,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":820693,"millis":0.820693,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1664671,"millis":1.664671,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1811515,"millis":1.811515,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":43562206,"millis":43.562206,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":24.009641,"callArg":{"actual_output":"Invalid dataset name","expected_output":"Invalid dataset name"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4687169,"millis":4.687169,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:14:28.579 [print] Invalid dataset name \n"},{"result":{"nanos":13270064,"millis":13.270064,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:14:28.592 [print] Invalid dataset name \n"},{"result":{"nanos":6052408,"millis":6.052408,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":24.009641,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454268574,"refId":"[1:4]","endTime":1676454268599,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":1260647,"millis":1.260647,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":49.757753,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454268550,"refId":"[3:24]","endTime":1676454268601,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":49.757753,"passedCount":1}]},{"result":{"nanos":935753,"millis":0.935753,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":766299,"millis":0.766299,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1723895,"millis":1.723895,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":3633663,"millis":3.633663,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2198475,"millis":2.198475,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":574.880209,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454268034,"refId":"[1:3]","endTime":1676454268612,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":944.455753,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by providing invalid ingestion_name ","startTime":1676454267666,"refId":"[2.9:30]","endTime":1676454268614,"exampleData":{"ingestion_name":"qa","key_file":"transformer_dataset_mapping.csv","program":"SAC","operation":"dataset"},"exampleIndex":8},{"sectionIndex":1,"stepResults":[{"result":{"nanos":495329,"millis":0.495329,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":372776,"millis":0.372776,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":704416,"millis":0.704416,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":794033,"millis":0.794033,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":695546,"millis":0.695546,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":408523,"millis":0.408523,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":727725,"millis":0.727725,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":615993,"millis":0.615993,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":572760,"millis":0.57276,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3062383,"millis":3.062383,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:28.635 [print] invalid \n"},{"result":{"nanos":2130275,"millis":2.130275,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:28.638 [print] must match pattern \"^.*.(csv)$\" \n"},{"result":{"nanos":2790597,"millis":2.790597,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:28.641 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping\",\n  \"program\": \"SAC\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":299739,"millis":0.299739,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":406678091,"millis":406.678091,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:28.645 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 132\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping\",\"program\":\"SAC\",\"operation\":\"dataset\"}\n\n15:14:29.046 response time in milliseconds: 397\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:28 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 187\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bb-6jHb1I3Qj0utJJJC\/XxEp7dkdiY\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/pattern\",\"keyword\":\"pattern\",\"params\":{\"pattern\":\"^.*.(csv)$\"},\"message\":\"must match pattern \\\"^.*.(csv)$\\\"\"}]}\n\n"},{"result":{"nanos":2993781,"millis":2.993781,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:29.051 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/key_file\",\n      \"schemaPath\": \"#\/properties\/key_file\/pattern\",\n      \"keyword\": \"pattern\",\n      \"params\": {\n        \"pattern\": \"^.*.(csv)$\"\n      },\n      \"message\": \"must match pattern \\\"^.*.(csv)$\\\"\"\n    }\n  ]\n}\n must match pattern \"^.*.(csv)$\" \n"},{"result":{"nanos":556433,"millis":0.556433,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":536475704,"millis":536.475704,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":508.695738,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping","program":"SAC","operation":"dataset"},"testcase_type":"invalid","exp_msg":"must match pattern \"^.*.(csv)$\""},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2690780,"millis":2.69078,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:29.078 remove failed: null\n"},{"result":{"nanos":2695652,"millis":2.695652,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:29.081 remove failed: null\n"},{"result":{"nanos":480953,"millis":0.480953,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":243759,"millis":0.243759,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":467643472,"millis":467.643472,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:29.089 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 132\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping\",\"program\":\"SAC\",\"operation\":\"dataset\"}\n\n15:14:29.549 response time in milliseconds: 457\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:29 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 187\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"bb-6jHb1I3Qj0utJJJC\/XxEp7dkdiY\"\n{\"message\":[{\"instancePath\":\"\/key_file\",\"schemaPath\":\"#\/properties\/key_file\/pattern\",\"keyword\":\"pattern\",\"params\":{\"pattern\":\"^.*.(csv)$\"},\"message\":\"must match pattern \\\"^.*.(csv)$\\\"\"}]}\n\n"},{"result":{"nanos":898342,"millis":0.898342,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":28903238,"millis":28.903238,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":528583,"millis":0.528583,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":784192,"millis":0.784192,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1567704,"millis":1.567704,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2245174,"millis":2.245174,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":549682,"millis":0.549682,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":467151,"millis":0.467151,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":6.142486,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454269573,"refId":"[3:24]","endTime":1676454269581,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":6.142486,"passedCount":1}]},{"result":{"nanos":383186,"millis":0.383186,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":419943,"millis":0.419943,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":529451,"millis":0.529451,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1924279,"millis":1.924279,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1882683,"millis":1.882683,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":508.695738,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454269076,"refId":"[1:3]","endTime":1676454269587,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":960.374104,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by providing without csv file as extention ","startTime":1676454268624,"refId":"[2.10:30]","endTime":1676454269589,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping","program":"SAC","operation":"dataset"},"exampleIndex":9},{"sectionIndex":1,"stepResults":[{"result":{"nanos":546914,"millis":0.546914,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":340356,"millis":0.340356,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":599328,"millis":0.599328,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":662008,"millis":0.662008,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":974946,"millis":0.974946,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":457942,"millis":0.457942,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":750438,"millis":0.750438,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":534221,"millis":0.534221,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":577568,"millis":0.577568,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1573117,"millis":1.573117,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:29.607 [print] invalid \n"},{"result":{"nanos":1567899,"millis":1.567899,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:29.609 [print] Invalid dataset name \n"},{"result":{"nanos":2065555,"millis":2.065555,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:29.611 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"QA!@##\",\n  \"operation\": \"dataset\"\n}\n \n"},{"result":{"nanos":293040,"millis":0.29304,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":816776530,"millis":816.77653,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:29.616 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 139\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"QA!@##\",\"operation\":\"dataset\"}\n\n15:14:30.428 response time in milliseconds: 808\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:30 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-OG7bfaRGxTkydROwSWP2BuCTrlQ\"\n{\"message\":\"Invalid program name\"}\n\n"},{"result":{"nanos":2683964,"millis":2.683964,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:30.431 [print] 400 {\n  \"message\": \"Invalid program name\"\n}\n Invalid dataset name \n"},{"result":{"nanos":608349,"millis":0.608349,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":934899947,"errorMessage":"js failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26","millis":934.899947,"status":"failed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"stepLog":"15:14:31.368 src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26\n* if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\njs failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26\n","callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":909.886564,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"QA!@##","operation":"dataset"},"testcase_type":"invalid","exp_msg":"Invalid dataset name"},"failedCount":1,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2641029,"millis":2.641029,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:30.456 remove failed: null\n"},{"result":{"nanos":2525999,"millis":2.525999,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:30.459 remove failed: null\n"},{"result":{"nanos":502996,"millis":0.502996,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":579807,"millis":0.579807,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":790121615,"millis":790.121615,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:30.466 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 139\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"QA!@##\",\"operation\":\"dataset\"}\n\n15:14:31.249 response time in milliseconds: 777\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:31 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 34\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"22-OG7bfaRGxTkydROwSWP2BuCTrlQ\"\n{\"message\":\"Invalid program name\"}\n\n"},{"result":{"nanos":598417,"millis":0.598417,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":112916701,"errorMessage":"js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10","millis":112.916701,"status":"failed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"stepLog":"15:14:31.365 classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n* if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\njs failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":566076,"millis":0.566076,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":682886,"millis":0.682886,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1942580,"millis":1.94258,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2336938,"millis":2.336938,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":76109491,"errorMessage":"js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49","millis":76.109491,"status":"failed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"stepLog":"15:14:31.362 classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n* if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\njs failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n","callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":7.101787,"callArg":{"actual_output":"Invalid program name","expected_output":"Invalid dataset name"},"failedCount":1,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3054796,"millis":3.054796,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:14:31.309 [print] Invalid program name \n"},{"result":{"nanos":2636889,"millis":2.636889,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:14:31.312 [print] Invalid dataset name \n"},{"result":{"nanos":1410102,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7","millis":1.410102,"status":"failed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"},"stepLog":"15:14:31.321 classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\nAnd match actual_output == expected_output\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n"}],"line":4,"description":"","durationMillis":7.101787,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7","tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454271306,"refId":"[1:4]","endTime":1676454271322,"exampleIndex":-1}],"name":"","passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":81.637971,"failed":true,"error":"js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49","tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454271278,"refId":"[3:24]","endTime":1676454271362,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":81.637971,"passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":909.886564,"failed":true,"error":"js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10","tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454270453,"refId":"[1:3]","endTime":1676454271366,"exampleIndex":-1}],"name":"","passedCount":0}]}],"line":30,"description":"","durationMillis":1765.912122,"failed":true,"error":"js failed:\n>>>>\n01: if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')\n<<<<\norg.graalvm.polyglot.PolyglotException: js failed:\n>>>>\n01: if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})\n<<<<\norg.graalvm.polyglot.PolyglotException: match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'Invalid program name'\n  'Invalid dataset name'\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_response1.feature:7\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:49\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)\n- <js>.:program(Unnamed:1)\n\nclasspath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature:10\n- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)\n- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1957)\n- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1855)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)\n- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:153)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/cqube\/SpecAPI\/spec_validator\/specTransformer.feature:26","executorName":"main","name":"Verify the Spec Transformer by invalid program name ","startTime":1676454269597,"refId":"[2.11:30]","endTime":1676454271368,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"QA!@##","operation":"dataset"},"exampleIndex":10},{"sectionIndex":1,"stepResults":[{"result":{"nanos":286024,"millis":0.286024,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":171004,"millis":0.171004,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/transformer'"}},{"result":{"nanos":204579,"millis":0.204579,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\""}},{"result":{"nanos":285866,"millis":0.285866,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":276543,"millis":0.276543,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":455938,"millis":0.455938,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":281697,"millis":0.281697,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":354680,"millis":0.35468,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":276177,"millis":0.276177,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":3411292,"millis":3.411292,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:14:31.379 [print] invalid \n"},{"result":{"nanos":1054391,"millis":1.054391,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:14:31.383 [print] Invalid operation type \n"},{"result":{"nanos":835436,"millis":0.835436,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:14:31.384 [print] {\n  \"ingestion_name\": \"event_school_statistics_students\",\n  \"key_file\": \"transformer_dataset_mapping.csv\",\n  \"program\": \"Scl_Stats\",\n  \"operation\": \"data\/\"\n}\n \n"},{"result":{"nanos":142602,"millis":0.142602,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":1032830249,"millis":1032.830249,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:14:31.386 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"data\\\/\"}\n\n15:14:32.415 response time in milliseconds: 1024\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-gyUzWpv2zHo29BdvufzSTRJYgr4\"\n{\"message\":\"Invalid operation type\"}\n\n"},{"result":{"nanos":7480367,"millis":7.480367,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:14:32.421 [print] 400 {\n  \"message\": \"Invalid operation type\"\n}\n Invalid operation type \n"},{"result":{"nanos":538179,"millis":0.538179,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":554923583,"millis":554.923583,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":537.4167,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer","request_body":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"data\/"},"testcase_type":"invalid","exp_msg":"Invalid operation type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":654017,"millis":0.654017,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:14:32.441 remove failed: null\n"},{"result":{"nanos":515378,"millis":0.515378,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:14:32.441 remove failed: null\n"},{"result":{"nanos":100879,"millis":0.100879,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":58417,"millis":0.058417,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":488193080,"millis":488.19308,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:14:32.444 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/transformer\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"ingestion_name\":\"event_school_statistics_students\",\"key_file\":\"transformer_dataset_mapping.csv\",\"program\":\"Scl_Stats\",\"operation\":\"data\\\/\"}\n\n15:14:32.928 response time in milliseconds: 482\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 09:44:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 36\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"24-gyUzWpv2zHo29BdvufzSTRJYgr4\"\n{\"message\":\"Invalid operation type\"}\n\n"},{"result":{"nanos":668022,"millis":0.668022,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":41869396,"millis":41.869396,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":603128,"millis":0.603128,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":695361,"millis":0.695361,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1456609,"millis":1.456609,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1711760,"millis":1.71176,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":17728809,"millis":17.728809,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":3.683053,"callArg":{"actual_output":"Invalid operation type","expected_output":"Invalid operation type"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1497559,"millis":1.497559,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:14:32.969 [print] Invalid operation type \n"},{"result":{"nanos":1178551,"millis":1.178551,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:14:32.970 [print] Invalid operation type \n"},{"result":{"nanos":1006943,"millis":1.006943,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":3.683053,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454272967,"refId":"[1:4]","endTime":1676454272972,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":498861,"millis":0.498861,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":22.694528,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676454272949,"refId":"[3:24]","endTime":1676454272973,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":22.694528,"passedCount":1}]},{"result":{"nanos":397848,"millis":0.397848,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":541198,"millis":0.541198,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":413287,"millis":0.413287,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2183497,"millis":2.183497,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1821681,"millis":1.821681,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":537.4167,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676454272440,"refId":"[1:3]","endTime":1676454272979,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1603.808607,"failed":false,"executorName":"main","name":"Verify the Spec Transformer by invalid operation ","startTime":1676454271372,"refId":"[2.12:30]","endTime":1676454272980,"exampleData":{"ingestion_name":"event_school_statistics_students","key_file":"transformer_dataset_mapping.csv","program":"Scl_Stats","operation":"data\/"},"exampleIndex":11}],"callDepth":0,"name":"Test Spec Transformer API","description":"","resultDate":"2023-02-15 03:14:33 pm","durationMillis":16668.669801,"passedCount":11}