{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":0,"millis":0.0,"status":"passed"},"step":{"endLine":0,"line":30,"prefix":"*","index":-1,"text":"@setup"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","packageQualifiedName":"src.test.java.cqube.SpecAPI.spec_validator.specS3","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/SpecAPI\/spec_validator\/specS3.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":38529332,"millis":38.529332,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"def actual_request = read('classpath:src\/test\/java\/cqube\/SpecAPI\/spec_validator\/s3_validation.json')"}}],"line":5,"description":"","durationMillis":38.529332,"failed":false,"tags":["setup=project","ignore"],"executorName":"main","name":"","startTime":1676456729522,"refId":"[1:5]","endTime":1676456729574,"exampleIndex":-1}],"callDepth":1,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":38.529332,"passedCount":1}]},{"result":{"nanos":737452,"millis":0.737452,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":440524,"millis":0.440524,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":862870,"millis":0.86287,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":1485419,"millis":1.485419,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":1002700,"millis":1.0027,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":8730747,"millis":8.730747,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":1395253,"millis":1.395253,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":356444,"millis":0.356444,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":308960,"millis":0.30896,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":5004228,"millis":5.004228,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:29.612 [print] invalid \n"},{"result":{"nanos":1354891,"millis":1.354891,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:29.615 [print] must have required property 'scheduled_at' \n"},{"result":{"nanos":4714147,"millis":4.714147,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:29.620 [print] {\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":270271,"millis":0.270271,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":870754222,"millis":870.754222,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:29.867 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n15:55:30.489 response time in milliseconds: 619\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:30 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":4152912,"millis":4.152912,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:30.495 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_at\"\n      },\n      \"message\": \"must have required property 'scheduled_at'\"\n    }\n  ]\n}\n must have required property 'scheduled_at' \n"},{"result":{"nanos":21793668,"millis":21.793668,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":534615140,"millis":534.61514,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":484.651161,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_at'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1323194,"millis":1.323194,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:30.566 remove failed: null\n"},{"result":{"nanos":944807,"millis":0.944807,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:30.568 remove failed: null\n"},{"result":{"nanos":369560,"millis":0.36956,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":361027,"millis":0.361027,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":297998871,"millis":297.998871,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:30.571 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 36\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_type\":\"Archive | Error\"}\n\n15:55:30.863 response time in milliseconds: 289\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:30 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 179\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b3-q7bDSX6UsLtn6lWmFBMWFAwDXoQ\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_at\"},\"message\":\"must have required property 'scheduled_at'\"}]}\n\n"},{"result":{"nanos":17288347,"millis":17.288347,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":137939666,"millis":137.939666,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":2292963,"millis":2.292963,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":2188307,"millis":2.188307,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":51238649,"millis":51.238649,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":16703460,"millis":16.70346,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":3805043,"millis":3.805043,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:31.018 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_at\\\"},\\\"message\\\":\\\"must have required property 'scheduled_at'\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"missingProperty\\\":\\\"scheduled_at\\\"}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_at\"\n      },\n      \"message\": \"must have required property 'scheduled_at'\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":1958065,"millis":1.958065,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":1649757,"millis":1.649757,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":79.836244,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456730940,"refId":"[3:24]","endTime":1676456731022,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":79.836244,"passedCount":1}]},{"result":{"nanos":1480961,"millis":1.480961,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1254100,"millis":1.2541,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":2486553,"millis":2.486553,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":20675644,"millis":20.675644,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2528431,"millis":2.528431,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":484.651161,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456730565,"refId":"[1:3]","endTime":1676456731052,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1457.979848,"failed":false,"executorName":"main","name":"Verify the spec s3 api with invalid request body","startTime":1676456729582,"refId":"[2.1:30]","endTime":1676456731052,"exampleData":{"scheduled_type":"Archive | Error"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":523791,"millis":0.523791,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":339250,"millis":0.33925,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":582866,"millis":0.582866,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":752052,"millis":0.752052,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":798992,"millis":0.798992,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":240026,"millis":0.240026,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":250833,"millis":0.250833,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":230532,"millis":0.230532,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":172981,"millis":0.172981,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1307947,"millis":1.307947,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:31.066 [print] invalid \n"},{"result":{"nanos":1446997,"millis":1.446997,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:31.067 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":1640538,"millis":1.640538,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:31.069 [print] {\n  \"scheduled_at\": \" \",\n  \"scheduled_type\": \"Archive\"\n}\n \n"},{"result":{"nanos":185964,"millis":0.185964,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":567067167,"millis":567.067167,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:31.071 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive\"}\n\n15:55:31.627 response time in milliseconds: 552\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:31 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":4354710,"millis":4.35471,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:31.641 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_at\",\n      \"schemaPath\": \"#\/properties\/scheduled_at\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":798296,"millis":0.798296,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":436214271,"millis":436.214271,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":368.661004,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":" ","scheduled_type":"Archive"},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3526537,"millis":3.526537,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:31.711 remove failed: null\n"},{"result":{"nanos":11808339,"millis":11.808339,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:31.724 remove failed: null\n"},{"result":{"nanos":209733,"millis":0.209733,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":165740,"millis":0.16574,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":310015183,"millis":310.015183,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:31.726 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\" \",\"scheduled_type\":\"Archive\"}\n\n15:55:32.032 response time in milliseconds: 300\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 198\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"c6-7rp7y8Cbjpg4\/HHyPwxLsVUxtfA\"\n{\"message\":[{\"instancePath\":\"\/scheduled_at\",\"schemaPath\":\"#\/properties\/scheduled_at\/shouldnotnull\",\"keyword\":\"shouldnotnull\",\"params\":{},\"message\":\"must pass \\\"shouldnotnull\\\" keyword validation\"}]}\n\n"},{"result":{"nanos":611918,"millis":0.611918,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":26086560,"millis":26.08656,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":334556,"millis":0.334556,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":348004,"millis":0.348004,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1053268,"millis":1.053268,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1348747,"millis":1.348747,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5185877,"millis":5.185877,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:32.060 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_at\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_at\/shouldnotnull\\\",\\\"keyword\\\":\\\"shouldnotnull\\\",\\\"params\\\":{},\\\"message\\\":\\\"must pass \\\\\\\"shouldnotnull\\\\\\\" keyword validation\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_at\",\n      \"schemaPath\": \"#\/properties\/scheduled_at\/shouldnotnull\",\n      \"keyword\": \"shouldnotnull\",\n      \"params\": {\n      },\n      \"message\": \"must pass \\\"shouldnotnull\\\" keyword validation\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":470192,"millis":0.470192,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":276201,"millis":0.276201,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":9.016845,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456732051,"refId":"[3:24]","endTime":1676456732061,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":9.016845,"passedCount":1}]},{"result":{"nanos":13845393,"millis":13.845393,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":247712,"millis":0.247712,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":278449,"millis":0.278449,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1062014,"millis":1.062014,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":803426,"millis":0.803426,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":368.661004,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456731708,"refId":"[1:3]","endTime":1676456732078,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1016.907213,"failed":false,"executorName":"main","name":"Verify the spec s3 api with empty scheduled property in the request body","startTime":1676456731059,"refId":"[2.2:30]","endTime":1676456732079,"exampleData":{"scheduled_at":" ","scheduled_type":"Archive"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":211162,"millis":0.211162,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":99504,"millis":0.099504,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":338143,"millis":0.338143,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":285559,"millis":0.285559,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":759431,"millis":0.759431,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":223243,"millis":0.223243,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":273034,"millis":0.273034,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":203408,"millis":0.203408,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":217144,"millis":0.217144,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":608036,"millis":0.608036,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:32.098 [print] invalid \n"},{"result":{"nanos":627952,"millis":0.627952,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:32.099 [print] Unexpected end of expression \n"},{"result":{"nanos":794182,"millis":0.794182,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:32.100 [print] {\n  \"scheduled_at\": \"scheduled\",\n  \"scheduled_type\": \"Error\"\n}\n \n"},{"result":{"nanos":134027,"millis":0.134027,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":302438125,"millis":302.438125,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:32.101 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Error\"}\n\n15:55:32.400 response time in milliseconds: 297\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":2879915,"millis":2.879915,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:32.405 [print] 400 {\n  \"message\": \"Unexpected end of expression\"\n}\n Unexpected end of expression \n"},{"result":{"nanos":576782,"millis":0.576782,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":536799756,"millis":536.799756,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":500.588471,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"scheduled","scheduled_type":"Error"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2300040,"millis":2.30004,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:32.442 remove failed: null\n"},{"result":{"nanos":2179283,"millis":2.179283,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:32.445 remove failed: null\n"},{"result":{"nanos":376186,"millis":0.376186,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":305210,"millis":0.30521,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":386830879,"millis":386.830879,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:32.452 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"scheduled\",\"scheduled_type\":\"Error\"}\n\n15:55:32.831 response time in milliseconds: 376\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":598470,"millis":0.59847,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":103975846,"millis":103.975846,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":811371,"millis":0.811371,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":828779,"millis":0.828779,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1818788,"millis":1.818788,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2151819,"millis":2.151819,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5487138,"millis":5.487138,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:32.903 [print] {\n  \"message\": null,\n  \"pass\": true\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":\\\"Unexpected end of expression\\\"}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | data types don't match (STRING:LIST)\\n    'Unexpected end of expression'\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"Unexpected end of expression\"\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":33458908,"millis":33.458908,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":8.668007,"callArg":{"actual_output":"Unexpected end of expression","expected_output":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":5260438,"millis":5.260438,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:55:32.933 [print] Unexpected end of expression \n"},{"result":{"nanos":2682696,"millis":2.682696,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:55:32.936 [print] Unexpected end of expression \n"},{"result":{"nanos":724873,"millis":0.724873,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":8.668007,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456732928,"refId":"[1:4]","endTime":1676456732937,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":662827,"millis":0.662827,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":45.21963,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456732891,"refId":"[3:24]","endTime":1676456732938,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":45.21963,"passedCount":1}]},{"result":{"nanos":302153,"millis":0.302153,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":240020,"millis":0.24002,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":270089,"millis":0.270089,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":1997284,"millis":1.997284,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1213011,"millis":1.213011,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":500.588471,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456732440,"refId":"[1:3]","endTime":1676456732943,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":847.469403,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676456732094,"refId":"[2.3:30]","endTime":1676456732944,"exampleData":{"scheduled_at":"scheduled","scheduled_type":"Error"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":249189,"millis":0.249189,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":149411,"millis":0.149411,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":318002,"millis":0.318002,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":350761,"millis":0.350761,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":339898,"millis":0.339898,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":177843,"millis":0.177843,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":3261849,"millis":3.261849,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":280947,"millis":0.280947,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":218735,"millis":0.218735,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":886715,"millis":0.886715,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:32.956 [print] invalid \n"},{"result":{"nanos":2910320,"millis":2.91032,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:32.959 [print] Unexpected end of expression \n"},{"result":{"nanos":1767306,"millis":1.767306,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:32.960 [print] {\n  \"scheduled_at\": \"123445\",\n  \"scheduled_type\": \"Archive\"\n}\n \n"},{"result":{"nanos":501172,"millis":0.501172,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":323978534,"millis":323.978534,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:32.966 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive\"}\n\n15:55:33.283 response time in milliseconds: 311\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:33 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":5511851,"millis":5.511851,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:33.290 [print] 400 {\n  \"message\": \"Unexpected end of expression\"\n}\n Unexpected end of expression \n"},{"result":{"nanos":691746,"millis":0.691746,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":1559352922,"millis":1559.352922,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":1516.371679,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"123445","scheduled_type":"Archive"},"testcase_type":"invalid","exp_msg":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1825130,"millis":1.82513,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:33.335 remove failed: null\n"},{"result":{"nanos":1728126,"millis":1.728126,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:33.337 remove failed: null\n"},{"result":{"nanos":211597,"millis":0.211597,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":159564,"millis":0.159564,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":1477576618,"millis":1477.576618,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:33.341 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"123445\",\"scheduled_type\":\"Archive\"}\n\n15:55:34.812 response time in milliseconds: 1468\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:34 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 42\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"2a-vnLuGLTOsO+C9MXy+6amCmahpRM\"\n{\"message\":\"Unexpected end of expression\"}\n\n"},{"result":{"nanos":449734,"millis":0.449734,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":25660412,"millis":25.660412,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":200521,"millis":0.200521,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":164737,"millis":0.164737,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":385843,"millis":0.385843,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":492899,"millis":0.492899,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":2000290,"millis":2.00029,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:34.831 [print] {\n  \"message\": null,\n  \"pass\": true\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":\\\"Unexpected end of expression\\\"}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | data types don't match (STRING:LIST)\\n    'Unexpected end of expression'\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"Unexpected end of expression\"\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":9368646,"millis":9.368646,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_response1.feature","loopIndex":-1,"callDepth":3,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":2.604154,"callArg":{"actual_output":"Unexpected end of expression","expected_output":"Unexpected end of expression"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_response1","relativePath":"src\/test\/java\/cqube\/helpers\/validate_response1.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1203927,"millis":1.203927,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"print actual_output"},"stepLog":"15:55:34.839 [print] Unexpected end of expression \n"},{"result":{"nanos":1010739,"millis":1.010739,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print expected_output"},"stepLog":"15:55:34.840 [print] Unexpected end of expression \n"},{"result":{"nanos":389488,"millis":0.389488,"status":"passed"},"step":{"line":7,"prefix":"And","index":2,"text":"match actual_output == expected_output"}}],"line":4,"description":"","durationMillis":2.604154,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456734838,"refId":"[1:4]","endTime":1676456734841,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":234390,"millis":0.23439,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":12.847326,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456734828,"refId":"[3:24]","endTime":1676456734841,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":12.847326,"passedCount":1}]},{"result":{"nanos":153010,"millis":0.15301,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":150299,"millis":0.150299,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":453234,"millis":0.453234,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2818056,"millis":2.818056,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":5185899,"millis":5.185899,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":1516.371679,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456733333,"refId":"[1:3]","endTime":1676456734851,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":1900.947201,"failed":false,"executorName":"main","name":"Verify the spec s3 api with scheduled invalid value in the request body","startTime":1676456732948,"refId":"[2.4:30]","endTime":1676456734852,"exampleData":{"scheduled_at":"123445","scheduled_type":"Archive"},"exampleIndex":3},{"sectionIndex":1,"stepResults":[{"result":{"nanos":162180,"millis":0.16218,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":90138,"millis":0.090138,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":208211,"millis":0.208211,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":288899,"millis":0.288899,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":315132,"millis":0.315132,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":160272,"millis":0.160272,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":223537,"millis":0.223537,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":191667,"millis":0.191667,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":174740,"millis":0.17474,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":1098898,"millis":1.098898,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:34.859 [print] invalid \n"},{"result":{"nanos":1165393,"millis":1.165393,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:34.860 [print] must have required property 'scheduled_type' \n"},{"result":{"nanos":1062426,"millis":1.062426,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:34.861 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\"\n}\n \n"},{"result":{"nanos":117842,"millis":0.117842,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":570181588,"millis":570.181588,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:34.863 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n15:55:35.429 response time in milliseconds: 562\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":3170073,"millis":3.170073,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:35.435 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_type\"\n      },\n      \"message\": \"must have required property 'scheduled_type'\"\n    }\n  ]\n}\n must have required property 'scheduled_type' \n"},{"result":{"nanos":717146,"millis":0.717146,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":391819709,"millis":391.819709,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":359.712152,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"testcase_type":"invalid","exp_msg":"must have required property 'scheduled_type'"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1240928,"millis":1.240928,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:35.463 remove failed: null\n"},{"result":{"nanos":1253912,"millis":1.253912,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:35.464 remove failed: null\n"},{"result":{"nanos":302566,"millis":0.302566,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":285699,"millis":0.285699,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":305669953,"millis":305.669953,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:35.483 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 38\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\"}\n\n15:55:35.769 response time in milliseconds: 283\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 183\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"b7-Qs575FsdTqccdSU1WHvvC5YIVDE\"\n{\"message\":[{\"instancePath\":\"\",\"schemaPath\":\"#\/required\",\"keyword\":\"required\",\"params\":{\"missingProperty\":\"scheduled_type\"},\"message\":\"must have required property 'scheduled_type'\"}]}\n\n"},{"result":{"nanos":499125,"millis":0.499125,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":37597987,"millis":37.597987,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":653308,"millis":0.653308,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":957502,"millis":0.957502,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":2486409,"millis":2.486409,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":3271310,"millis":3.27131,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":6353966,"millis":6.353966,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:35.807 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\\\",\\\"schemaPath\\\":\\\"#\/required\\\",\\\"keyword\\\":\\\"required\\\",\\\"params\\\":{\\\"missingProperty\\\":\\\"scheduled_type\\\"},\\\"message\\\":\\\"must have required property 'scheduled_type'\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"missingProperty\\\":\\\"scheduled_type\\\"}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\",\n      \"schemaPath\": \"#\/required\",\n      \"keyword\": \"required\",\n      \"params\": {\n        \"missingProperty\": \"scheduled_type\"\n      },\n      \"message\": \"must have required property 'scheduled_type'\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":739275,"millis":0.739275,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":531758,"millis":0.531758,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":14.993528,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456735793,"refId":"[3:24]","endTime":1676456735809,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":14.993528,"passedCount":1}]},{"result":{"nanos":468104,"millis":0.468104,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1149836,"millis":1.149836,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":1395468,"millis":1.395468,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":5503341,"millis":5.503341,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":4345233,"millis":4.345233,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":359.712152,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456735462,"refId":"[1:3]","endTime":1676456735825,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":971.147851,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type in the request body","startTime":1676456734855,"refId":"[2.5:30]","endTime":1676456735828,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *"},"exampleIndex":4},{"sectionIndex":1,"stepResults":[{"result":{"nanos":639906,"millis":0.639906,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":294865,"millis":0.294865,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":593069,"millis":0.593069,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":726731,"millis":0.726731,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":687907,"millis":0.687907,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":424450,"millis":0.42445,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":829229,"millis":0.829229,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":544833,"millis":0.544833,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":540704,"millis":0.540704,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2868021,"millis":2.868021,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:35.853 [print] invalid \n"},{"result":{"nanos":3922470,"millis":3.92247,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:35.857 [print] must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":2985094,"millis":2.985094,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:35.860 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \" \"\n}\n \n"},{"result":{"nanos":442246,"millis":0.442246,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":308648583,"millis":308.648583,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:35.866 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n15:55:36.169 response time in milliseconds: 298\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":2753902,"millis":2.753902,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:36.173 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must pass \"shouldnotnull\" keyword validation \n"},{"result":{"nanos":909466,"millis":0.909466,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":411623675,"millis":411.623675,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":380.058741,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"testcase_type":"invalid","exp_msg":"must pass \"shouldnotnull\" keyword validation"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2019562,"millis":2.019562,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:36.204 remove failed: null\n"},{"result":{"nanos":1941375,"millis":1.941375,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:36.207 remove failed: null\n"},{"result":{"nanos":306817,"millis":0.306817,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":228720,"millis":0.22872,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":335767058,"millis":335.767058,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:36.222 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\" \"}\n\n15:55:36.542 response time in milliseconds: 317\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":508580,"millis":0.50858,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":34749645,"millis":34.749645,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":667530,"millis":0.66753,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":885638,"millis":0.885638,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1779649,"millis":1.779649,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":2427307,"millis":2.427307,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":5153843,"millis":5.153843,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:36.577 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":799824,"millis":0.799824,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":644174,"millis":0.644174,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":12.357965,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456736565,"refId":"[3:24]","endTime":1676456736579,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":12.357965,"passedCount":1}]},{"result":{"nanos":345319,"millis":0.345319,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":285489,"millis":0.285489,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":250021,"millis":0.250021,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2158115,"millis":2.158115,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1498040,"millis":1.49804,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":380.058741,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456736202,"refId":"[1:3]","endTime":1676456736585,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":739.435151,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676456735843,"refId":"[2.6:30]","endTime":1676456736586,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":" "},"exampleIndex":5},{"sectionIndex":1,"stepResults":[{"result":{"nanos":421296,"millis":0.421296,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":289860,"millis":0.28986,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":531118,"millis":0.531118,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":637376,"millis":0.637376,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":775552,"millis":0.775552,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":413790,"millis":0.41379,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":458312,"millis":0.458312,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":484220,"millis":0.48422,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":552527,"millis":0.552527,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":2045850,"millis":2.04585,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:36.604 [print] invalid \n"},{"result":{"nanos":1948476,"millis":1.948476,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:36.606 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":2117229,"millis":2.117229,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:36.608 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":330090,"millis":0.33009,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":315303039,"millis":315.303039,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:36.614 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:55:36.924 response time in milliseconds: 309\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":784491,"millis":0.784491,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:36.925 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":108874,"millis":0.108874,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":369431696,"millis":369.431696,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":363.148229,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":731633,"millis":0.731633,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:36.931 remove failed: null\n"},{"result":{"nanos":708886,"millis":0.708886,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:36.932 remove failed: null\n"},{"result":{"nanos":124434,"millis":0.124434,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":296124424,"millis":296.124424,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:36.934 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:55:37.227 response time in milliseconds: 284\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:37 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":488009,"millis":0.488009,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":62238776,"millis":62.238776,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":282303,"millis":0.282303,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":303866,"millis":0.303866,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":6955928,"millis":6.955928,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":885128,"millis":0.885128,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":12536911,"millis":12.536911,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:37.290 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":374384,"millis":0.374384,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":196605,"millis":0.196605,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":21.535125,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456737269,"refId":"[3:24]","endTime":1676456737291,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":21.535125,"passedCount":1}]},{"result":{"nanos":172635,"millis":0.172635,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":155045,"millis":0.155045,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":164541,"millis":0.164541,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":865695,"millis":0.865695,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":1298851,"millis":1.298851,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":363.148229,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456736930,"refId":"[1:3]","endTime":1676456737295,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":696.633796,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as multiple values","startTime":1676456736595,"refId":"[2.7:30]","endTime":1676456737295,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":6},{"sectionIndex":1,"stepResults":[{"result":{"nanos":218084,"millis":0.218084,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url \"https:\/\/cqube-qa.tibilprojects.com\/\""}},{"result":{"nanos":128447,"millis":0.128447,"status":"passed"},"step":{"line":11,"prefix":"Given","index":1,"text":"path '\/spec\/s3'"}},{"result":{"nanos":254640,"millis":0.25464,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def api_url = \"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\""}},{"result":{"nanos":278161,"millis":0.278161,"status":"passed"},"step":{"line":13,"prefix":"*","index":3,"text":"def testcase_type = __row.testcase_type"}},{"result":{"nanos":328644,"millis":0.328644,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"def exp_msg = __row.message"}},{"result":{"nanos":175120,"millis":0.17512,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def req_json = __row"}},{"result":{"nanos":226258,"millis":0.226258,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"remove __row.scenario"}},{"result":{"nanos":202776,"millis":0.202776,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"remove req_json.message"}},{"result":{"nanos":117182,"millis":0.117182,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"remove req_json.testcase_type"}},{"result":{"nanos":595984,"millis":0.595984,"status":"passed"},"step":{"line":19,"prefix":"*","index":9,"text":"print testcase_type"},"stepLog":"15:55:37.315 [print] invalid \n"},{"result":{"nanos":926805,"millis":0.926805,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"print exp_msg"},"stepLog":"15:55:37.316 [print] must be equal to one of the allowed values \n"},{"result":{"nanos":625493,"millis":0.625493,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"print req_json"},"stepLog":"15:55:37.316 [print] {\n  \"scheduled_at\": \"0 0\/2 * 1\/1 * ? *\",\n  \"scheduled_type\": \"Archive | Error\"\n}\n \n"},{"result":{"nanos":98763,"millis":0.098763,"status":"passed"},"step":{"line":22,"prefix":"And","index":12,"text":"request req_json"}},{"result":{"nanos":337667203,"millis":337.667203,"status":"passed"},"step":{"line":23,"prefix":"When","index":13,"text":"method POST"},"stepLog":"15:55:37.318 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:55:37.654 response time in milliseconds: 334\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:37 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":1781155,"millis":1.781155,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print responseStatus , response , exp_msg"},"stepLog":"15:55:37.656 [print] 400 {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n must be equal to one of the allowed values \n"},{"result":{"nanos":206851,"millis":0.206851,"status":"passed"},"step":{"line":25,"prefix":"*","index":15,"text":"if (testcase_type == null && exp_msg == null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_basic_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json})"}},{"result":{"nanos":357970355,"millis":357.970355,"status":"passed"},"step":{"line":26,"prefix":"*","index":16,"text":"if (testcase_type != null && exp_msg != null) karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@validate',{\"api_url\":api_url,\"request_body\":req_json,\"testcase_type\":testcase_type,\"exp_msg\":exp_msg})"},"callResults":[{"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":343.756241,"callArg":{"api_url":"https:\/\/cqube-qa.tibilprojects.com\/spec\/s3","request_body":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"testcase_type":"invalid","exp_msg":"must be equal to one of the allowed values"},"failedCount":0,"packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":758046,"millis":0.758046,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"remove req_json.message"},"stepLog":"15:55:37.664 remove failed: null\n"},{"result":{"nanos":275625,"millis":0.275625,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"remove req_json.testcase_type"},"stepLog":"15:55:37.664 remove failed: null\n"},{"result":{"nanos":529599,"millis":0.529599,"status":"passed"},"step":{"line":6,"prefix":"Given","index":2,"text":"url api_url"}},{"result":{"nanos":373246,"millis":0.373246,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request req_json"}},{"result":{"nanos":304397704,"millis":304.397704,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method POST"},"stepLog":"15:55:37.670 request:\n1 > POST https:\/\/cqube-qa.tibilprojects.com\/spec\/s3\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 73\n1 > Host: cqube-qa.tibilprojects.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"scheduled_at\":\"0 0\\\/2 * 1\\\/1 * ? *\",\"scheduled_type\":\"Archive | Error\"}\n\n15:55:37.969 response time in milliseconds: 296\n1 < 400\n1 < Server: nginx\/1.18.0 (Ubuntu)\n1 < Date: Wed, 15 Feb 2023 10:25:37 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 215\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"d7-zQSzbDXBCBBDe1CU\/vlaQ3\/GaUg\"\n{\"message\":[{\"instancePath\":\"\/scheduled_type\",\"schemaPath\":\"#\/properties\/scheduled_type\/enum\",\"keyword\":\"enum\",\"params\":{\"allowedValues\":[\"Archive\",\"Error\"]},\"message\":\"must be equal to one of the allowed values\"}]}\n\n"},{"result":{"nanos":502431,"millis":0.502431,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"if (responseStatus == 200 && testcase_type == \"valid\")  karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@valid_api')"}},{"result":{"nanos":25420350,"millis":25.42035,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"if (responseStatus == 400 && testcase_type == \"invalid\") karate.call('classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature@invalid_api')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","packageQualifiedName":"src.test.java.cqube.helpers.validate_datadriven_api","loopIndex":-1,"relativePath":"src\/test\/java\/cqube\/helpers\/validate_datadriven_api.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":602039,"millis":0.602039,"status":"passed"},"step":{"endLine":30,"line":25,"prefix":"*","docString":"{\n    \"message\": \"#string\"\n}","index":0,"text":"def resp1 ="}},{"result":{"nanos":1715288,"millis":1.715288,"status":"passed"},"step":{"endLine":46,"line":31,"prefix":"*","docString":"{\n    \"message\": [\n        {\n            \"instancePath\": \"#ignore\",\n            \"schemaPath\": \"#ignore\",\n            \"keyword\": \"#ignore\",\n            \"params\": {\n                \"type\": \"#string\"\n            },\n            \"message\": \"#string\"\n        }\n    ]\n}","index":1,"text":"def resp2 ="}},{"result":{"nanos":1436367,"millis":1.436367,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"def result1 =  karate.match(response,resp1)"}},{"result":{"nanos":1744415,"millis":1.744415,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"def result2 = karate.match(response,resp2)"}},{"result":{"nanos":2023655,"millis":2.023655,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"print result1 , result2 , response , resp1 , resp2"},"stepLog":"15:55:37.995 [print] {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":\\\"#string\\\"}\\n\\n    $.message | not a string (LIST:STRING)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    '#string'\\n\",\n  \"pass\": false\n}\n {\n  \"message\": \"match failed: EQUALS\\n  $ | not equal | match failed for name: 'message' (MAP:MAP)\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]}\\n  {\\\"message\\\":[{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]}\\n\\n    $.message | not equal | array match failed at index 0 (LIST:LIST)\\n    [{\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}]\\n    [{\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}]\\n\\n      $.message[0] | not equal | match failed for name: 'params' (MAP:MAP)\\n      {\\\"instancePath\\\":\\\"\/scheduled_type\\\",\\\"schemaPath\\\":\\\"#\/properties\/scheduled_type\/enum\\\",\\\"keyword\\\":\\\"enum\\\",\\\"params\\\":{\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]},\\\"message\\\":\\\"must be equal to one of the allowed values\\\"}\\n      {\\\"instancePath\\\":\\\"#ignore\\\",\\\"schemaPath\\\":\\\"#ignore\\\",\\\"keyword\\\":\\\"#ignore\\\",\\\"params\\\":{\\\"type\\\":\\\"#string\\\"},\\\"message\\\":\\\"#string\\\"}\\n\\n        $.message[0].params | not equal | actual does not contain key - 'type' (MAP:MAP)\\n        {\\\"allowedValues\\\":[\\\"Archive\\\",\\\"Error\\\"]}\\n        {\\\"type\\\":\\\"#string\\\"}\\n\\n\",\n  \"pass\": false\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"\/scheduled_type\",\n      \"schemaPath\": \"#\/properties\/scheduled_type\/enum\",\n      \"keyword\": \"enum\",\n      \"params\": {\n        \"allowedValues\": [\n          \"Archive\",\n          \"Error\"\n        ]\n      },\n      \"message\": \"must be equal to one of the allowed values\"\n    }\n  ]\n}\n {\n  \"message\": \"#string\"\n}\n {\n  \"message\": [\n    {\n      \"instancePath\": \"#ignore\",\n      \"schemaPath\": \"#ignore\",\n      \"keyword\": \"#ignore\",\n      \"params\": {\n        \"type\": \"#string\"\n      },\n      \"message\": \"#string\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":531495,"millis":0.531495,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"if (result1.pass == true) karate.call('validate_response1.feature@validate',{\"actual_output\":response.message,\"expected_output\":exp_msg})"}},{"result":{"nanos":327236,"millis":0.327236,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"if (result2.pass == true) karate.call('validate_response2.feature@validate',{\"actual_output\":response.message[0].message,\"expected_output\":exp_msg})"}}],"line":24,"description":"","durationMillis":8.380495,"failed":false,"tags":["invalid_api","ignore"],"executorName":"main","name":"Check invalid response","startTime":1676456737986,"refId":"[3:24]","endTime":1676456737996,"exampleIndex":-1}],"callDepth":2,"name":"","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":8.380495,"passedCount":1}]},{"result":{"nanos":335483,"millis":0.335483,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"if (responseStatus == 200 && testcase_type == \"invalid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":6062310,"millis":6.06231,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"if (responseStatus == 400 && testcase_type == \"valid\") karate.fail('Expected result is not matched with actual result')"}},{"result":{"nanos":404609,"millis":0.404609,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"if (responseStatus == 500 || responseStatus == 501 || responseStatus == 502 || responseStatus == 503 || responseStatus == 504 ) karate.fail('Server error')"}},{"result":{"nanos":2539925,"millis":2.539925,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"match karate.range(201,300) !contains responseStatus"}},{"result":{"nanos":2156913,"millis":2.156913,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"match karate.range(401,451) !contains responseStatus"}}],"line":3,"description":"","durationMillis":343.756241,"failed":false,"tags":["ignore","validate"],"executorName":"main","name":"","startTime":1676456737663,"refId":"[1:3]","endTime":1676456738011,"exampleIndex":-1}],"name":"","passedCount":1}]}],"line":30,"description":"","durationMillis":701.801921,"failed":false,"executorName":"main","name":"Verify the spec s3 api without scheduled_type as empty string","startTime":1676456737302,"refId":"[2.8:30]","endTime":1676456738015,"exampleData":{"scheduled_at":"0 0\/2 * 1\/1 * ? *","scheduled_type":"Archive | Error"},"exampleIndex":7}],"callDepth":0,"name":"Test Spec S3 API","description":"","resultDate":"2023-02-15 03:55:38 pm","durationMillis":8332.322384,"passedCount":8}